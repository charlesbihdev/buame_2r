import{K as b,r as h,j as e,L as S,$ as g,S as w}from"./app-Ba30dINA.js";import{C as _}from"./ConfirmDialog-B8Zia1yf.js";import{D}from"./DataTable-JbcDZWhz.js";import{S as j}from"./StatusBadge--Qdoojr-.js";import{B as r}from"./button-BklDNRGl.js";import{A as C}from"./admin-layout-DrN0YF5r.js";import{P as k,S as L}from"./square-pen-BxvZI8ub.js";import{S as P}from"./shield-CYUkhUuN.js";import{P as $}from"./power-C_HO_gfo.js";import"./dialog-5n4a58sF.js";import"./index-CBLL6xGm.js";import"./index-0H4sW6AJ.js";import"./index-Bp-0nZeF.js";import"./Combination-BB0qt5Ys.js";import"./index-ENN8kYbh.js";import"./index-eYzbHvBX.js";import"./createLucideIcon-BC2OoQ2K.js";import"./x-Bm-g2bZ_.js";import"./chevron-left-Bvu-ihtk.js";import"./chevron-right-DWDNh77a.js";import"./app-logo-CfiWmr3p.js";import"./toast-provider-Bf78Hp7d.js";import"./users-DuV3MhSs.js";import"./package-16PS_B8-.js";import"./star-BNSHVtWT.js";import"./credit-card-C18CI1H-.js";import"./message-square-BTa-vIRR.js";import"./log-out-WC0AsrLh.js";import"./menu-D6dIj76T.js";function me({admins:n}){var d,l,c,u,p,x;const{admin:s}=b().props,[a,i]=h.useState({open:!1,admin:null}),[v,o]=h.useState(!1),m=t=>t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",y=t=>{t.id!==s.id&&i({open:!0,admin:t})},A=()=>{a.admin&&(o(!0),w.post(route("admin.admins.toggle-active",a.admin.id),{},{preserveScroll:!0,onFinish:()=>{o(!1),i({open:!1,admin:null})}}))},N=[{key:"name",label:"Admin",render:t=>{var f;return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"bg-primary/10 flex h-10 w-10 items-center justify-center rounded-full",children:e.jsx("span",{className:"text-primary text-sm font-bold",children:(f=t.name)==null?void 0:f.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-foreground font-medium",children:[t.name,t.id===s.id&&e.jsx("span",{className:"text-muted-foreground ml-2 text-xs",children:"(You)"})]}),e.jsx("p",{className:"text-muted-foreground text-xs",children:t.email})]})]})}},{key:"role",label:"Role",render:t=>e.jsx(j,{status:t.role,type:"role"})},{key:"status",label:"Status",render:t=>e.jsx(j,{status:t.is_active,type:"user"})},{key:"last_login",label:"Last Login",render:t=>e.jsx("span",{className:"text-muted-foreground text-sm",children:m(t.last_login_at)})},{key:"created_at",label:"Created",render:t=>e.jsx("span",{className:"text-muted-foreground text-sm",children:m(t.created_at)})},{key:"actions",label:"Actions",render:t=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{href:route("admin.admins.edit",t.id),children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>y(t),disabled:t.id===s.id,title:t.id===s.id?"You can't deactivate yourself":"",children:e.jsx($,{className:`h-4 w-4 ${t.is_active?"text-green-500":"text-muted-foreground"}`})})]})}];return e.jsxs(C,{children:[e.jsx(S,{title:"Admin Management"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-foreground text-2xl font-bold",children:"Admin Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage administrator accounts"})]}),e.jsx(g,{href:route("admin.admins.create"),children:e.jsxs(r,{children:[e.jsx(k,{className:"mr-2 h-4 w-4"}),"Add Admin"]})})]}),e.jsx(D,{columns:N,data:n.data,pagination:n,emptyMessage:"No administrators found",emptyIcon:P})]}),e.jsx(_,{open:a.open,onOpenChange:t=>i({...a,open:t}),title:(d=a.admin)!=null&&d.is_active?"Deactivate Admin":"Activate Admin",description:(l=a.admin)!=null&&l.is_active?`Are you sure you want to deactivate "${(c=a.admin)==null?void 0:c.name}"? They will not be able to access the admin panel.`:`Are you sure you want to activate "${(u=a.admin)==null?void 0:u.name}"? They will regain access to the admin panel.`,confirmLabel:(p=a.admin)!=null&&p.is_active?"Deactivate":"Activate",variant:(x=a.admin)!=null&&x.is_active?"destructive":"default",onConfirm:A,loading:v})]})}export{me as default};
