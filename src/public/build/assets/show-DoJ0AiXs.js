import{j as e,r as p,$ as y,L as U,S}from"./app-Ba30dINA.js";import{R as I}from"./review-section-DYUuq4eZ.js";import{C as D}from"./caution-banner-bNWkC7Ml.js";import{S as F}from"./search-CNSP-VPv.js";import{R as G}from"./refresh-cw-DhqGOty4.js";import{P as w}from"./package-16PS_B8-.js";import{S as L}from"./store-ChCWJn3p.js";import{P as R}from"./phone-DV_DRxo6.js";import{M as C}from"./message-circle-D8H7SOt5.js";import{S as B}from"./share-2-Ckilv25K.js";import{C as $}from"./chevron-left-Bvu-ihtk.js";import{C as V}from"./check-SC-ivXke.js";import{C as z}from"./copy-DNE_VEZV.js";import{M as _}from"./map-pin-DUujI-Gy.js";import{T as A}from"./truck-BGKCG9hd.js";import{E as T}from"./eye-BVkhye6v.js";import{C as M}from"./chevron-right-DWDNh77a.js";import{c as H}from"./createLucideIcon-BC2OoQ2K.js";import{G as W}from"./grid-3x3-N_b6yATm.js";import{X as O}from"./x-Bm-g2bZ_.js";import"./button-BklDNRGl.js";import"./star-BNSHVtWT.js";import"./input-BXb7EcqQ.js";import"./label-CshsDb17.js";import"./index-ENN8kYbh.js";import"./textarea-C1Ksj8k2.js";import"./loader-circle-BL4EPFEI.js";import"./message-square-BTa-vIRR.js";import"./index-Bp-0nZeF.js";import"./chevron-down-BpvfJPV1.js";import"./shield-check-BF3h_G35.js";import"./chevron-up-DTE1lfvZ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],q=H("LayoutList",Q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],X=H("SlidersHorizontal",K);function Z({hasFilters:r,onClearFilters:s,storeName:a}){return r?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-gray-200 bg-white px-6 py-16 text-center dark:border-gray-700 dark:bg-[var(--card)]",children:[e.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-amber-100 dark:bg-amber-900/30",children:e.jsx(F,{className:"h-10 w-10 text-amber-600 dark:text-amber-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-bold text-[var(--foreground)] dark:text-white",children:"No products match your search"}),e.jsx("p",{className:"mb-6 max-w-md text-gray-600 dark:text-gray-400",children:"We couldn't find any products matching your current filters. Try adjusting your search criteria or browse all products."}),e.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-[var(--primary)] px-6 py-3 font-semibold text-[var(--primary-foreground)] transition-all hover:bg-[var(--buame-primary-dark)] hover:shadow-lg hover:shadow-[var(--primary)]/25",children:[e.jsx(G,{className:"h-4 w-4"}),"Clear all filters"]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-gray-200 bg-white px-6 py-16 text-center dark:border-gray-700 dark:bg-[var(--card)]",children:[e.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800",children:e.jsx(w,{className:"h-10 w-10 text-gray-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-bold text-[var(--foreground)] dark:text-white",children:"No products yet"}),e.jsxs("p",{className:"max-w-md text-gray-600 dark:text-gray-400",children:[a," hasn't added any products yet. Check back later for new arrivals!"]})]})}function J({store:r}){var t;const s=typeof window<"u"?`${window.location.origin}/store/${r.slug}`:`/store/${r.slug}`,a=()=>{var g,i;const n=`Hi! I'm interested in your products on ${r.name}`,x=((i=(g=r.user)==null?void 0:g.phone)==null?void 0:i.replace(/[^0-9]/g,""))||"";window.open(`https://wa.me/${x}?text=${encodeURIComponent(n)}`,"_blank")},m=async()=>{if(navigator.share)try{await navigator.share({title:r.name,text:`Check out ${r.name} on 2RBUAME!`,url:s})}catch(n){console.error("Share failed:",n)}else navigator.clipboard.writeText(s)};return e.jsx("footer",{className:"border-t border-gray-200 bg-white dark:border-gray-800 dark:bg-background-dark",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col items-center gap-6 text-center md:flex-row md:justify-between md:text-left",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-primary-dark",children:e.jsx(L,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-foreground dark:text-white",children:r.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Powered by 2RBUAME"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[((t=r.user)==null?void 0:t.phone)&&e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:`tel:${r.user.phone}`,className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-gray-700 transition-all hover:border-primary hover:bg-primary/10 dark:border-gray-700 dark:bg-card dark:text-gray-300",children:[e.jsx(R,{className:"h-4 w-4"}),"Call Store"]}),e.jsxs("button",{onClick:a,className:"flex items-center gap-2 rounded-lg bg-[#25D366] px-4 py-2 text-sm font-medium text-white transition-all hover:bg-[#20bd5a]",children:[e.jsx(C,{className:"h-4 w-4"}),"WhatsApp"]})]}),e.jsxs("button",{onClick:m,className:"flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-all hover:bg-primary-dark",children:[e.jsx(B,{className:"h-4 w-4"}),"Share Store"]})]})]}),e.jsx("div",{className:"mt-6 border-t border-gray-200 pt-6 text-center dark:border-gray-800",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Want your own online store?"," ",e.jsx("a",{href:"/",className:"font-semibold text-primary hover:underline",children:"Create one on 2RBUAME"})]})})]})})}function Y({store:r}){var d,o;const[s,a]=p.useState(!1),[m,t]=p.useState(!1),n=typeof window<"u"?`${window.location.origin}/store/${r.slug}`:`/store/${r.slug}`,x=async()=>{try{await navigator.clipboard.writeText(n),a(!0),setTimeout(()=>a(!1),2e3)}catch(c){console.error("Failed to copy:",c)}},g=()=>{const c=`Check out ${r.name} on 2RBUAME! ${n}`;window.open(`https://wa.me/?text=${encodeURIComponent(c)}`,"_blank")},i=async()=>{if(navigator.share)try{await navigator.share({title:r.name,text:`Check out ${r.name} on 2RBUAME!`,url:n})}catch(c){console.error("Share failed:",c)}else t(!m)};return e.jsx("header",{className:"sticky top-0 z-50 border-b border-gray-200 bg-white/95 backdrop-blur-sm dark:border-gray-800 dark:bg-[var(--buame-background-dark)]/95",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{href:route("marketplace"),className:"flex h-9 w-9 items-center justify-center rounded-full bg-gray-100 text-gray-600 transition-colors hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700",children:e.jsx($,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-[var(--primary)] to-[var(--buame-primary-dark)]",children:e.jsx(L,{className:"h-4 w-4 text-white"})}),e.jsx("span",{className:"font-bold text-[var(--foreground)] dark:text-white",children:r.name})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[((d=r.user)==null?void 0:d.phone)&&e.jsx("a",{href:`tel:${r.user.phone}`,className:"flex h-9 w-9 items-center justify-center rounded-full bg-gray-100 text-gray-600 transition-colors hover:bg-[var(--primary)]/10 hover:text-[var(--primary)] dark:bg-gray-800 dark:text-gray-400",title:"Call store",children:e.jsx(R,{className:"h-4 w-4"})}),((o=r.user)==null?void 0:o.phone)&&e.jsx("a",{href:`https://wa.me/${r.user.phone.replace(/[^0-9]/g,"")}?text=Hi! I'm interested in your products on ${r.name}`,target:"_blank",rel:"noopener noreferrer",className:"flex h-9 w-9 items-center justify-center rounded-full bg-[#25D366]/10 text-[#25D366] transition-colors hover:bg-[#25D366]/20",title:"Chat on WhatsApp",children:e.jsx(C,{className:"h-4 w-4"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:i,className:"flex h-9 items-center gap-2 rounded-full bg-[var(--primary)] px-4 font-semibold text-[var(--primary-foreground)] transition-colors hover:bg-[var(--buame-primary-dark)]",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),m&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-lg dark:border-gray-700 dark:bg-[var(--card)]",children:[e.jsxs("button",{onClick:x,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-800",children:[s?e.jsx(V,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(z,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"dark:text-white",children:s?"Copied!":"Copy link"})]}),e.jsxs("button",{onClick:g,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-800",children:[e.jsx(C,{className:"h-4 w-4 text-[#25D366]"}),e.jsx("span",{className:"dark:text-white",children:"Share on WhatsApp"})]})]})]})]})]})})})}function ee({store:r,productCount:s}){var i;const[a,m]=p.useState(!1),t=d=>d.split(" ").map(o=>o[0]).join("").substring(0,2).toUpperCase(),x=(d=>{const o=[{bg:"bg-emerald-600",text:"text-emerald-600"},{bg:"bg-teal-600",text:"text-teal-600"},{bg:"bg-green-600",text:"text-green-600"},{bg:"bg-cyan-600",text:"text-cyan-600"},{bg:"bg-lime-600",text:"text-lime-600"}],c=d.charCodeAt(0)%o.length;return o[c]})(r.name),g=r.thumbnail&&!a;return e.jsxs("div",{className:"dark:bg-background-dark relative border-b border-gray-200 bg-white dark:border-gray-800",children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.02] dark:opacity-[0.05]",children:e.jsx("div",{className:"h-full w-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),e.jsx("div",{className:"relative mx-auto max-w-7xl px-4 py-10 md:py-14",children:e.jsxs("div",{className:"flex flex-col items-center gap-6 md:flex-row md:items-center md:gap-8",children:[e.jsx("div",{className:"shrink-0",children:g?e.jsx("div",{className:"h-28 w-28 overflow-hidden rounded-2xl border-4 border-white shadow-lg md:h-36 md:w-36 dark:border-gray-800",children:e.jsx("img",{src:r.thumbnail,alt:r.name,className:"h-full w-full object-cover",onError:()=>m(!0)})}):e.jsx("div",{className:`flex h-28 w-28 items-center justify-center rounded-2xl border-4 border-white shadow-lg md:h-36 md:w-36 dark:border-gray-800 ${x.bg}`,children:e.jsx("span",{className:"text-4xl font-black text-white md:text-5xl",children:t(r.name)})})}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("div",{className:"mb-1 flex items-center justify-center gap-2 md:justify-start",children:e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),"Open"]})}),e.jsx("h1",{className:"text-foreground mb-2 text-2xl font-black md:text-3xl lg:text-4xl dark:text-white",children:r.name}),r.description&&e.jsx("p",{className:"mb-4 max-w-xl text-gray-600 dark:text-gray-400",children:r.description}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 md:justify-start",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[s," ",s===1?"product":"products"]})]}),((i=r.user)==null?void 0:i.name)&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:"â€¢"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Sold by ",e.jsx("span",{className:"text-foreground font-medium dark:text-white",children:r.user.name})]})]})]})]})]})})]})}function re({product:r,viewMode:s="grid"}){const[a,m]=p.useState(!1),[t,n]=p.useState(!1),x=o=>({mobile_phones:"Mobile Phones & Accessories",electronics:"Electronics & Appliances",computers:"Computers & Laptops",fashion:"Fashion & Apparel",footwear:"Footwear",health_beauty:"Health & Beauty",groceries:"Groceries & Food Items",home_living:"Home & Living",baby_kids:"Baby & Kids",sports_outdoor:"Sports & Outdoor",automotive:"Automotive",books_stationery:"Books & Stationery",building_hardware:"Building & Hardware",agriculture:"Agriculture & Farm Supplies",pet_supplies:"Pet Supplies",gifts:"Gifts & Occasion Items",others:"Others"})[o]||o,g=o=>({new:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",like_new:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",used:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",refurbished:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"})[o]||"bg-gray-100 text-gray-700",i=o=>({new:"New",like_new:"Like New",used:"Used",refurbished:"Refurbished"})[o]||"",d=o=>new Intl.NumberFormat("en-GH",{minimumFractionDigits:0,maximumFractionDigits:2}).format(o);return s==="list"?e.jsxs(y,{href:route("marketplace.view",r.id),className:"group flex gap-4 rounded-2xl border border-gray-200 bg-white p-4 transition-all hover:border-[var(--primary)]/50 hover:shadow-lg dark:border-gray-800 dark:bg-[var(--card)] dark:hover:border-[var(--primary)]/50",children:[e.jsxs("div",{className:"relative h-32 w-32 shrink-0 overflow-hidden rounded-xl bg-gray-100 dark:bg-gray-900",children:[r.image?e.jsxs(e.Fragment,{children:[!t&&e.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-200 dark:bg-gray-800"}),e.jsx("img",{src:r.image,alt:r.title,className:`h-full w-full object-cover transition-all duration-300 group-hover:scale-105 ${t?"opacity-100":"opacity-0"}`,onLoad:()=>n(!0)})]}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(w,{className:"h-10 w-10 text-gray-400"})}),r.condition&&e.jsx("span",{className:`absolute left-2 top-2 rounded-full px-2 py-0.5 text-xs font-semibold ${g(r.condition)}`,children:i(r.condition)})]}),e.jsxs("div",{className:"flex flex-1 flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 flex items-start justify-between gap-2",children:e.jsx("h3",{className:"font-bold text-[var(--foreground)] transition-colors group-hover:text-[var(--primary)] dark:text-white",children:r.title})}),e.jsx("p",{className:"mb-2 text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400",children:x(r.category)})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-xl font-black text-[var(--primary)]",children:r.price!==null?`GHâ‚µ ${d(r.price)}`:"Contact for price"}),r.price!==null&&r.price_type&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/",r.price_type]})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"h-3 w-3"}),r.location]}),r.delivery_available&&e.jsxs("span",{className:"flex items-center gap-1 text-[var(--primary)]",children:[e.jsx(A,{className:"h-3 w-3"}),"Delivery"]})]})]}),e.jsx("span",{className:"rounded-lg bg-[var(--primary)]/10 px-3 py-1.5 text-sm font-semibold text-white transition-colors group-hover:bg-[var(--primary)] dark:text-white",children:"View Details"})]})]})]}):e.jsxs(y,{href:route("marketplace.view",r.id),className:"group relative flex flex-col overflow-hidden rounded-2xl border border-gray-200 bg-white transition-all hover:border-[var(--primary)]/50 hover:shadow-xl dark:border-gray-800 dark:bg-[var(--card)] dark:hover:border-[var(--primary)]/50",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-100 dark:bg-gray-900",children:[r.image?e.jsxs(e.Fragment,{children:[!t&&e.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-200 dark:bg-gray-800"}),e.jsx("img",{src:r.image,alt:r.title,className:`h-full w-full object-cover transition-all duration-500 group-hover:scale-110 ${t?"opacity-100":"opacity-0"}`,onLoad:()=>n(!0)})]}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(w,{className:"h-16 w-16 text-gray-400"})}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`}),e.jsxs("div",{className:"absolute left-3 top-3 flex flex-col gap-2",children:[r.condition&&e.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold shadow-sm ${g(r.condition)}`,children:i(r.condition)}),r.delivery_available&&e.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-[var(--primary)] px-2.5 py-1 text-xs font-semibold text-[var(--primary-foreground)] shadow-sm",children:[e.jsx(A,{className:"h-3 w-3"}),"Delivery"]})]}),e.jsx("div",{className:`absolute bottom-3 left-3 right-3 transition-all duration-300 ${a?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:e.jsxs("span",{className:"flex w-full items-center justify-center gap-2 rounded-xl bg-white py-2.5 font-semibold text-[var(--foreground)] shadow-lg transition-colors hover:bg-[var(--primary)]",children:[e.jsx(T,{className:"h-4 w-4"}),"Quick View"]})})]}),e.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-[var(--primary)]",children:x(r.category)}),e.jsx("h3",{className:"line-clamp-2 font-bold text-[var(--foreground)] transition-colors group-hover:text-[var(--primary)] dark:text-white",children:r.title})]}),e.jsxs("div",{className:"mt-auto",children:[e.jsxs("div",{className:"mb-2 flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-black text-[var(--foreground)] dark:text-white",children:r.price!==null?`GHâ‚µ ${d(r.price)}`:"Contact for price"}),r.price!==null&&r.price_type&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/",r.price_type]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(_,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:r.location})]})]})]})]})}function ae({products:r,viewMode:s}){return e.jsxs("div",{children:[e.jsx("div",{className:s==="grid"?"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"flex flex-col gap-4",children:r.data.map(a=>e.jsx(re,{product:a,viewMode:s},a.id))}),r.last_page>1&&e.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",e.jsx("span",{className:"font-semibold",children:r.from})," to"," ",e.jsx("span",{className:"font-semibold",children:r.to})," of"," ",e.jsx("span",{className:"font-semibold",children:r.total})," products"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[r.prev_page_url?e.jsxs(y,{href:r.prev_page_url,className:"flex h-10 items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 text-sm font-medium text-gray-700 transition-all hover:border-[var(--primary)] hover:bg-[var(--primary)]/10 dark:border-gray-700 dark:bg-[var(--card)] dark:text-gray-300",children:[e.jsx($,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}):e.jsxs("span",{className:"flex h-10 cursor-not-allowed items-center gap-1 rounded-lg border border-gray-100 bg-gray-50 px-3 text-sm font-medium text-gray-400 dark:border-gray-800 dark:bg-[var(--buame-background-dark)]",children:[e.jsx($,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),e.jsx("div",{className:"flex items-center gap-1",children:r.links.slice(1,-1).map((a,m)=>{const t=m+1,n=r.current_page,x=r.last_page,g=t===1||t===x||Math.abs(t-n)<=1,i=t===2&&n>3,d=t===x-1&&n<x-2;return!g&&!i&&!d?null:i&&t===2||d&&t===x-1?e.jsx("span",{className:"px-2 text-gray-400",children:"..."},m):a.url===null?null:e.jsx(y,{href:a.url,className:`flex h-10 w-10 items-center justify-center rounded-lg text-sm font-semibold transition-all ${a.active?"bg-[var(--primary)] text-[var(--primary-foreground)] shadow-md shadow-[var(--primary)]/25":"border border-gray-200 bg-white text-gray-700 hover:border-[var(--primary)] hover:bg-[var(--primary)]/10 dark:border-gray-700 dark:bg-[var(--card)] dark:text-gray-300"}`,children:a.label},m)})}),r.next_page_url?e.jsxs(y,{href:r.next_page_url,className:"flex h-10 items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 text-sm font-medium text-gray-700 transition-all hover:border-[var(--primary)] hover:bg-[var(--primary)]/10 dark:border-gray-700 dark:bg-[var(--card)] dark:text-gray-300",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx(M,{className:"h-4 w-4"})]}):e.jsxs("span",{className:"flex h-10 cursor-not-allowed items-center gap-1 rounded-lg border border-gray-100 bg-gray-50 px-3 text-sm font-medium text-gray-400 dark:border-gray-800 dark:bg-[var(--buame-background-dark)]",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx(M,{className:"h-4 w-4"})]})]})]})]})}function te({searchQuery:r,setSearchQuery:s,location:a,setLocation:m,filters:t,categoryCounts:n,onSearch:x,onFilterChange:g,onClearFilters:i,viewMode:d,setViewMode:o}){const[c,f]=p.useState(!1),j=[{value:"electronics",label:"Electronics",icon:"ðŸ“±"},{value:"furniture",label:"Furniture",icon:"ðŸª‘"},{value:"food",label:"Food",icon:"ðŸŽ"},{value:"agriculture",label:"Agriculture",icon:"ðŸŒ¾"},{value:"clothes",label:"Clothes",icon:"ðŸ‘•"},{value:"others",label:"Others",icon:"ðŸ“¦"}],k=[{value:"newest",label:"Newest First"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"},{value:"name",label:"Name: A to Z"}],u=(t==null?void 0:t.category)||(t==null?void 0:t.sort)||r||a;return e.jsx("div",{className:"sticky top-[57px] z-40 border-b border-gray-200 bg-white/95 backdrop-blur-sm dark:border-gray-800 dark:bg-[var(--background-dark)]/95",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-4",children:[e.jsxs("form",{onSubmit:x,className:"flex flex-col gap-3 md:flex-row",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(F,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:r,onChange:l=>s(l.target.value),placeholder:"Search products in this store...",className:"w-full rounded-xl border border-gray-200 bg-gray-50 py-3 pl-12 pr-4 text-sm transition-colors focus:border-[var(--primary)] focus:bg-white focus:ring-2 focus:ring-[var(--primary)]/20 focus:outline-none dark:border-gray-700 dark:bg-[var(--card)] dark:text-white dark:focus:bg-[var(--card)]"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 md:w-40 md:flex-none",children:[e.jsx(_,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:a,onChange:l=>m(l.target.value),placeholder:"Location",className:"w-full rounded-xl border border-gray-200 bg-gray-50 py-3 pl-10 pr-4 text-sm transition-colors focus:border-[var(--primary)] focus:bg-white focus:ring-2 focus:ring-[var(--primary)]/20 focus:outline-none dark:border-gray-700 dark:bg-[var(--card)] dark:text-white"})]}),e.jsx("button",{type:"submit",className:"rounded-xl bg-[var(--primary)] px-6 py-3 font-semibold text-[var(--primary-foreground)] transition-all hover:bg-[var(--buame-primary-dark)] hover:shadow-lg hover:shadow-[var(--primary)]/25",children:"Search"}),e.jsxs("button",{type:"button",onClick:()=>f(!c),className:`flex items-center gap-2 rounded-xl border px-4 py-3 font-semibold transition-all ${c||u?"border-[var(--primary)] bg-[var(--primary)]/10 text-white dark:text-white":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 dark:border-gray-700 dark:bg-[var(--card)] dark:text-gray-400"}`,children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Filters"}),u&&e.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-[var(--primary)] text-xs font-bold text-[var(--primary-foreground)]",children:"!"})]})]})]}),c&&e.jsxs("div",{className:"mt-4 rounded-xl border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-[var(--card)]",children:[e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Categories"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(l=>{const b=(n==null?void 0:n[l.value])||0,h=(t==null?void 0:t.category)===l.value;return e.jsxs("button",{onClick:()=>g("category",h?null:l.value),className:`flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all ${h?"bg-[var(--primary)] text-[var(--primary-foreground)] shadow-md":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-[var(--background-dark)] dark:text-gray-300 dark:hover:bg-gray-800"}`,children:[e.jsx("span",{children:l.icon}),e.jsx("span",{children:l.label}),b>0&&e.jsx("span",{className:`rounded-full px-1.5 py-0.5 text-xs ${h?"bg-[var(--foreground)]/20 text-[var(--foreground)]":"bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:b})]},l.value)})})]}),e.jsxs("div",{className:"flex flex-col gap-4 md:w-64",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Sort By"}),e.jsx("select",{value:(t==null?void 0:t.sort)||"newest",onChange:l=>g("sort",l.target.value),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)]/20 focus:outline-none dark:border-gray-700 dark:bg-[var(--background-dark)] dark:text-white",children:k.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"View"}),e.jsxs("div",{className:"flex rounded-lg border border-gray-200 bg-white p-1 dark:border-gray-700 dark:bg-[var(--background-dark)]",children:[e.jsxs("button",{onClick:()=>o("grid"),className:`flex flex-1 items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium transition-all ${d==="grid"?"bg-[var(--primary)] text-[var(--primary-foreground)]":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"}`,children:[e.jsx(W,{className:"h-4 w-4"}),"Grid"]}),e.jsxs("button",{onClick:()=>o("list"),className:`flex flex-1 items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium transition-all ${d==="list"?"bg-[var(--primary)] text-[var(--primary-foreground)]":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"}`,children:[e.jsx(q,{className:"h-4 w-4"}),"List"]})]})]})]})]}),u&&e.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4 dark:border-gray-700",children:e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-sm font-medium text-red-600 transition-colors hover:text-red-700",children:[e.jsx(O,{className:"h-4 w-4"}),"Clear all filters"]})})]}),!c&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 overflow-x-auto pb-1",children:[e.jsx("span",{className:"shrink-0 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Quick:"}),j.map(l=>{const b=(n==null?void 0:n[l.value])||0;if(b===0)return null;const h=(t==null?void 0:t.category)===l.value;return e.jsxs("button",{onClick:()=>g("category",h?null:l.value),className:`flex shrink-0 items-center gap-1.5 rounded-full px-3 py-1.5 text-xs font-medium transition-all ${h?"bg-[var(--primary)] text-[var(--primary-foreground)]":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:[e.jsx("span",{children:l.icon}),e.jsx("span",{children:l.label}),e.jsxs("span",{className:"opacity-60",children:["(",b,")"]})]},l.value)})]})]})})}function He({store:r,products:s,filters:a,categoryCounts:m,reviews:t=[],average_rating:n=0,reviews_count:x=0,rating_breakdown:g={}}){const[i,d]=p.useState((a==null?void 0:a.search)||""),[o,c]=p.useState((a==null?void 0:a.location)||""),[f,j]=p.useState("grid"),k=v=>{v.preventDefault(),S.get(route("store.show",r.slug),{search:i||void 0,location:o||void 0,category:a==null?void 0:a.category,sort:a==null?void 0:a.sort},{preserveState:!0,preserveScroll:!0})},u=(v,N)=>{S.get(route("store.show",r.slug),{search:i||void 0,location:o||void 0,[v]:N==="all"||N==="newest"?void 0:N,...v!=="category"&&(a==null?void 0:a.category)&&{category:a.category},...v!=="sort"&&(a==null?void 0:a.sort)&&a.sort!=="newest"&&{sort:a.sort}},{preserveState:!0,preserveScroll:!0})},l=()=>{d(""),c(""),S.get(route("store.show",r.slug),{},{preserveState:!0,preserveScroll:!0})},b=(a==null?void 0:a.category)||(a==null?void 0:a.sort)||i||o,h=(s==null?void 0:s.total)||0,P=(s==null?void 0:s.data)&&s.data.length>0,E=r.description?r.description.substring(0,150):`Shop at ${r.name} - Browse ${h} products`;return e.jsxs("div",{className:"min-h-screen bg-[var(--background)] dark:bg-[var(--buame-background-dark)]",children:[e.jsxs(U,{title:r.name,children:[e.jsx("meta",{name:"description",content:`${r.name} - ${E}${E.length>=150?"...":""} Shop ${h} products on 2RBUAME marketplace.`}),e.jsx("meta",{name:"keywords",content:`${r.name}, marketplace, shop, products, buy, Ghana, 2RBUAME`}),e.jsx("meta",{property:"og:title",content:`${r.name} | 2RBUAME Marketplace`}),e.jsx("meta",{property:"og:description",content:`Shop at ${r.name}. Browse ${h} products on 2RBUAME.`}),e.jsx("meta",{property:"og:type",content:"website"}),r.logo&&e.jsx("meta",{property:"og:image",content:r.logo}),e.jsx("meta",{name:"twitter:title",content:`${r.name} | 2RBUAME Marketplace`}),e.jsx("meta",{name:"twitter:description",content:`Shop at ${r.name}. Browse ${h} products on 2RBUAME.`}),r.logo&&e.jsx("meta",{name:"twitter:image",content:r.logo})]}),e.jsx(Y,{store:r}),e.jsx(ee,{store:r,productCount:h}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-8",children:e.jsx(D,{type:"product"})}),e.jsx(te,{searchQuery:i,setSearchQuery:d,location:o,setLocation:c,filters:a,categoryCounts:m,onSearch:k,onFilterChange:u,onClearFilters:l,viewMode:f,setViewMode:j}),e.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-8",children:[e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsxs("h2",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:[b?"Search Results":"All Products",e.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",h," ",h===1?"item":"items",")"]})]})}),P?e.jsx(ae,{products:s,viewMode:f}):e.jsx(Z,{hasFilters:b,onClearFilters:l,storeName:r.name}),e.jsx(I,{reviewableType:"store",reviewableId:r==null?void 0:r.id,reviews:t,averageRating:n,reviewsCount:x,ratingBreakdown:g})]}),e.jsx(J,{store:r})]})}export{He as default};
