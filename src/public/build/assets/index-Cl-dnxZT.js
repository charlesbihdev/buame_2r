import{r as g,j as e,S as f,$ as j,L as z}from"./app-CBU6yRsz.js";import{V as E}from"./visitor-layout-DcMpbCEM.js";import{B as b}from"./button-RGfC6CUc.js";import{I as w}from"./input-7LKRM7Vi.js";import{M as C}from"./map-pin-BwOn_SRG.js";import{S as A}from"./search-C9kORol8.js";import{C as y}from"./checkbox-BAWYAMMb.js";import{L as N}from"./label-Dzjplrhf.js";import{S as _,a as L,b as M,c as F,d as u}from"./select-GjUyG89m.js";import{G as p}from"./grid-3x3-DY2gcmLm.js";import{c as P}from"./createLucideIcon-B_ll2QSU.js";import{S as R}from"./store-BpxyXl0u.js";import{C as B}from"./circle-check-Dx6bpIOd.js";import{S as D}from"./star-hQg1Df92.js";import{C as $}from"./chevron-left-BvWy9726.js";import{C as U}from"./chevron-right-CpwhGd8g.js";import"./sheet-DRH6yzRA.js";import"./index-D2gyRKpy.js";import"./index-C6Zws6Ft.js";import"./index-CBKDD4aV.js";import"./x-BzB0ZjHx.js";import"./menu-Ccn4YGT2.js";import"./message-circle-vYosUejn.js";import"./phone-D6I8yWrl.js";import"./mail-N0aKiy7Z.js";import"./index-DlnqKScL.js";import"./index-W687FI-5.js";import"./check-3SP8CHhH.js";import"./index-C_Z9QEYx.js";import"./chevron-down-DKDEgRpI.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],I=P("Filter",q);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],V=P("List",O);function K(){const[t,a]=g.useState(""),[i,o]=g.useState(""),d=()=>{const s=new URLSearchParams;t.trim()&&s.set("search",t.trim()),i.trim()&&s.set("location",i.trim());const x=s.toString();x?window.location.href=`/marketplace?${x}`:window.location.href="/marketplace"};return e.jsx("div",{className:"w-full border-b border-[#e7f3e7] bg-white dark:border-white/10 dark:bg-white/5",children:e.jsx("div",{className:"mx-auto max-w-[1440px]",children:e.jsx("div",{className:"p-4 @[480px]:p-6",children:e.jsxs("div",{className:"relative flex flex-col items-center justify-center overflow-hidden rounded-xl bg-cover bg-center bg-no-repeat p-8 py-12",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.7) 100%), url(/assets/visitors/bekwai.jpg)"},children:[e.jsxs("div",{className:"z-10 flex max-w-2xl flex-col gap-3 text-center",children:[e.jsx("h1",{className:"text-3xl leading-tight font-black tracking-[-0.033em] text-white md:text-5xl",children:"Find what you need"}),e.jsx("p",{className:"text-sm font-normal text-gray-200 md:text-base",children:"Connecting local artisans, traders, and businesses with residents."})]}),e.jsx("div",{className:"z-10 mt-2 flex w-full max-w-[600px] flex-col",children:e.jsxs("div",{className:"flex w-full flex-col overflow-hidden rounded-lg shadow-xl sm:flex-row sm:items-stretch",children:[e.jsxs("div",{className:"relative flex w-full items-center border-b border-gray-200 bg-white px-4 py-3 sm:w-1/3 sm:border-r sm:border-b-0 sm:py-0 dark:border-white/10 dark:bg-white/5",children:[e.jsx(C,{className:"absolute left-4 h-5 w-5 text-gray-400 dark:text-gray-500"}),e.jsx(w,{type:"text",value:i,onChange:s=>o(s.target.value),onKeyDown:s=>s.key==="Enter"&&d(),placeholder:"Location (e.g., Sefwi Bekwai)",className:"h-12 border-none bg-transparent pr-4 pl-12 text-sm placeholder:text-gray-400 focus:ring-0 sm:h-14 dark:text-white"})]}),e.jsxs("div",{className:"relative flex-1 bg-white dark:bg-white/5",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:e.jsx(A,{className:"h-5 w-5 text-gray-400 dark:text-gray-500"})}),e.jsx(w,{type:"text",value:t,onChange:s=>a(s.target.value),onKeyDown:s=>s.key==="Enter"&&d(),placeholder:"Search for services, goods, or jobs...",className:"h-12 border-none bg-transparent pr-4 pl-12 text-sm placeholder:text-gray-400 focus:ring-0 sm:h-14 dark:text-white"})]}),e.jsx(b,{onClick:d,className:"flex h-12 w-full items-center justify-center gap-2 bg-[#13ec13] px-8 font-bold text-[#0d1b0d] transition-colors hover:bg-[#0fdc0f] sm:h-14 sm:w-auto",children:"Search"})]})})]})})})})}function S({filters:t={}}){const a=[{id:"all",label:"All Categories"},{id:"electronics",label:"Electronics"},{id:"furniture",label:"Furniture"},{id:"food",label:"Food"},{id:"agriculture",label:"Agriculture"},{id:"clothes",label:"Clothes"},{id:"others",label:"Others"}],i=[{id:"all",label:"All Conditions"},{id:"new",label:"New"},{id:"like_new",label:"Like New"},{id:"used",label:"Used"},{id:"refurbished",label:"Refurbished"}],[o,d]=g.useState(t.price_min||""),[s,x]=g.useState(t.price_max||""),[l,c]=g.useState(t.location||""),m=g.useCallback((r,h)=>{const k=new URLSearchParams(window.location.search);h==="all"||h===""||h===null?k.delete(r):k.set(r,h),k.delete("page"),f.get("/marketplace",Object.fromEntries(k),{preserveState:!0,preserveScroll:!0})},[]),n=g.useCallback(()=>{const r=new URLSearchParams(window.location.search);o?r.set("price_min",o):r.delete("price_min"),s?r.set("price_max",s):r.delete("price_max"),r.delete("page"),f.get("/marketplace",Object.fromEntries(r),{preserveState:!0,preserveScroll:!0})},[o,s]),v=g.useCallback(()=>{const r=new URLSearchParams(window.location.search);l.trim()?r.set("location",l.trim()):r.delete("location"),r.delete("page"),f.get("/marketplace",Object.fromEntries(r),{preserveState:!0,preserveScroll:!0})},[l]);return e.jsxs("aside",{className:"hidden min-h-[calc(100vh-80px)] w-80 shrink-0 flex-col gap-8 border-r border-[#e7f3e7] bg-white p-6 lg:flex dark:border-white/10 dark:bg-white/5",children:[t.category&&t.category!=="all"||t.location||t.price_min||t.price_max||t.condition&&t.condition!=="all"||t.delivery_available?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-bold tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Active Filters"}),e.jsx("button",{onClick:()=>f.get("/marketplace"),className:"text-xs text-[#13ec13] hover:underline",children:"Clear All"})]}),e.jsxs("div",{className:"bg-background-light dark:bg-background-dark grid grid-cols-1 overflow-hidden rounded-lg border border-[#e7f3e7] dark:border-white/10",children:[t.category&&t.category!=="all"&&e.jsxs("div",{className:"flex items-center justify-between border-b border-[#e7f3e7] p-3 dark:border-white/10",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Category"}),e.jsx("span",{className:"text-sm font-medium capitalize dark:text-white",children:t.category})]}),t.location&&e.jsxs("div",{className:"flex items-center justify-between border-b border-[#e7f3e7] p-3 dark:border-white/10",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Location"}),e.jsx("span",{className:"text-sm font-medium dark:text-white",children:t.location})]}),(t.price_min||t.price_max)&&e.jsxs("div",{className:"flex items-center justify-between border-b border-[#e7f3e7] p-3 dark:border-white/10",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Price"}),e.jsxs("span",{className:"text-sm font-medium dark:text-white",children:["₵",t.price_min||0," - ₵",t.price_max||"∞"]})]}),t.condition&&t.condition!=="all"&&e.jsxs("div",{className:"flex items-center justify-between border-b border-[#e7f3e7] p-3 dark:border-white/10",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Condition"}),e.jsx("span",{className:"text-sm font-medium capitalize dark:text-white",children:t.condition.replace("_"," ")})]}),t.delivery_available&&e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Delivery"}),e.jsx("span",{className:"text-sm font-medium dark:text-white",children:"Available"})]})]})]}):null,e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold dark:text-white",children:"Categories"}),e.jsx("div",{className:"flex flex-col gap-3",children:a.map(r=>e.jsxs(N,{className:"group flex cursor-pointer items-center gap-3",children:[e.jsx(y,{checked:t.category===r.id||!t.category&&r.id==="all",onCheckedChange:h=>{h&&m("category",r.id)},className:"rounded border-gray-300 bg-transparent text-[#13ec13] focus:ring-[#13ec13]"}),e.jsx("span",{className:"text-sm font-medium transition-colors group-hover:text-[#13ec13] dark:text-gray-200",children:r.label})]},r.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold dark:text-white",children:"Price Range (₵)"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{type:"number",placeholder:"Min",value:o,onChange:r=>d(r.target.value),onBlur:n,onKeyDown:r=>r.key==="Enter"&&n(),className:"h-9"}),e.jsx(w,{type:"number",placeholder:"Max",value:s,onChange:r=>x(r.target.value),onBlur:n,onKeyDown:r=>r.key==="Enter"&&n(),className:"h-9"})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold dark:text-white",children:"Condition"}),e.jsxs(_,{value:t.condition||"all",onValueChange:r=>m("condition",r),children:[e.jsx(L,{className:"h-10",children:e.jsx(M,{})}),e.jsx(F,{children:i.map(r=>e.jsx(u,{value:r.id,children:r.label},r.id))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold dark:text-white",children:"Location"}),e.jsx(w,{type:"text",placeholder:"e.g., Sefwi Bekwai, Bibiani",value:l,onChange:r=>c(r.target.value),onBlur:v,onKeyDown:r=>r.key==="Enter"&&v(),className:"h-10"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold dark:text-white",children:"Delivery"}),e.jsxs(N,{className:"group flex cursor-pointer items-center gap-3",children:[e.jsx(y,{checked:t.delivery_available==="1",onCheckedChange:r=>m("delivery_available",r?"1":""),className:"rounded border-gray-300 bg-transparent text-[#13ec13] focus:ring-[#13ec13]"}),e.jsx("span",{className:"text-sm font-medium transition-colors group-hover:text-[#13ec13] dark:text-gray-200",children:"Delivery Available"})]})]})]})}function T({filters:t={},pagination:a={},onFilterToggle:i}){const o=[{name:"All",category:"all",icon:p},{name:"Electronics",category:"electronics",icon:p},{name:"Furniture",category:"furniture",icon:p},{name:"Food",category:"food",icon:p},{name:"Agriculture",category:"agriculture",icon:p},{name:"Clothes",category:"clothes",icon:p}],d=l=>{const c=new URLSearchParams(window.location.search);l==="all"?c.delete("category"):c.set("category",l),c.delete("page"),f.get("/marketplace",Object.fromEntries(c),{preserveState:!0,preserveScroll:!0})},s=l=>{const c=new URLSearchParams(window.location.search);c.set("sort",l),c.delete("page"),f.get("/marketplace",Object.fromEntries(c),{preserveState:!0,preserveScroll:!0})},x=t.category||"all";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"scrollbar-hide mb-6 flex gap-3 overflow-x-auto pb-2",children:o.map(l=>{const c=l.icon,m=x===l.category;return e.jsxs(b,{variant:m?"default":"outline",onClick:()=>d(l.category),className:`flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full px-4 text-sm font-bold shadow-sm transition-shadow ${m?"bg-[#13ec13] text-[#0d1b0d] hover:shadow-md":"border border-[#e7f3e7] bg-white hover:border-[#13ec13]/50 dark:border-white/20 dark:bg-white/5 dark:text-white"}`,children:[e.jsx(c,{className:"h-5 w-5"}),e.jsx("span",{children:l.name})]},l.name)})}),e.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400",children:a.total?e.jsxs(e.Fragment,{children:["Showing ",e.jsx("span",{className:"font-bold text-[#0d1b0d] dark:text-white",children:a.from||0})," -"," ",e.jsx("span",{className:"font-bold text-[#0d1b0d] dark:text-white",children:a.to||0})," of"," ",e.jsx("span",{className:"font-bold text-[#0d1b0d] dark:text-white",children:a.total})," results"]}):"No results found"}),e.jsxs("div",{className:"flex w-full items-center gap-3 sm:w-auto",children:[e.jsx(b,{variant:"outline",size:"icon",onClick:i,className:"flex size-10 items-center justify-center rounded-lg border border-[#e7f3e7] bg-white lg:hidden dark:border-white/10 dark:bg-white/5",children:e.jsx(I,{className:"h-5 w-5"})}),e.jsxs(_,{value:t.sort||"recommended",onValueChange:s,children:[e.jsx(L,{className:"h-10 cursor-pointer rounded-lg border border-[#e7f3e7] bg-white pr-8 pl-3 text-sm focus:border-[#13ec13] focus:ring-[#13ec13] dark:border-white/10 dark:bg-white/5 dark:text-white",children:e.jsx(M,{})}),e.jsxs(F,{children:[e.jsx(u,{value:"recommended",children:"Recommended"}),e.jsx(u,{value:"price-low",children:"Price: Low to High"}),e.jsx(u,{value:"price-high",children:"Price: High to Low"}),e.jsx(u,{value:"newest",children:"Newest First"}),e.jsx(u,{value:"oldest",children:"Oldest First"})]})]}),e.jsxs("div",{className:"flex rounded-lg border border-[#e7f3e7] bg-white p-1 dark:border-white/10 dark:bg-white/5",children:[e.jsx(b,{variant:"ghost",size:"icon",className:"flex size-8 items-center justify-center rounded bg-[#13ec13]/20 text-[#13ec13]",children:e.jsx(p,{className:"h-5 w-5"})}),e.jsx(b,{variant:"ghost",size:"icon",className:"flex size-8 items-center justify-center rounded text-gray-400 hover:text-gray-600 dark:hover:text-gray-200",children:e.jsx(V,{className:"h-5 w-5"})})]})]})]})]})}function H({products:t=[]}){return t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400",children:"No products found"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-500",children:"Try adjusting your filters or check back later."})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-3",children:t.map(a=>e.jsxs("div",{className:"group flex flex-col overflow-hidden rounded-xl border border-[#e7f3e7] bg-white transition-all duration-300 hover:border-[#13ec13]/50 hover:shadow-lg dark:border-white/10 dark:bg-white/5",children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[e.jsx("div",{className:"absolute top-3 left-3 z-10 rounded bg-white/90 px-2 py-1 text-xs font-bold tracking-wide text-gray-800 uppercase backdrop-blur",children:a.category}),e.jsx("div",{className:"h-full w-full bg-cover bg-center transition-transform duration-500 group-hover:scale-105",style:{backgroundImage:`url(${a.image})`}})]}),e.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-base leading-tight font-bold text-[#0d1b0d] dark:text-white",children:a.title}),a.store&&a.store.is_active&&e.jsxs(j,{href:`/store/${a.store.slug}`,onClick:i=>i.stopPropagation(),className:"mt-1.5 flex items-center gap-1.5 text-xs font-medium text-[#13ec13] transition-colors hover:text-[#0fdc0f] hover:underline",children:[e.jsx(R,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"truncate",children:a.store.name})]})]}),a.verified&&e.jsx(B,{className:"h-5 w-5 shrink-0 text-[#13ec13]",title:"Verified"})]}),(a.rating>0||a.reviews>0)&&e.jsxs("div",{className:"mb-3 flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-bold dark:text-white",children:a.rating||0}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",a.reviews||0," reviews)"]})]}),a.specifications&&a.specifications.length>0&&e.jsxs("div",{className:"mb-3 flex flex-wrap gap-1.5",children:[a.specifications.slice(0,3).map((i,o)=>e.jsx("span",{className:"rounded-full bg-[#13ec13]/10 px-2 py-0.5 text-xs font-medium text-[#13ec13] dark:bg-[#13ec13]/20",children:i},o)),a.specifications.length>3&&e.jsxs("span",{className:"rounded-full bg-gray-100 px-2 py-0.5 text-xs font-medium text-gray-600 dark:bg-gray-700 dark:text-gray-400",children:["+",a.specifications.length-3," more"]})]}),e.jsxs("div",{className:"mb-4 flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(C,{className:"h-4 w-4 shrink-0"}),e.jsx("span",{className:"truncate",children:a.location})]}),e.jsxs("div",{className:"mt-auto flex items-center justify-between border-t border-[#e7f3e7] pt-4 dark:border-white/10",children:[e.jsx("span",{className:"text-lg font-black text-[#0d1b0d] dark:text-[#13ec13]",children:a.price}),e.jsx(b,{asChild:!0,variant:"ghost",className:"text-sm font-bold text-[#13ec13] hover:text-[#0fdc0f] hover:underline",children:e.jsx(j,{href:`/marketplace/${a.id}`,children:"View Details"})})]})]})]},a.id))})}function ye({products:t=[],pagination:a={},filters:i={}}){var s,x,l,c,m;const[o,d]=g.useState(!1);return e.jsxs(E,{children:[e.jsx(z,{title:"Marketplace - BUAME 2R"}),e.jsx(K,{}),e.jsxs("div",{className:"flex grow flex-col lg:flex-row",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(S,{filters:i})}),o&&e.jsx("div",{className:"lg:hidden",children:e.jsx(S,{filters:i})}),e.jsxs("main",{className:"flex flex-1 flex-col bg-background-light p-4 dark:bg-background-dark md:p-6 lg:p-8",children:[e.jsx(T,{filters:i,pagination:a,onFilterToggle:()=>d(!o)}),e.jsx(H,{products:t}),a.last_page>1&&e.jsxs("div",{className:"mt-12 flex items-center justify-center gap-2",children:[e.jsx(b,{asChild:!0,variant:"outline",disabled:a.current_page===1,className:"h-10 rounded-lg border border-[#e7f3e7] bg-white px-4 disabled:opacity-50 dark:border-white/10 dark:bg-white/5",children:e.jsx(j,{href:((x=(s=a.links)==null?void 0:s.find(n=>n.label==="&laquo; Previous"))==null?void 0:x.url)||"#",preserveState:!0,preserveScroll:!0,children:e.jsx($,{className:"h-4 w-4"})})}),e.jsx("div",{className:"flex gap-1",children:(l=a.links)==null?void 0:l.map((n,v)=>{if(n.label==="&laquo; Previous"||n.label==="Next &raquo;")return null;const r=n.label,h=n.active;return e.jsx(b,{asChild:!0,variant:h?"default":"outline",className:`h-10 min-w-10 rounded-lg px-4 ${h?"bg-[#13ec13] text-[#0d1b0d]":"border border-[#e7f3e7] bg-white dark:border-white/10 dark:bg-white/5"}`,children:e.jsx(j,{href:n.url||"#",preserveState:!0,preserveScroll:!0,children:r})},v)})}),e.jsx(b,{asChild:!0,variant:"outline",disabled:a.current_page===a.last_page,className:"h-10 rounded-lg border border-[#e7f3e7] bg-white px-4 disabled:opacity-50 dark:border-white/10 dark:bg-white/5",children:e.jsx(j,{href:((m=(c=a.links)==null?void 0:c.find(n=>n.label==="Next &raquo;"))==null?void 0:m.url)||"#",preserveState:!0,preserveScroll:!0,children:e.jsx(U,{className:"h-4 w-4"})})})]})]})]})]})}export{ye as default};
