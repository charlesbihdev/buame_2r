import{r as j,m as y,j as e,L as u,$ as f,S as N}from"./app-CBU6yRsz.js";import{B as k}from"./button-RGfC6CUc.js";import{C as v}from"./circle-check-big-CRG4pysx.js";import{C as w}from"./credit-card-CVOaX1SO.js";import{C as P}from"./check-3SP8CHhH.js";import"./createLucideIcon-B_ll2QSU.js";const S={artisans:"Artisans",hotels:"Hotel",transport:"Okada",rentals:"Rentals",marketplace:"Marketplace",jobs:"Jobs"};function E({category:s,amount:m,categories:l,user:C,tiers:a,selectedTier:n}){const[d,o]=j.useState(n||"starter"),{setData:b,processing:i,errors:x}=y({category:s,tier:s==="marketplace"?n||"starter":void 0}),h=t=>{o(t),b("tier",t)},g=t=>{t.preventDefault();const r={category:s};s==="marketplace"&&(r.tier=d||"starter"),console.log("Submitting payment with data:",r),N.post(route("user.register.payment"),r,{onError:p=>{console.error("Payment submission errors:",p)},onSuccess:()=>{console.log("Payment submitted successfully")}})},c=s==="marketplace"&&a&&a[d]?a[d].price:m;return e.jsxs(e.Fragment,{children:[e.jsx(u,{title:"Payment"}),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-[#f6f8f6] px-4 py-12 dark:bg-[#102210]",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-[#0d1b0d] dark:text-white",children:"Complete Payment"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"You're almost there! Complete payment to activate your account."})]}),e.jsxs("div",{className:"rounded-2xl border border-[#e7f3e7] bg-white p-8 shadow-sm dark:border-gray-800 dark:bg-gray-900",children:[l&&l.length>1&&e.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("p",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Want to switch category?"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(t=>e.jsxs(f,{href:route("user.register",{category:t.value}),className:`rounded-full px-4 py-2 text-sm font-medium transition-colors ${t.value===s?"bg-[#13ec13] text-[#0d1b0d]":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"}`,children:[t.label," (GHâ‚µ ",t.price,")"]},t.value))})]}),s==="marketplace"&&a&&e.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 bg-gray-50 p-6 dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Select Your Store Plan"}),e.jsx("div",{className:"space-y-3",children:Object.entries(a).map(([t,r])=>e.jsx("button",{type:"button",onClick:()=>h(t),className:`w-full rounded-lg border-2 p-4 text-left transition-all ${d===t?"border-[#13ec13] bg-[#13ec13]/10":"border-gray-200 bg-white hover:border-[#13ec13]/50 dark:border-gray-700 dark:bg-[#162816]"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-bold text-[#0d1b0d] dark:text-white",children:r.name}),d===t&&e.jsx(v,{className:"h-5 w-5 text-[#13ec13]"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:r.description}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Up to ",r.product_limit," products"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-xl font-bold text-[#13ec13]",children:["GHâ‚µ ",r.price]})})]})},t))})]}),e.jsxs("div",{className:"mb-8 rounded-lg border border-gray-200 bg-gray-50 p-6 dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Category"}),e.jsx("span",{className:"font-semibold text-[#0d1b0d] dark:text-white",children:S[s]})]}),s==="marketplace"&&a&&a[d]&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Plan"}),e.jsx("span",{className:"font-semibold text-[#0d1b0d] dark:text-white",children:a[d].name})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Registration Fee"}),e.jsxs("span",{className:"font-semibold text-[#0d1b0d] dark:text-white",children:["GHâ‚µ ",c]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-2 dark:border-gray-700",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-bold text-[#0d1b0d] dark:text-white",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-[#13ec13]",children:["GHâ‚µ ",c]})]})})]})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-3 block text-sm font-semibold text-[#0d1b0d] dark:text-white",children:"Payment Method"}),e.jsx("div",{className:"rounded-lg border-2 border-[#13ec13] bg-[#13ec13]/10 p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-[#13ec13] text-white",children:e.jsx(w,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-[#0d1b0d] dark:text-white",children:"Paystack"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Secure payment via card, bank transfer, or mobile money"})]}),e.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-[#13ec13]",children:e.jsx(P,{className:"h-3 w-3 text-white"})})]})}),x.payment&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:x.payment})]}),e.jsx(k,{type:"submit",disabled:i,className:"h-12 w-full bg-[#13ec13] text-base font-bold text-[#0d1b0d] hover:bg-[#0eb50e] disabled:opacity-50",children:i?"Redirecting to Paystack...":`Pay GHâ‚µ ${c} with Paystack`})]}),e.jsx("div",{className:"mt-6 rounded-lg bg-blue-50 p-4 dark:bg-blue-900/20",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:["ðŸ”’ ",e.jsx("strong",{children:"Secure Payment:"})," You'll be redirected to Paystack's secure payment page to complete your transaction."]})})]})]})})]})}export{E as default};
