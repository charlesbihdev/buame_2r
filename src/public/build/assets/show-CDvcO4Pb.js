import{j as e,r as p,$ as k,K as V,L as D,S as M}from"./app-BTucPwNw.js";import{C as G}from"./caution-banner-SBxzzyHs.js";import{R as T}from"./review-section-hsDN5dbU.js";import{V as B}from"./video-embed-D_1EfIDD.js";import{S as E}from"./search-tMRSpZbq.js";import{R as z}from"./refresh-cw-BDydOikw.js";import{P as C}from"./package-DJxQAwsa.js";import{S as P}from"./store-CXWRTUE9.js";import{P as U}from"./phone-ivu2IfjR.js";import{M as A}from"./message-circle-CBnB4OGG.js";import{S as I}from"./share-2-CW9mWdoZ.js";import{C as L}from"./chevron-left-Bk4_yosa.js";import{C as W}from"./check-CA6OypIV.js";import{C as O}from"./copy--TvEQzJZ.js";import{M as F}from"./map-pin-Dm0vU45k.js";import{T as R}from"./truck-DfdN0iS4.js";import{E as Q}from"./eye-Ct0qnW2F.js";import{C as H}from"./chevron-right-BNSo7Onu.js";import{S as q}from"./sliders-horizontal-BaHUF6-K.js";import{G as K}from"./grid-3x3-BDP9nbdx.js";import{c as X}from"./createLucideIcon-5saRSsaN.js";import{X as Z}from"./x-xthpVldK.js";import{A as J}from"./arrow-left-U_Ex2BDo.js";import"./button-B9NT0Vqu.js";import"./shield-check-D3r-jdlr.js";import"./chevron-up-Bw9mT-3C.js";import"./chevron-down-_-o_ps-D.js";import"./star-wvKZbQjw.js";import"./input-Cvr8QDAc.js";import"./label-Dr5CgPJL.js";import"./index-BHMTPhAO.js";import"./textarea-rJxfKp4K.js";import"./camera-CnUTjXXH.js";import"./loader-circle-MusUKa2i.js";import"./message-square-BUecyhve.js";import"./index-C7F6P_AR.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],ee=X("LayoutList",Y);function re({hasFilters:r,onClearFilters:i,storeName:a}){return r?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-gray-200 bg-white px-6 py-16 text-center dark:border-gray-700 dark:bg-[var(--card)]",children:[e.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-amber-100 dark:bg-amber-900/30",children:e.jsx(E,{className:"h-10 w-10 text-amber-600 dark:text-amber-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-bold text-[var(--foreground)] dark:text-white",children:"No products match your search"}),e.jsx("p",{className:"mb-6 max-w-md text-gray-600 dark:text-gray-400",children:"We couldn't find any products matching your current filters. Try adjusting your search criteria or browse all products."}),e.jsxs("button",{onClick:i,className:"flex items-center gap-2 rounded-xl bg-[var(--primary)] px-6 py-3 font-semibold text-[var(--primary-foreground)] transition-all hover:bg-[var(--buame-primary-dark)] hover:shadow-lg hover:shadow-[var(--primary)]/25",children:[e.jsx(z,{className:"h-4 w-4"}),"Clear all filters"]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-gray-200 bg-white px-6 py-16 text-center dark:border-gray-700 dark:bg-[var(--card)]",children:[e.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800",children:e.jsx(C,{className:"h-10 w-10 text-gray-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-bold text-[var(--foreground)] dark:text-white",children:"No products yet"}),e.jsxs("p",{className:"max-w-md text-gray-600 dark:text-gray-400",children:[a," hasn't added any products yet. Check back later for new arrivals!"]})]})}function ae({store:r}){var s;const i=typeof window<"u"?`${window.location.origin}/store/${r.slug}`:`/store/${r.slug}`,a=()=>{var g,d;const l=`Hi! I'm interested in your products on ${r.name}`,x=((d=(g=r.user)==null?void 0:g.phone)==null?void 0:d.replace(/[^0-9]/g,""))||"";window.open(`https://wa.me/${x}?text=${encodeURIComponent(l)}`,"_blank")},m=async()=>{if(navigator.share)try{await navigator.share({title:r.name,text:`Check out ${r.name} on 2RBUAME!`,url:i})}catch(l){console.error("Share failed:",l)}else navigator.clipboard.writeText(i)};return e.jsx("footer",{className:"border-t border-gray-200 bg-white dark:border-gray-800 dark:bg-background-dark",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col items-center gap-6 text-center md:flex-row md:justify-between md:text-left",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-primary-dark",children:e.jsx(P,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-foreground dark:text-white",children:r.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Powered by 2RBUAME"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[((s=r.user)==null?void 0:s.phone)&&e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:`tel:${r.user.phone}`,className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-gray-700 transition-all hover:border-primary hover:bg-primary/10 dark:border-gray-700 dark:bg-card dark:text-gray-300",children:[e.jsx(U,{className:"h-4 w-4"}),"Call Store"]}),e.jsxs("button",{onClick:a,className:"flex items-center gap-2 rounded-lg bg-[#25D366] px-4 py-2 text-sm font-medium text-white transition-all hover:bg-[#20bd5a]",children:[e.jsx(A,{className:"h-4 w-4"}),"WhatsApp"]})]}),e.jsxs("button",{onClick:m,className:"flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-all hover:bg-primary-dark",children:[e.jsx(I,{className:"h-4 w-4"}),"Share Store"]})]})]}),e.jsx("div",{className:"mt-6 border-t border-gray-200 pt-6 text-center dark:border-gray-800",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Want your own online store?"," ",e.jsx("a",{href:"/",className:"font-semibold text-primary hover:underline",children:"Create one on 2RBUAME"})]})})]})})}function te({store:r}){var c,n;const[i,a]=p.useState(!1),[m,s]=p.useState(!1),l=typeof window<"u"?`${window.location.origin}/store/${r.slug}`:`/store/${r.slug}`,x=async()=>{try{await navigator.clipboard.writeText(l),a(!0),setTimeout(()=>a(!1),2e3)}catch(h){console.error("Failed to copy:",h)}},g=()=>{const h=`Check out ${r.name} on 2RBUAME! ${l}`;window.open(`https://wa.me/?text=${encodeURIComponent(h)}`,"_blank")},d=async()=>{if(navigator.share)try{await navigator.share({title:r.name,text:`Check out ${r.name} on 2RBUAME!`,url:l})}catch(h){console.error("Share failed:",h)}else s(!m)};return e.jsx("header",{className:"sticky top-0 z-50 border-b border-gray-200 bg-white/95 backdrop-blur-sm dark:border-gray-800 dark:bg-[var(--buame-background-dark)]/95",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{href:route("marketplace"),className:"flex h-9 w-9 items-center justify-center rounded-full bg-gray-100 text-gray-600 transition-colors hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700",children:e.jsx(L,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-[var(--primary)] to-[var(--buame-primary-dark)]",children:e.jsx(P,{className:"h-4 w-4 text-white"})}),e.jsx("span",{className:"font-bold text-[var(--foreground)] dark:text-white",children:r.name})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[((c=r.user)==null?void 0:c.phone)&&e.jsx("a",{href:`tel:${r.user.phone}`,className:"flex h-9 w-9 items-center justify-center rounded-full bg-gray-100 text-gray-600 transition-colors hover:bg-[var(--primary)]/10 hover:text-[var(--primary)] dark:bg-gray-800 dark:text-gray-400",title:"Call store",children:e.jsx(U,{className:"h-4 w-4"})}),((n=r.user)==null?void 0:n.phone)&&e.jsx("a",{href:`https://wa.me/${r.user.phone.replace(/[^0-9]/g,"")}?text=Hi! I'm interested in your products on ${r.name}`,target:"_blank",rel:"noopener noreferrer",className:"flex h-9 w-9 items-center justify-center rounded-full bg-[#25D366]/10 text-[#25D366] transition-colors hover:bg-[#25D366]/20",title:"Chat on WhatsApp",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:d,className:"flex h-9 items-center gap-2 rounded-full bg-[var(--primary)] px-4 font-semibold text-[var(--primary-foreground)] transition-colors hover:bg-[var(--buame-primary-dark)]",children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),m&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-lg dark:border-gray-700 dark:bg-[var(--card)]",children:[e.jsxs("button",{onClick:x,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-800",children:[i?e.jsx(W,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(O,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"dark:text-white",children:i?"Copied!":"Copy link"})]}),e.jsxs("button",{onClick:g,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-800",children:[e.jsx(A,{className:"h-4 w-4 text-[#25D366]"}),e.jsx("span",{className:"dark:text-white",children:"Share on WhatsApp"})]})]})]})]})]})})})}function se({store:r,productCount:i}){var d;const[a,m]=p.useState(!1),s=c=>c.split(" ").map(n=>n[0]).join("").substring(0,2).toUpperCase(),x=(c=>{const n=[{bg:"bg-emerald-600",text:"text-emerald-600"},{bg:"bg-teal-600",text:"text-teal-600"},{bg:"bg-green-600",text:"text-green-600"},{bg:"bg-cyan-600",text:"text-cyan-600"},{bg:"bg-lime-600",text:"text-lime-600"}],h=c.charCodeAt(0)%n.length;return n[h]})(r.name),g=r.thumbnail&&!a;return e.jsxs("div",{className:"dark:bg-background-dark relative border-b border-gray-200 bg-white dark:border-gray-800",children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.02] dark:opacity-[0.05]",children:e.jsx("div",{className:"h-full w-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),e.jsx("div",{className:"relative mx-auto max-w-7xl px-4 py-10 md:py-14",children:e.jsxs("div",{className:"flex flex-col items-center gap-6 md:flex-row md:items-center md:gap-8",children:[e.jsx("div",{className:"shrink-0",children:g?e.jsx("div",{className:"h-28 w-28 overflow-hidden rounded-2xl border-4 border-white shadow-lg md:h-36 md:w-36 dark:border-gray-800",children:e.jsx("img",{src:r.thumbnail,alt:r.name,className:"h-full w-full object-cover",onError:()=>m(!0)})}):e.jsx("div",{className:`flex h-28 w-28 items-center justify-center rounded-2xl border-4 border-white shadow-lg md:h-36 md:w-36 dark:border-gray-800 ${x.bg}`,children:e.jsx("span",{className:"text-4xl font-black text-white md:text-5xl",children:s(r.name)})})}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("div",{className:"mb-1 flex items-center justify-center gap-2 md:justify-start",children:e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),"Open"]})}),e.jsx("h1",{className:"text-foreground mb-2 text-2xl font-black md:text-3xl lg:text-4xl dark:text-white",children:r.name}),r.description&&e.jsx("p",{className:"mb-4 max-w-xl text-gray-600 dark:text-gray-400",children:r.description}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 md:justify-start",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[i," ",i===1?"product":"products"]})]}),((d=r.user)==null?void 0:d.name)&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:"•"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Sold by ",e.jsx("span",{className:"text-foreground font-medium dark:text-white",children:r.user.name})]})]})]})]})]})})]})}function le({product:r,viewMode:i="grid"}){const[a,m]=p.useState(!1),[s,l]=p.useState(!1),x=n=>({mobile_phones:"Mobile Phones & Accessories",electronics:"Electronics & Appliances",computers:"Computers & Laptops",fashion:"Fashion & Apparel",footwear:"Footwear",health_beauty:"Health & Beauty",groceries:"Groceries & Food Items",home_living:"Home & Living",baby_kids:"Baby & Kids",sports_outdoor:"Sports & Outdoor",automotive:"Automotive",books_stationery:"Books & Stationery",building_hardware:"Building & Hardware",agriculture:"Agriculture & Farm Supplies",pet_supplies:"Pet Supplies",gifts:"Gifts & Occasion Items",others:"Others"})[n]||n,g=n=>({new:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",like_new:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",used:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",refurbished:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"})[n]||"bg-gray-100 text-gray-700",d=n=>({new:"New",like_new:"Like New",used:"Used",refurbished:"Refurbished"})[n]||"",c=n=>new Intl.NumberFormat("en-GH",{minimumFractionDigits:0,maximumFractionDigits:2}).format(n);return i==="list"?e.jsxs(k,{href:route("marketplace.view",r.id),className:"group flex gap-4 rounded-2xl border border-gray-200 bg-white p-4 transition-all hover:border-[var(--primary)]/50 hover:shadow-lg dark:border-gray-800 dark:bg-[var(--card)] dark:hover:border-[var(--primary)]/50",children:[e.jsxs("div",{className:"relative h-32 w-32 shrink-0 overflow-hidden rounded-xl bg-gray-100 dark:bg-gray-900",children:[r.image?e.jsxs(e.Fragment,{children:[!s&&e.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-200 dark:bg-gray-800"}),e.jsx("img",{src:r.image,alt:r.title,className:`h-full w-full object-cover transition-all duration-300 group-hover:scale-105 ${s?"opacity-100":"opacity-0"}`,onLoad:()=>l(!0)})]}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(C,{className:"h-10 w-10 text-gray-400"})}),r.condition&&e.jsx("span",{className:`absolute left-2 top-2 rounded-full px-2 py-0.5 text-xs font-semibold ${g(r.condition)}`,children:d(r.condition)})]}),e.jsxs("div",{className:"flex flex-1 flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 flex items-start justify-between gap-2",children:e.jsx("h3",{className:"font-bold text-[var(--foreground)] transition-colors group-hover:text-[var(--primary)] dark:text-white",children:r.title})}),e.jsx("p",{className:"mb-2 text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400",children:x(r.category)})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-xl font-black text-[var(--primary)]",children:r.price!==null?`GH₵ ${c(r.price)}`:"Contact for price"}),r.price!==null&&r.price_type&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/",r.price_type]})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"h-3 w-3"}),r.location]}),r.delivery_available&&e.jsxs("span",{className:"flex items-center gap-1 text-[var(--primary)]",children:[e.jsx(R,{className:"h-3 w-3"}),"Delivery"]})]})]}),e.jsx("span",{className:"rounded-lg bg-[var(--primary)]/10 px-3 py-1.5 text-sm font-semibold text-white transition-colors group-hover:bg-[var(--primary)] dark:text-white",children:"View Details"})]})]})]}):e.jsxs(k,{href:route("marketplace.view",r.id),className:"group relative flex flex-col overflow-hidden rounded-2xl border border-gray-200 bg-white transition-all hover:border-[var(--primary)]/50 hover:shadow-xl dark:border-gray-800 dark:bg-[var(--card)] dark:hover:border-[var(--primary)]/50",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-100 dark:bg-gray-900",children:[r.image?e.jsxs(e.Fragment,{children:[!s&&e.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-200 dark:bg-gray-800"}),e.jsx("img",{src:r.image,alt:r.title,className:`h-full w-full object-cover transition-all duration-500 group-hover:scale-110 ${s?"opacity-100":"opacity-0"}`,onLoad:()=>l(!0)})]}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(C,{className:"h-16 w-16 text-gray-400"})}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`}),e.jsxs("div",{className:"absolute left-3 top-3 flex flex-col gap-2",children:[r.condition&&e.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold shadow-sm ${g(r.condition)}`,children:d(r.condition)}),r.delivery_available&&e.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-[var(--primary)] px-2.5 py-1 text-xs font-semibold text-[var(--primary-foreground)] shadow-sm",children:[e.jsx(R,{className:"h-3 w-3"}),"Delivery"]})]}),e.jsx("div",{className:`absolute bottom-3 left-3 right-3 transition-all duration-300 ${a?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:e.jsxs("span",{className:"flex w-full items-center justify-center gap-2 rounded-xl bg-white py-2.5 font-semibold text-[var(--foreground)] shadow-lg transition-colors hover:bg-[var(--primary)]",children:[e.jsx(Q,{className:"h-4 w-4"}),"Quick View"]})})]}),e.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-[var(--primary)]",children:x(r.category)}),e.jsx("h3",{className:"line-clamp-2 font-bold text-[var(--foreground)] transition-colors group-hover:text-[var(--primary)] dark:text-white",children:r.title})]}),e.jsxs("div",{className:"mt-auto",children:[e.jsxs("div",{className:"mb-2 flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-black text-[var(--foreground)] dark:text-white",children:r.price!==null?`GH₵ ${c(r.price)}`:"Contact for price"}),r.price!==null&&r.price_type&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/",r.price_type]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(F,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:r.location})]})]})]})]})}function ie({products:r,viewMode:i}){return e.jsxs("div",{children:[e.jsx("div",{className:i==="grid"?"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"flex flex-col gap-4",children:r.data.map(a=>e.jsx(le,{product:a,viewMode:i},a.id))}),r.last_page>1&&e.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",e.jsx("span",{className:"font-semibold",children:r.from})," to"," ",e.jsx("span",{className:"font-semibold",children:r.to})," of"," ",e.jsx("span",{className:"font-semibold",children:r.total})," products"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[r.prev_page_url?e.jsxs(k,{href:r.prev_page_url,className:"flex h-10 items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 text-sm font-medium text-gray-700 transition-all hover:border-[var(--primary)] hover:bg-[var(--primary)]/10 dark:border-gray-700 dark:bg-[var(--card)] dark:text-gray-300",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}):e.jsxs("span",{className:"flex h-10 cursor-not-allowed items-center gap-1 rounded-lg border border-gray-100 bg-gray-50 px-3 text-sm font-medium text-gray-400 dark:border-gray-800 dark:bg-[var(--buame-background-dark)]",children:[e.jsx(L,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),e.jsx("div",{className:"flex items-center gap-1",children:r.links.slice(1,-1).map((a,m)=>{const s=m+1,l=r.current_page,x=r.last_page,g=s===1||s===x||Math.abs(s-l)<=1,d=s===2&&l>3,c=s===x-1&&l<x-2;return!g&&!d&&!c?null:d&&s===2||c&&s===x-1?e.jsx("span",{className:"px-2 text-gray-400",children:"..."},m):a.url===null?null:e.jsx(k,{href:a.url,className:`flex h-10 w-10 items-center justify-center rounded-lg text-sm font-semibold transition-all ${a.active?"bg-[var(--primary)] text-[var(--primary-foreground)] shadow-md shadow-[var(--primary)]/25":"border border-gray-200 bg-white text-gray-700 hover:border-[var(--primary)] hover:bg-[var(--primary)]/10 dark:border-gray-700 dark:bg-[var(--card)] dark:text-gray-300"}`,children:a.label},m)})}),r.next_page_url?e.jsxs(k,{href:r.next_page_url,className:"flex h-10 items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 text-sm font-medium text-gray-700 transition-all hover:border-[var(--primary)] hover:bg-[var(--primary)]/10 dark:border-gray-700 dark:bg-[var(--card)] dark:text-gray-300",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx(H,{className:"h-4 w-4"})]}):e.jsxs("span",{className:"flex h-10 cursor-not-allowed items-center gap-1 rounded-lg border border-gray-100 bg-gray-50 px-3 text-sm font-medium text-gray-400 dark:border-gray-800 dark:bg-[var(--buame-background-dark)]",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx(H,{className:"h-4 w-4"})]})]})]})]})}function ne({searchQuery:r,setSearchQuery:i,location:a,setLocation:m,filters:s,categoryCounts:l,onSearch:x,onFilterChange:g,onClearFilters:d,viewMode:c,setViewMode:n}){const{marketplaceCategories:h={}}=V().props,[f,N]=p.useState(!1),[j,$]=p.useState(""),v=p.useMemo(()=>Object.entries(h).map(([t,b])=>({value:t,label:b})),[h]),S=p.useMemo(()=>j?v.filter(t=>t.label.toLowerCase().includes(j.toLowerCase())):v,[v,j]),y=p.useMemo(()=>[...v].filter(t=>((l==null?void 0:l[t.value])||0)>0).sort((t,b)=>((l==null?void 0:l[b.value])||0)-((l==null?void 0:l[t.value])||0)),[v,l]),_=[{value:"newest",label:"Newest First"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"},{value:"name",label:"Name: A to Z"}],w=(s==null?void 0:s.category)||(s==null?void 0:s.sort)||r||a,u=t=>{g("category",t),N(!1)};return e.jsx("div",{className:"sticky top-[57px] z-40 border-b border-gray-200 bg-white/95 backdrop-blur-sm dark:border-gray-800 dark:bg-[var(--background-dark)]/95",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-4",children:[e.jsxs("form",{onSubmit:x,className:"flex flex-col gap-3 md:flex-row",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(E,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:r,onChange:t=>i(t.target.value),placeholder:"Search products in this store...",className:"w-full rounded-xl border border-gray-200 bg-gray-50 py-3 pl-12 pr-4 text-sm transition-colors focus:border-[var(--primary)] focus:bg-white focus:ring-2 focus:ring-[var(--primary)]/20 focus:outline-none dark:border-gray-700 dark:bg-[var(--card)] dark:text-white dark:focus:bg-[var(--card)]"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 md:w-40 md:flex-none",children:[e.jsx(F,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:a,onChange:t=>m(t.target.value),placeholder:"Location",className:"w-full rounded-xl border border-gray-200 bg-gray-50 py-3 pl-10 pr-4 text-sm transition-colors focus:border-[var(--primary)] focus:bg-white focus:ring-2 focus:ring-[var(--primary)]/20 focus:outline-none dark:border-gray-700 dark:bg-[var(--card)] dark:text-white"})]}),e.jsx("button",{type:"submit",className:"rounded-xl bg-[var(--primary)] px-6 py-3 font-semibold text-[var(--primary-foreground)] transition-all hover:bg-[var(--buame-primary-dark)] hover:shadow-lg hover:shadow-[var(--primary)]/25",children:"Search"}),e.jsxs("button",{type:"button",onClick:()=>N(!f),className:`flex items-center gap-2 rounded-xl border px-4 py-3 font-semibold transition-all ${f||w?"border-[var(--primary)] bg-[var(--primary)]/10 text-[var(--primary)] dark:text-[var(--primary)]":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 dark:border-gray-700 dark:bg-[var(--card)] dark:text-gray-400"}`,children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Filters"}),w&&e.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-[var(--primary)] text-xs font-bold text-[var(--primary-foreground)]",children:"!"})]})]})]}),f&&e.jsxs("div",{className:"mt-4 rounded-xl border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-[var(--card)]",children:[e.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Categories"}),e.jsxs("div",{className:"relative w-48",children:[e.jsx("input",{type:"text",placeholder:"Find category...",value:j,onChange:t=>$(t.target.value),className:"w-full rounded-lg border border-gray-200 bg-white py-1.5 pl-8 pr-3 text-xs focus:border-[var(--primary)] focus:outline-none dark:border-gray-600 dark:bg-[var(--background-dark)] dark:text-gray-200"}),e.jsx(E,{className:"absolute left-2.5 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-gray-400"})]})]}),e.jsx("div",{className:"max-h-60 overflow-y-auto rounded-lg border border-gray-200 bg-white p-2 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-200 dark:border-gray-700 dark:bg-[var(--background-dark)] dark:scrollbar-thumb-gray-700",children:S.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-1 sm:grid-cols-2 md:grid-cols-3",children:S.map(t=>{const b=(l==null?void 0:l[t.value])||0,o=(s==null?void 0:s.category)===t.value;return e.jsxs("button",{onClick:()=>u(o?null:t.value),className:`flex items-center justify-between rounded-md px-3 py-2 text-left text-sm transition-all ${o?"bg-[var(--primary)] text-[var(--primary-foreground)]":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"}`,children:[e.jsx("span",{className:"truncate mr-2 flex items-center gap-2",children:e.jsx("span",{className:"truncate",children:t.label})}),b>0&&e.jsx("span",{className:`shrink-0 rounded-full px-1.5 py-0.5 text-xs ${o?"bg-[var(--foreground)]/20 text-[var(--foreground)]":"bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:b})]},t.value)})}):e.jsxs("div",{className:"py-8 text-center text-sm text-gray-500 dark:text-gray-400",children:['No categories found matching "',j,'"']})})]}),e.jsxs("div",{className:"flex flex-col gap-4 lg:w-64",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Sort By"}),e.jsx("select",{value:(s==null?void 0:s.sort)!=null?String(s.sort):"newest",onChange:t=>g("sort",t.target.value),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)]/20 focus:outline-none dark:border-gray-700 dark:bg-[var(--background-dark)] dark:text-white",children:_.map(t=>e.jsx("option",{value:t.value,children:t.label},t.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"View"}),e.jsxs("div",{className:"flex rounded-lg border border-gray-200 bg-white p-1 dark:border-gray-700 dark:bg-[var(--background-dark)]",children:[e.jsxs("button",{onClick:()=>n("grid"),className:`flex flex-1 items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium transition-all ${c==="grid"?"bg-[var(--primary)] text-[var(--primary-foreground)]":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"}`,children:[e.jsx(K,{className:"h-4 w-4"}),"Grid"]}),e.jsxs("button",{onClick:()=>n("list"),className:`flex flex-1 items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium transition-all ${c==="list"?"bg-[var(--primary)] text-[var(--primary-foreground)]":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"}`,children:[e.jsx(ee,{className:"h-4 w-4"}),"List"]})]})]})]})]}),w&&e.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4 dark:border-gray-700",children:e.jsxs("button",{onClick:()=>{d(),N(!1)},className:"flex items-center gap-2 text-sm font-medium text-red-600 transition-colors hover:text-red-700",children:[e.jsx(Z,{className:"h-4 w-4"}),"Clear all filters"]})})]}),!f&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 overflow-x-auto pb-1 scrollbar-hide",children:[e.jsx("span",{className:"shrink-0 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Quick:"}),y.slice(0,10).map(t=>{const b=(l==null?void 0:l[t.value])||0,o=(s==null?void 0:s.category)===t.value;return e.jsxs("button",{onClick:()=>g("category",o?null:t.value),className:`flex shrink-0 items-center gap-1.5 rounded-full px-3 py-1.5 text-xs font-medium transition-all ${o?"bg-[var(--primary)] text-[var(--primary-foreground)]":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:[e.jsx("span",{children:t.label}),e.jsxs("span",{className:"opacity-60",children:["(",b,")"]})]},t.value)})]})]})})}function ze({store:r,products:i,filters:a,categoryCounts:m,reviews:s=[],average_rating:l=0,reviews_count:x=0,rating_breakdown:g={}}){const[d,c]=p.useState((a==null?void 0:a.search)||""),[n,h]=p.useState((a==null?void 0:a.location)||""),[f,N]=p.useState("grid"),j=u=>{u.preventDefault(),M.get(route("store.show",r.slug),{search:d||void 0,location:n||void 0,category:a==null?void 0:a.category,sort:a==null?void 0:a.sort},{preserveState:!0,preserveScroll:!0})},$=(u,t)=>{M.get(route("store.show",r.slug),{search:d||void 0,location:n||void 0,[u]:t==="all"||t==="newest"?void 0:t,...u!=="category"&&(a==null?void 0:a.category)&&{category:a.category},...u!=="sort"&&(a==null?void 0:a.sort)&&a.sort!=="newest"&&{sort:a.sort}},{preserveState:!0,preserveScroll:!0})},v=()=>{c(""),h(""),M.get(route("store.show",r.slug),{},{preserveState:!0,preserveScroll:!0})},S=(a==null?void 0:a.category)||(a==null?void 0:a.sort)||d||n,y=(i==null?void 0:i.total)||0,_=(i==null?void 0:i.data)&&i.data.length>0,w=r.description?r.description.substring(0,150):`Shop at ${r.name} - Browse ${y} products`;return e.jsxs("div",{className:"min-h-screen bg-[var(--background)] dark:bg-[var(--buame-background-dark)]",children:[e.jsxs(D,{title:r.name,children:[e.jsx("meta",{name:"description",content:`${r.name} - ${w}${w.length>=150?"...":""} Shop ${y} products on 2RBUAME marketplace.`}),e.jsx("meta",{name:"keywords",content:`${r.name}, marketplace, shop, products, buy, Ghana, 2RBUAME`}),e.jsx("meta",{property:"og:title",content:`${r.name} | 2RBUAME Marketplace`}),e.jsx("meta",{property:"og:description",content:`Shop at ${r.name}. Browse ${y} products on 2RBUAME.`}),e.jsx("meta",{property:"og:type",content:"website"}),r.logo&&e.jsx("meta",{property:"og:image",content:r.logo}),e.jsx("meta",{name:"twitter:title",content:`${r.name} | 2RBUAME Marketplace`}),e.jsx("meta",{name:"twitter:description",content:`Shop at ${r.name}. Browse ${y} products on 2RBUAME.`}),r.logo&&e.jsx("meta",{name:"twitter:image",content:r.logo})]}),e.jsx(te,{store:r}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 pt-4",children:e.jsxs("button",{onClick:()=>window.history.length>1?window.history.back():window.location.href="/marketplace",className:"inline-flex items-center gap-2 text-sm font-semibold text-gray-600 transition-colors hover:text-[var(--primary)] dark:text-gray-400",children:[e.jsx(J,{className:"h-4 w-4"}),"Back"]})}),e.jsx(se,{store:r,productCount:y}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-8",children:e.jsx(G,{type:"product"})}),e.jsx(ne,{searchQuery:d,setSearchQuery:c,location:n,setLocation:h,filters:a,categoryCounts:m,onSearch:j,onFilterChange:$,onClearFilters:v,viewMode:f,setViewMode:N}),e.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-8",children:[e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsxs("h2",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:[S?"Search Results":"All Products",e.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",y," ",y===1?"item":"items",")"]})]})}),_?e.jsx(ie,{products:i,viewMode:f}):e.jsx(re,{hasFilters:S,onClearFilters:v,storeName:r.name}),r.video_links&&r.video_links.length>0&&(()=>{const u=["tiktok","instagram"],t=r.video_links.filter(o=>u.includes(o.platform)),b=r.video_links.filter(o=>!u.includes(o.platform));return e.jsxs("div",{className:"mb-8 rounded-xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-[var(--card)]",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold text-[var(--foreground)] dark:text-white",children:"Store Videos"}),e.jsxs("div",{className:"space-y-4",children:[b.length>0&&e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:b.map(o=>e.jsx(B,{url:o.url,platform:o.platform,embedUrl:o.embed_url,tiktokVideoId:o.tiktok_video_id,title:o.title},o.id))}),t.length>0&&e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:t.map(o=>e.jsx("div",{className:"min-h-[480px]",style:{height:"480px"},children:e.jsx(B,{url:o.url,platform:o.platform,embedUrl:o.embed_url,tiktokVideoId:o.tiktok_video_id,title:o.title})},o.id))})]})]})})(),e.jsx(T,{reviewableType:"store",reviewableId:r==null?void 0:r.id,reviews:s,averageRating:l,reviewsCount:x,ratingBreakdown:g})]}),e.jsx(ae,{store:r})]})}export{ze as default};
