import{r as x,S as c,j as e,$ as v}from"./app-B7h8rgi_.js";import{C as u}from"./checkbox-DvHy6oCY.js";import{I as j}from"./input-BVoJ6rXh.js";import{L as b}from"./label-BzdC3pjm.js";import{B as S}from"./button-DpcqV80c.js";import{M as _}from"./map-pin-DskcWg-U.js";import{B as E}from"./banknote-CvXBlDrU.js";import{C as T}from"./clock-B-9CODQs.js";function D({filters:r={}}){const a=[{id:"full_time",label:"Full Time"},{id:"part_time",label:"Part Time"},{id:"contract",label:"Contract"},{id:"internship",label:"Internship"},{id:"daily_wage",label:"Daily Wage"},{id:"apprenticeship",label:"Apprenticeship"}],k=[{id:"construction_trades",label:"Construction & Trades"},{id:"home_services",label:"Home Services"},{id:"auto_mechanical",label:"Auto & Mechanical"},{id:"transport_equipment",label:"Transport & Equipment"},{id:"electrical_electronics",label:"Electrical & Electronics"},{id:"ict_digital",label:"ICT & Digital"},{id:"business_office",label:"Business & Office"},{id:"education_training",label:"Education & Training"},{id:"health_care",label:"Health & Care"},{id:"hospitality_events",label:"Hospitality & Events"},{id:"fashion_beauty",label:"Fashion & Beauty"},{id:"agriculture",label:"Agriculture"},{id:"security",label:"Security"},{id:"media_creative",label:"Media & Creative"},{id:"general_jobs",label:"General Jobs"}],[h,w]=x.useState(r.location||""),[p,N]=x.useState(r.salary||""),C=x.useCallback((t,l)=>{const n=new URLSearchParams(window.location.search);l==="all"||l===""||l===null?n.delete(t):n.set(t,l),n.delete("page"),c.get("/jobs",Object.fromEntries(n),{preserveState:!0,preserveScroll:!0})},[]),y=x.useCallback(()=>{const t=new URLSearchParams(window.location.search);h.trim()?t.set("location",h.trim()):t.delete("location"),t.delete("page"),c.get("/jobs",Object.fromEntries(t),{preserveState:!0,preserveScroll:!0})},[h]),f=x.useCallback(()=>{const t=new URLSearchParams(window.location.search);p.trim()?t.set("salary",p.trim()):t.delete("salary"),t.delete("page"),c.get("/jobs",Object.fromEntries(t),{preserveState:!0,preserveScroll:!0})},[p]),d=Array.isArray(r.type)?r.type:r.type&&r.type!=="all"?r.type.includes(",")?r.type.split(",").map(t=>t.trim()):[r.type]:[],o=Array.isArray(r.category)?r.category:r.category&&r.category!=="all"?r.category.includes(",")?r.category.split(",").map(t=>t.trim()):[r.category]:[];return e.jsxs("aside",{className:"hidden min-h-[calc(100vh-80px)] w-80 shrink-0 flex-col gap-8 border-r border-[var(--buame-border-light)] bg-white p-6 lg:flex dark:border-white/10 dark:bg-white/5",children:[(d.length>0||o.length>0||r.location||r.salary||r.urgent)&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-bold tracking-wider text-gray-500 uppercase dark:text-gray-400",children:"Active Filters"}),e.jsx("button",{onClick:()=>c.get("/jobs"),className:"text-xs text-[var(--primary)] hover:underline",children:"Clear All"})]}),e.jsxs("div",{className:"bg-background-light dark:bg-background-dark grid grid-cols-1 overflow-hidden rounded-lg border border-[var(--buame-border-light)] dark:border-white/10",children:[d.length>0&&e.jsxs("div",{className:"flex items-center justify-between border-b border-[var(--buame-border-light)] p-3 dark:border-white/10",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Type"}),e.jsx("span",{className:"text-sm font-medium dark:text-white",children:d.join(", ")})]}),o.length>0&&e.jsxs("div",{className:"flex items-center justify-between border-b border-[var(--buame-border-light)] p-3 dark:border-white/10",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Category"}),e.jsx("span",{className:"text-sm font-medium capitalize dark:text-white",children:o.join(", ")})]}),r.location&&e.jsxs("div",{className:"flex items-center justify-between border-b border-[var(--buame-border-light)] p-3 dark:border-white/10",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Location"}),e.jsx("span",{className:"text-sm font-medium dark:text-white",children:r.location})]}),r.salary&&e.jsxs("div",{className:"flex items-center justify-between border-b border-[var(--buame-border-light)] p-3 dark:border-white/10",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Salary"}),e.jsx("span",{className:"text-sm font-medium dark:text-white",children:r.salary})]}),r.urgent&&e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Urgent"}),e.jsx("span",{className:"text-sm font-medium dark:text-white",children:"Yes"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold dark:text-white",children:"Job Type"}),e.jsx("div",{className:"flex flex-col gap-3",children:a.map(t=>{const l=d.includes(t.id);return e.jsxs(b,{className:"group flex cursor-pointer items-center gap-3",children:[e.jsx(u,{checked:l,onCheckedChange:n=>{const s=new URLSearchParams(window.location.search),m=d;let i;n?i=[...m,t.id]:i=m.filter(g=>g!==t.id),i.length===0?s.delete("type"):s.set("type",i.join(",")),s.delete("page"),c.get("/jobs",Object.fromEntries(s),{preserveState:!0,preserveScroll:!0})},className:"rounded border-gray-300 bg-transparent text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx("span",{className:"text-sm font-medium transition-colors group-hover:text-[var(--primary)] dark:text-gray-200",children:t.label})]},t.id)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold dark:text-white",children:"Category"}),e.jsx("div",{className:"flex flex-col gap-3",children:k.map(t=>{const l=o.includes(t.id);return e.jsxs(b,{className:"group flex cursor-pointer items-center gap-3",children:[e.jsx(u,{checked:l,onCheckedChange:n=>{const s=new URLSearchParams(window.location.search),m=o;let i;n?i=[...m,t.id]:i=m.filter(g=>g!==t.id),i.length===0?s.delete("category"):s.set("category",i.join(",")),s.delete("page"),c.get("/jobs",Object.fromEntries(s),{preserveState:!0,preserveScroll:!0})},className:"rounded border-gray-300 bg-transparent text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx("span",{className:"text-sm font-medium transition-colors group-hover:text-[var(--primary)] dark:text-gray-200",children:t.label})]},t.id)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold dark:text-white",children:"Location"}),e.jsx(j,{type:"text",placeholder:"e.g., Western North, Bibiani",value:h,onChange:t=>w(t.target.value),onBlur:y,onKeyDown:t=>t.key==="Enter"&&y(),className:"h-10"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold dark:text-white",children:"Salary"}),e.jsx(j,{type:"text",placeholder:"Search salary text",value:p,onChange:t=>N(t.target.value),onBlur:f,onKeyDown:t=>t.key==="Enter"&&f(),className:"h-10"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold dark:text-white",children:"Urgent Jobs"}),e.jsxs(b,{className:"group flex cursor-pointer items-center gap-3",children:[e.jsx(u,{checked:r.urgent==="1",onCheckedChange:t=>C("urgent",t?"1":""),className:"rounded border-gray-300 bg-transparent text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx("span",{className:"text-sm font-medium transition-colors group-hover:text-[var(--primary)] dark:text-gray-200",children:"Urgent Only"})]})]})]})}const L=r=>{if(!r)return null;const a=r.toString().trim();return a.startsWith("₵")||a.startsWith("GH₵")||a.toLowerCase().startsWith("ghs")?a:`₵${a}`};function A({job:r}){return e.jsx("div",{className:"group flex flex-col overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all duration-300 hover:border-[var(--primary)]/50 hover:shadow-lg dark:border-white/10 dark:bg-white/5",children:e.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-base leading-tight font-bold text-[var(--foreground)] dark:text-white",children:r.title}),r.company&&e.jsx("p",{className:"mt-1 text-sm font-medium text-gray-600 dark:text-gray-400",children:r.company}),r.poster&&e.jsx(v,{href:`/jobs/employer/${r.poster.slug}`,className:"mt-1 text-sm font-medium text-[var(--primary)] hover:underline",onClick:a=>a.stopPropagation(),children:r.poster.name})]}),r.is_urgent&&e.jsx("span",{className:"shrink-0 rounded-full bg-red-500 px-2 py-0.5 text-xs font-bold text-white",children:"Urgent"})]}),e.jsxs("div",{className:"mb-3 flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"rounded bg-[var(--primary)]/10 px-2 py-0.5 text-xs font-medium text-[var(--primary)]",children:r.type_label}),r.category&&e.jsx("span",{className:"rounded bg-gray-100 px-2 py-0.5 text-xs font-medium text-gray-600 dark:bg-gray-700 dark:text-gray-400",children:r.category})]}),e.jsxs("div",{className:"mb-3 flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(_,{className:"h-4 w-4 shrink-0"}),e.jsx("span",{className:"truncate",children:r.location})]}),r.salary&&e.jsxs("div",{className:"mb-3 flex items-center gap-1.5 text-sm font-semibold text-[var(--foreground)] dark:text-white",children:[e.jsx(E,{className:"h-4 w-4 text-[var(--primary)]"}),e.jsx("span",{children:L(r.salary)})]}),e.jsxs("div",{className:"mb-3 flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(T,{className:"h-4 w-4 shrink-0"}),e.jsxs("span",{children:["Posted ",r.posted_at_human]})]}),(r.requirements_count>0||r.benefits_count>0)&&e.jsxs("div",{className:"mb-4 flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[r.requirements_count>0&&e.jsxs("span",{children:[r.requirements_count," requirements"]}),r.benefits_count>0&&e.jsxs("span",{children:[r.benefits_count," benefits"]})]}),e.jsx("div",{className:"mt-auto flex items-center justify-between border-t border-[var(--buame-border-light)] pt-4 dark:border-white/10",children:e.jsx(S,{asChild:!0,variant:"ghost",className:"text-sm font-bold text-[var(--primary)] hover:text-[var(--primary)] hover:underline",children:e.jsx(v,{href:`/jobs/${r.id}`,children:"View Details"})})})]})})}function W({jobs:r=[]}){return r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-600 dark:text-gray-400",children:"No jobs found"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-500",children:"Try adjusting your filters or check back later."})]}):e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-3",children:r.map(a=>e.jsx(A,{job:a},a.id))})}export{D as J,W as a};
