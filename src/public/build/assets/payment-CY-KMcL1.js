import{r as y,m as u,j as e,L as f,$ as j,S as v}from"./app-DW3JJPAR.js";import{B as N}from"./button-BqAkqotX.js";import{C as k}from"./circle-check-big-CycYbfhF.js";import{C as w}from"./credit-card-BLatAZVt.js";import{C as P}from"./check-DUqP6bBt.js";import"./createLucideIcon-nQlAu2lu.js";const S={artisans:"Artisans",hotels:"Hotel",transport:"Okada",rentals:"Rentals",marketplace:"Marketplace",jobs:"Jobs"};function E({category:a,amount:m,categories:d,user:C,tiers:t,selectedTier:i}){const[l,x]=y.useState(i||"starter"),{setData:b,processing:o,errors:c}=u({category:a,tier:a==="marketplace"?i||"starter":void 0}),h=r=>{x(r),b("tier",r)},g=r=>{r.preventDefault();const s={category:a};a==="marketplace"&&(s.tier=l||"starter"),console.log("Submitting payment with data:",s),v.post(route("user.register.payment"),s,{onError:p=>{console.error("Payment submission errors:",p)},onSuccess:()=>{console.log("Payment submitted successfully")}})},n=a==="marketplace"&&t&&t[l]?t[l].price:m;return e.jsxs(e.Fragment,{children:[e.jsx(f,{title:"Payment"}),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-[#f6f8f6] px-4 py-12 dark:bg-[var(--buame-background-dark)]",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-[var(--foreground)] dark:text-white",children:"Complete Payment"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"You're almost there! Complete payment to activate your account."})]}),e.jsxs("div",{className:"rounded-2xl border border-[var(--buame-border-light)] bg-white p-8 shadow-sm dark:border-gray-800 dark:bg-gray-900",children:[d&&d.length>1&&e.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("p",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Want to switch category?"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d.map(r=>e.jsxs(j,{href:route("user.register",{category:r.value}),className:`rounded-full px-4 py-2 text-sm font-medium transition-colors ${r.value===a?"bg-[var(--primary)] text-white":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600"}`,children:[r.label," (GHâ‚µ ",r.price,")"]},r.value))})]}),a==="marketplace"&&t&&e.jsxs("div",{className:"mb-6 rounded-lg border border-gray-200 bg-gray-50 p-6 dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Select Your Store Plan"}),e.jsx("div",{className:"space-y-3",children:Object.entries(t).map(([r,s])=>e.jsx("button",{type:"button",onClick:()=>h(r),className:`w-full rounded-lg border-2 p-4 text-left transition-all ${l===r?"border-[var(--primary)] bg-[var(--primary)]/10":"border-gray-200 bg-white hover:border-[var(--primary)]/50 dark:border-gray-700 dark:bg-[var(--card)]"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-bold text-[var(--foreground)] dark:text-white",children:s.name}),l===r&&e.jsx(k,{className:"h-5 w-5 text-[var(--primary)]"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:s.description}),e.jsxs("p",{className:"mt-2 text-xs text-gray-500",children:["Up to ",s.product_limit," products"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-xl font-bold text-[var(--primary)]",children:["GHâ‚µ ",s.price]})})]})},r))})]}),e.jsxs("div",{className:"mb-8 rounded-lg border border-gray-200 bg-gray-50 p-6 dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Category"}),e.jsx("span",{className:"font-semibold text-[var(--foreground)] dark:text-white",children:S[a]})]}),a==="marketplace"&&t&&t[l]&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Plan"}),e.jsx("span",{className:"font-semibold text-[var(--foreground)] dark:text-white",children:t[l].name})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Registration Fee"}),e.jsxs("span",{className:"font-semibold text-[var(--foreground)] dark:text-white",children:["GHâ‚µ ",n]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-2 dark:border-gray-700",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-bold text-[var(--foreground)] dark:text-white",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-[var(--primary)]",children:["GHâ‚µ ",n]})]})})]})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"mb-3 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Payment Method"}),e.jsx("div",{className:"rounded-lg border-2 border-[var(--primary)] bg-[var(--primary)]/10 p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-[var(--primary)] text-white",children:e.jsx(w,{className:"h-6 w-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-[var(--foreground)] dark:text-white",children:"Paystack"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Secure payment via card, bank transfer, or mobile money"})]}),e.jsx("div",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-[var(--primary)]",children:e.jsx(P,{className:"h-3 w-3 text-white"})})]})}),c.payment&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:c.payment})]}),e.jsx(N,{type:"submit",disabled:o,className:"h-12 w-full bg-[var(--primary)] text-base font-bold text-white hover:bg-[#0eb50e] disabled:opacity-50",children:o?"Redirecting to Paystack...":`Pay GHâ‚µ ${n} with Paystack`})]}),e.jsx("div",{className:"mt-6 rounded-lg bg-blue-50 p-4 dark:bg-blue-900/20",children:e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-300",children:["ðŸ”’ ",e.jsx("strong",{children:"Secure Payment:"})," You'll be redirected to Paystack's secure payment page to complete your transaction."]})})]})]})})]})}export{E as default};
