import{r as a,m as g,j as e,L as y,S as N}from"./app-Dxpbdbp-.js";import{B as S}from"./button-Ddh2pgYs.js";import{I as w}from"./input-WeaLLMUP.js";import{S as C}from"./shield-T9KGnMUc.js";import"./createLucideIcon-zv5RrChz.js";function E({phone:n,status:o}){const[x,i]=a.useState(120),[c,l]=a.useState(!1),{data:d,setData:u,post:h,processing:r,errors:m}=g({phone:n,code:""});a.useEffect(()=>{const t=setInterval(()=>{i(s=>s<=1?(l(!0),clearInterval(t),0):s-1)},1e3);return()=>clearInterval(t)},[]);const f=t=>{t.preventDefault(),h(route("user.register.verify"))},p=()=>{c&&N.post(route("user.register.resend-otp"),{},{preserveScroll:!0,onSuccess:()=>{i(120),l(!1)}})},b=t=>{const s=t.target.value.replace(/\D/g,"").slice(0,6);u("code",s)},v=t=>{const s=Math.floor(t/60),j=t%60;return`${s}:${j.toString().padStart(2,"0")}`};return e.jsxs(e.Fragment,{children:[e.jsx(y,{title:"Verify Phone"}),e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-[#f6f8f6] px-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-[var(--primary)]/10",children:e.jsx(C,{className:"h-8 w-8 text-[var(--primary)]"})}),e.jsx("h1",{className:"text-3xl font-bold text-[var(--foreground)]",children:"Verify Your Phone"}),e.jsxs("p",{className:"mt-2 text-gray-600",children:["We sent a verification code to ",e.jsx("span",{className:"font-semibold",children:n})]})]}),e.jsxs("div",{className:"rounded-2xl border border-[var(--buame-border-light)] bg-white p-8 shadow-sm",children:[o&&e.jsx("div",{className:"mb-4 rounded-lg bg-[var(--primary)]/10 p-3 text-sm font-medium text-[var(--primary)]",children:o}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"code",className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"Verification Code"}),e.jsx(w,{id:"code",type:"text",inputMode:"numeric",value:d.code,onChange:b,placeholder:"Enter 6-digit code",className:"h-14 text-center text-2xl font-bold tracking-widest",maxLength:6,autoFocus:!0}),m.code&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:m.code})]}),e.jsx(S,{type:"submit",disabled:r||d.code.length!==6,className:"h-12 w-full bg-[var(--primary)] text-base font-bold text-white hover:bg-[#0eb50e]",children:r?"Verifying...":"Verify Phone"})]}),e.jsx("div",{className:"mt-6 text-center",children:c?e.jsx("button",{onClick:p,disabled:r,className:"text-sm font-semibold text-[var(--primary)] hover:underline disabled:opacity-50",children:"Resend Code"}):e.jsxs("p",{className:"text-sm text-gray-600",children:["Resend code in ",e.jsx("span",{className:"font-semibold",children:v(x)})]})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Didn't receive the code? Check your SMS inbox or request a new code."})})]})]})})]})}export{E as default};
