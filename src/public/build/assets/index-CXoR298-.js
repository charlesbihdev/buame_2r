import{j as e,K as B,r as S,m as U,S as D,$ as Fe,L as Ie}from"./app-CBU6yRsz.js";import{B as _}from"./button-RGfC6CUc.js";import{c as T}from"./createLucideIcon-B_ll2QSU.js";import{I as w}from"./input-7LKRM7Vi.js";import{L as o}from"./label-Dzjplrhf.js";import{S as V,a as z,b as W,c as q,d as Y}from"./select-GjUyG89m.js";import{T as J}from"./textarea-_9hIHIN0.js";import{X as M}from"./x-BzB0ZjHx.js";import{C as E}from"./circle-check-big-CRG4pysx.js";import{D as ie,b as ne,c as ce,d as oe,e as Ae,f as me}from"./dialog-doDT79Ya.js";import{B as te}from"./briefcase-DpIKwf5K.js";import{S as pe,H as ve}from"./shopping-bag-B-BZO7Ii.js";import{H as xe}from"./house-DC0pJWiK.js";import{B as ye}from"./bike-COgNqTyZ.js";import{H as Ne}from"./hammer-CtCQc2F6.js";import{C as Re}from"./credit-card-CVOaX1SO.js";import{S as Z}from"./star-hQg1Df92.js";import{T as De,a as Me,b as ge,c as ue}from"./tabs-DDU6MfHp.js";import{M as fe}from"./map-pin-BwOn_SRG.js";import{P as se}from"./package-fXz2_3v_.js";import{E as he}from"./eye-C-0ZI7u-.js";import{C as Le}from"./copy-rBqsiXS4.js";import{E as Te}from"./external-link-ELKNS-_u.js";import{T as He}from"./trending-up-BT-j1PsS.js";import{L as ke}from"./loader-circle-QHOgR3e_.js";import{C as Ue}from"./circle-check-Dx6bpIOd.js";import{M as $e}from"./menu-Ccn4YGT2.js";import{S as Oe}from"./store-BpxyXl0u.js";import{C as Be}from"./car-BV8yhR__.js";import{B as Ge}from"./building-2-FCLCNQGS.js";import{U as Ve}from"./user-hLLODqHc.js";import"./index-CBKDD4aV.js";import"./index-C6Zws6Ft.js";import"./index-D2gyRKpy.js";import"./index-C_Z9QEYx.js";import"./index-W687FI-5.js";import"./index-DlnqKScL.js";import"./chevron-down-DKDEgRpI.js";import"./check-3SP8CHhH.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],we=T("ArrowUpRight",ze);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],be=T("Bell",We);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ae=T("CircleAlert",qe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_e=T("EyeOff",Ye);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],ee=T("ImagePlus",Je);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$=T("Image",Ke);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Xe=T("ListChecks",Qe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ee=T("Lock",Ze);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ss=T("LogOut",es);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ts=T("Pen",as);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],H=T("Plus",rs);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],re=T("Save",ls);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],X=T("SquarePen",ds);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],O=T("Trash2",is);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],K=T("Upload",ns);function g({error:s,className:a=""}){return s?e.jsxs("div",{className:`flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${a}`,children:[e.jsx(ae,{className:"h-4 w-4 shrink-0"}),e.jsx("span",{children:s})]}):null}function cs({profile:s}){var j;const{errors:a}=B().props,[t,r]=S.useState(((j=s==null?void 0:s.specialties)==null?void 0:j.map(x=>x.specialty))||[]),[d,i]=S.useState(""),[l,y]=S.useState((s==null?void 0:s.profile_image)||null),{data:u,setData:c,post:m,processing:p,errors:N,recentlySuccessful:b}=U({_method:"PUT",name:(s==null?void 0:s.name)||"",skill:(s==null?void 0:s.skill)||"",skill_type:(s==null?void 0:s.skill_type)||"other",description:(s==null?void 0:s.description)||"",experience_years:(s==null?void 0:s.experience_years)||"",experience_level:(s==null?void 0:s.experience_level)||"",price_per_day:(s==null?void 0:s.price_per_day)||"",location:(s==null?void 0:s.location)||"",address:(s==null?void 0:s.address)||"",phone:(s==null?void 0:s.phone)||"",whatsapp:(s==null?void 0:s.whatsapp)||"",email:(s==null?void 0:s.email)||"",working_hours:(s==null?void 0:s.working_hours)||"",is_available:(s==null?void 0:s.is_available)??!0,specialties:t,profile_image:null}),C=[{value:"carpenter",label:"Carpenter"},{value:"mason",label:"Mason"},{value:"electrician",label:"Electrician"},{value:"plumber",label:"Plumber"},{value:"tiler",label:"Tiler"},{value:"tailor",label:"Tailor"},{value:"welder",label:"Welder"},{value:"painter",label:"Painter"},{value:"other",label:"Other"}],P=[{value:"beginner",label:"Beginner"},{value:"intermediate",label:"Intermediate"},{value:"expert",label:"Expert"}],f=()=>{if(d.trim()&&!t.includes(d.trim())){const x=[...t,d.trim()];r(x),c("specialties",x),i("")}},n=x=>{const k=t.filter((I,G)=>G!==x);r(k),c("specialties",k)},h=x=>{const k=x.target.files[0];if(k){c("profile_image",k);const I=new FileReader;I.onloadend=()=>{y(I.result)},I.readAsDataURL(k)}},F=()=>{c("profile_image",null),y(null)},L=x=>{if(x.preventDefault(),!(s!=null&&s.id)){console.error("Profile ID is missing. Cannot submit form.");return}m(route("user.dashboard.artisans.update",s.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}})};return S.useEffect(()=>{c("specialties",t)},[t,c]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0d1b0d] dark:text-white",children:"Artisan Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your artisan profile information"})]}),e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Profile Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[l?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l,alt:"Profile",className:"h-32 w-32 rounded-lg border border-[#e7f3e7] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:F,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(M,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",children:e.jsx($,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(o,{htmlFor:"profile_image",children:"Profile Image (Thumbnail)"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500 dark:text-gray-400",children:"This image will be displayed as your thumbnail to visitors"}),e.jsxs("label",{htmlFor:"profile_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[#e7f3e7] bg-white px-4 py-2 text-sm font-medium text-[#0d1b0d] transition-colors hover:bg-[#f6f8f6] dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[e.jsx(K,{className:"h-4 w-4"}),l?"Change Image":"Upload Image"]}),e.jsx("input",{id:"profile_image",type:"file",className:"hidden",accept:"image/*",onChange:h}),e.jsx(g,{error:N.profile_image||(a==null?void 0:a.profile_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",children:"Full Name"}),e.jsx(w,{id:"name",value:u.name,onChange:x=>c("name",x.target.value),className:"mt-1",placeholder:"Kwame Mensah"}),e.jsx(g,{error:N.name||(a==null?void 0:a.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"skill_type",children:"Skill Type"}),e.jsxs(V,{value:u.skill_type,onValueChange:x=>c("skill_type",x),children:[e.jsx(z,{className:"mt-1",children:e.jsx(W,{placeholder:"Select skill type"})}),e.jsx(q,{children:C.map(x=>e.jsx(Y,{value:x.value,children:x.label},x.value))})]}),e.jsx(g,{error:N.skill_type||(a==null?void 0:a.skill_type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"skill",children:"Skill/Title"}),e.jsx(w,{id:"skill",value:u.skill,onChange:x=>c("skill",x.target.value),className:"mt-1",placeholder:"Master Carpenter"}),e.jsx(g,{error:N.skill||(a==null?void 0:a.skill),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"experience_years",children:"Years of Experience"}),e.jsx(w,{id:"experience_years",type:"number",value:u.experience_years,onChange:x=>c("experience_years",x.target.value),className:"mt-1",placeholder:"12"}),e.jsx(g,{error:N.experience_years||(a==null?void 0:a.experience_years),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"experience_level",children:"Experience Level"}),e.jsxs(V,{value:u.experience_level,onValueChange:x=>c("experience_level",x),children:[e.jsx(z,{className:"mt-1",children:e.jsx(W,{placeholder:"Select experience level"})}),e.jsx(q,{children:P.map(x=>e.jsx(Y,{value:x.value,children:x.label},x.value))})]}),e.jsx(g,{error:N.experience_level||(a==null?void 0:a.experience_level),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"price_per_day",children:"Average Price per Day (GH₵)"}),e.jsx(w,{id:"price_per_day",type:"number",step:"0.01",value:u.price_per_day,onChange:x=>c("price_per_day",x.target.value),className:"mt-1",placeholder:"80.00"}),e.jsx(g,{error:N.price_per_day||(a==null?void 0:a.price_per_day),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"About"}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"description",children:"Description"}),e.jsx(J,{id:"description",value:u.description,onChange:x=>c("description",x.target.value),className:"mt-1",rows:4,placeholder:"Experienced master carpenter with over 12 years of expertise..."}),e.jsx(g,{error:N.description||(a==null?void 0:a.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Specialties"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{value:d,onChange:x=>i(x.target.value),onKeyPress:x=>x.key==="Enter"&&(x.preventDefault(),f()),placeholder:"Add specialty (e.g., Furniture)",className:"flex-1"}),e.jsx(_,{type:"button",onClick:f,variant:"outline",children:"Add"})]}),t.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.map((x,k)=>e.jsxs("span",{className:"flex items-center gap-2 rounded-md bg-[#13ec13]/10 px-3 py-1 text-sm font-semibold text-[#0d1b0d] dark:text-[#13ec13]",children:[x,e.jsx("button",{type:"button",onClick:()=>n(k),className:"text-red-600 hover:text-red-800",children:"×"})]},k))})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"location",children:"Location"}),e.jsx(w,{id:"location",value:u.location,onChange:x=>c("location",x.target.value),className:"mt-1",placeholder:"Sefwi Bekwai"}),e.jsx(g,{error:N.location||(a==null?void 0:a.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"address",children:"Full Address"}),e.jsx(w,{id:"address",value:u.address,onChange:x=>c("address",x.target.value),className:"mt-1",placeholder:"Street address"}),e.jsx(g,{error:N.address||(a==null?void 0:a.address),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"phone",children:"Phone"}),e.jsx(w,{id:"phone",value:u.phone,onChange:x=>c("phone",x.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(g,{error:N.phone||(a==null?void 0:a.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"whatsapp",children:"WhatsApp"}),e.jsx(w,{id:"whatsapp",value:u.whatsapp,onChange:x=>c("whatsapp",x.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(g,{error:N.whatsapp||(a==null?void 0:a.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(w,{id:"email",type:"email",value:u.email,onChange:x=>c("email",x.target.value),className:"mt-1",placeholder:"kwame.mensah@example.com"}),e.jsx(g,{error:N.email||(a==null?void 0:a.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Working Hours"}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"working_hours",children:"Working Hours"}),e.jsx(w,{id:"working_hours",value:u.working_hours,onChange:x=>c("working_hours",x.target.value),className:"mt-1",placeholder:"Mon-Sat: 7:00 AM - 6:00 PM"}),e.jsx(g,{error:N.working_hours||(a==null?void 0:a.working_hours),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[b&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsxs("button",{type:"submit",disabled:p,className:"inline-flex items-center justify-center gap-2 rounded-md bg-[#13ec13] px-4 py-2 text-sm font-medium whitespace-nowrap text-[#0d1b0d] transition-[color,box-shadow] hover:cursor-pointer hover:bg-[#0eb50e] disabled:pointer-events-none disabled:opacity-50",children:[e.jsx(re,{className:"h-4 w-4"}),p?"Saving...":"Save Profile"]})]})]})]})}function os({portfolio:s,onClose:a}){const{errors:t}=B().props,[r,d]=S.useState((s==null?void 0:s.image_path)||null),i=!!s,{data:l,setData:y,post:u,put:c,processing:m,errors:p,reset:N}=U({item:(s==null?void 0:s.item)||"",image:null}),b=f=>{const n=f.target.files[0];if(n){y("image",n);const h=new FileReader;h.onloadend=()=>{d(h.result)},h.readAsDataURL(n)}},C=()=>{y("image",null),d(null)},P=f=>{f.preventDefault(),i?c(route("user.dashboard.artisans.portfolio.update",s.id),{preserveScroll:!0,onSuccess:()=>{N(),a()}}):u(route("user.dashboard.artisans.portfolio.store"),{preserveScroll:!0,onSuccess:()=>{N(),d(null),a()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[#0d1b0d] dark:text-white",children:i?"Edit Portfolio Item":"Add Portfolio Item"}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"item",children:"Work Description"}),e.jsx(w,{id:"item",value:l.item,onChange:f=>y("item",f.target.value),className:"mt-1",placeholder:"e.g., Custom dining tables",required:!0}),e.jsx(g,{error:p.item||(t==null?void 0:t.item),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"image",children:"Image (Optional)"}),e.jsx("div",{className:"mt-2",children:r?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Preview",className:"h-48 w-full rounded-lg border border-[#e7f3e7] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:C,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(M,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(K,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:b})]})}),e.jsx(g,{error:p.image||(t==null?void 0:t.image),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:a,disabled:m,children:"Cancel"}),e.jsx(_,{type:"submit",disabled:m,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:m?"Saving...":i?"Update":"Add Item"})]})]})]})})}function ms({profile:s}){const a=(s==null?void 0:s.portfolio)||[],[t,r]=S.useState(!1),[d,i]=S.useState(null),l=m=>{i(m),r(!0)},y=m=>{confirm("Are you sure you want to delete this portfolio item?")&&D.delete(route("user.dashboard.artisans.portfolio.destroy",m),{preserveScroll:!0})},u=()=>{i(null),r(!0)},c=()=>{r(!1),i(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0d1b0d] dark:text-white",children:"Portfolio"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Showcase your completed work"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:"My Portfolio"}),e.jsxs(_,{onClick:u,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Work"]})]}),a.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:a.map(m=>e.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-[#e7f3e7] bg-white transition-all hover:shadow-lg dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-800",children:[m.image_path?e.jsx("img",{src:m.image_path,alt:m.item,className:"h-full w-full object-cover"}):e.jsx($,{className:"h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>l(m),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(X,{className:"h-4 w-4 text-[#13ec13]"})}),e.jsx("button",{onClick:()=>y(m.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(O,{className:"h-4 w-4 text-red-600"})})]})]}),e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"font-semibold text-[#0d1b0d] dark:text-white",children:m.item||"Work Item"})})]},m.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:[e.jsx($,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No portfolio items yet"}),e.jsxs(_,{onClick:u,className:"mt-4 bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Your First Work"]})]}),t&&e.jsx(os,{portfolio:d,onClose:c})]})}function xs({activeSection:s,profile:a}){return s==="portfolio"?e.jsx(ms,{profile:a}):e.jsx(cs,{profile:a})}const hs={artisans:Ne,hotels:ve,transport:ye,rentals:xe,marketplace:pe,jobs:te};function gs({isOpen:s,onClose:a,category:t}){const[r,d]=S.useState(!1),[i,l]=S.useState("starter"),{categories:y}=B().props,u=y==null?void 0:y[t];if(!u)return null;const c=hs[t]||te,m=u.tiers,p=t==="marketplace",N=p&&m&&m[i]?m[i].price:u.price,b=()=>{d(!0);const C={category:t};p&&(C.tier=i),console.log(C),D.post(route("user.dashboard.payment.initialize"),C,{onFinish:()=>d(!1),onError:()=>d(!1)})};return e.jsx(ie,{open:s,onOpenChange:a,children:e.jsxs(ne,{className:"flex max-h-[90vh] flex-col sm:max-w-md",children:[e.jsxs(ce,{children:[e.jsxs(oe,{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-[#13ec13]/10",children:e.jsx(c,{className:"h-5 w-5 text-[#13ec13]"})}),"Add ",u.label," Category"]}),e.jsxs(Ae,{children:["Subscribe to the ",u.label," category to start using its features"]})]}),e.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto py-4",children:[p&&m&&e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("h3",{className:"mb-3 text-sm font-bold text-[#0d1b0d] dark:text-white",children:"Select Your Store Plan"}),e.jsx("div",{className:"space-y-2",children:Object.entries(m).map(([C,P])=>e.jsx("button",{type:"button",onClick:()=>l(C),className:`w-full rounded-lg border-2 p-3 text-left transition-all ${i===C?"border-[#13ec13] bg-[#13ec13]/10":"border-gray-200 bg-white hover:border-[#13ec13]/50 dark:border-gray-700 dark:bg-[#162816]"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-bold text-[#0d1b0d] dark:text-white",children:P.name}),i===C&&e.jsx(E,{className:"h-4 w-4 text-[#13ec13]"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:P.description}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Up to ",P.product_limit," products"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-lg font-bold text-[#13ec13]",children:["GH₵ ",P.price]})})]})},C))})]}),e.jsxs("div",{className:"rounded-lg border-2 border-[#13ec13]/20 bg-[#13ec13]/5 p-4",children:[e.jsx("div",{className:"mb-2 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Subscription Fee"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-4xl font-black text-[#0d1b0d] dark:text-white",children:["GH₵ ",N.toFixed(2)]}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"one-time"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold text-[#0d1b0d] dark:text-white",children:"What you'll get:"}),e.jsxs("ul",{className:"space-y-1.5 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[#13ec13]"}),e.jsxs("span",{children:["Full access to ",u.label," dashboard"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[#13ec13]"}),e.jsx("span",{children:"Create and manage your profile"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[#13ec13]"}),e.jsx("span",{children:"Receive customer inquiries"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[#13ec13]"}),e.jsx("span",{children:"Showcase your services to visitors"})]})]})]}),e.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-blue-200 bg-blue-50 p-3 dark:border-blue-900 dark:bg-blue-950/20",children:[e.jsx(ae,{className:"mt-0.5 h-4 w-4 shrink-0 text-blue-600 dark:text-blue-400"}),e.jsx("p",{className:"text-xs text-blue-800 dark:text-blue-300",children:"You'll be redirected to Paystack for secure payment processing. After successful payment, you'll be automatically redirected back to your dashboard."})]})]}),e.jsxs(me,{className:"gap-2 sm:gap-0",children:[e.jsx(_,{type:"button",variant:"outline",onClick:a,disabled:r,children:"Cancel"}),e.jsx(_,{type:"button",onClick:b,disabled:r,className:"cursor-pointer gap-2 bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0ea80e]",children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-[#0d1b0d] border-t-transparent"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Re,{className:"h-4 w-4"}),"Pay GH₵ ",N.toFixed(2)]})})]})]})})}function us(s,a=null){const t={category:s};a&&(t.section=a),D.get(route("user.dashboard.index"),t,{preserveScroll:!0,preserveState:!1})}function Se(s,a=null){const t={section:s};if(a)t.category=a;else{const d=new URLSearchParams(window.location.search).get("category");d&&(t.category=d)}D.get(route("user.dashboard.index"),t,{preserveScroll:!0,preserveState:!0})}const bs={artisans:{label:"Artisans",icon:Ne,color:"blue"},hotels:{label:"Hotel",icon:ve,color:"green"},transport:{label:"Okada",icon:ye,color:"orange"},rentals:{label:"Rentals",icon:xe,color:"purple"},marketplace:{label:"Marketplace",icon:pe,color:"pink"},jobs:{label:"Jobs",icon:te,color:"gray"}};function js({paidCategories:s,activeCategory:a,unpaidCategories:t}){const[r,d]=S.useState(!1),[i,l]=S.useState(null),y=m=>{us(m)},u=m=>{l(m),d(!0)},c=()=>{d(!1),l(null)};return e.jsxs("div",{className:"mb-6 rounded-xl border border-[#e7f3e7] bg-white p-4 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-sm font-bold tracking-wide text-[#4c9a4c] uppercase dark:text-[#8fcc8f]",children:"Your Categories"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-6",children:Object.entries(bs).map(([m,p])=>{const N=p.icon,b=s==null?void 0:s.some(P=>P.category===m),C=a===m;return b?e.jsxs("button",{onClick:()=>!C&&y(m),className:`flex cursor-pointer flex-col items-center gap-2 rounded-lg border-2 p-3 transition-all ${C?"border-[#13ec13] bg-[#13ec13]/10":"border-[#e7f3e7] hover:border-[#13ec13]/50 dark:border-[#2a4d2a]"}`,children:[e.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${C?"bg-[#13ec13] text-[#0d1b0d]":"bg-[#13ec13]/10 text-[#13ec13]"}`,children:e.jsx(N,{className:"h-5 w-5"})}),e.jsx("span",{className:`text-xs font-semibold ${C?"text-[#0d1b0d] dark:text-white":"text-[#4c9a4c] dark:text-[#8fcc8f]"}`,children:p.label})]},m):e.jsxs("button",{onClick:()=>u(m),className:"flex cursor-pointer flex-col items-center gap-2 rounded-lg border-2 border-dashed border-gray-300 p-3 opacity-60 transition-opacity hover:opacity-100 dark:border-gray-600",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100 text-gray-400 dark:bg-gray-800",children:e.jsx(Ee,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:p.label})]},m)})}),e.jsx(gs,{isOpen:r,onClose:c,category:i})]})}function ps({image:s,onClose:a}){const{errors:t}=B().props,[r,d]=S.useState((s==null?void 0:s.image_path)||null),i=!!s,{data:l,setData:y,post:u,put:c,processing:m,errors:p,reset:N}=U({image:null,is_primary:(s==null?void 0:s.is_primary)||!1}),b=f=>{const n=f.target.files[0];if(n){y("image",n);const h=new FileReader;h.onloadend=()=>{d(h.result)},h.readAsDataURL(n)}},C=()=>{y("image",null),i||d(null)},P=f=>{f.preventDefault(),i?c(route("user.dashboard.hotels.images.update",s.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{N(),a()}}):u(route("user.dashboard.hotels.images.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{N(),d(null),a()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[#0d1b0d] dark:text-white",children:i?"Edit Image":"Add Image"}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"image",children:"Hotel Image"}),e.jsx("div",{className:"mt-2",children:r?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Preview",className:"h-48 w-full rounded-lg border border-[#e7f3e7] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:C,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(M,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(K,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:b})]})}),e.jsx(g,{error:p.image||(t==null?void 0:t.image),className:"mt-1"})]}),!i&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_primary",checked:l.is_primary,onChange:f=>y("is_primary",f.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[#13ec13] focus:ring-[#13ec13]"}),e.jsx(o,{htmlFor:"is_primary",className:"text-sm",children:"Set as primary image"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:a,disabled:m,children:"Cancel"}),e.jsx(_,{type:"submit",disabled:m,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:m?"Saving...":i?"Update":"Add Image"})]})]})]})})}function vs({profile:s}){const a=(s==null?void 0:s.images)||[],[t,r]=S.useState(!1),[d,i]=S.useState(null),l=b=>{i(b),r(!0)},y=b=>{confirm("Are you sure you want to delete this image?")&&D.delete(route("user.dashboard.hotels.images.destroy",b),{preserveScroll:!0})},u=b=>{D.post(route("user.dashboard.hotels.images.set-primary",b),{},{preserveScroll:!0})},c=()=>{i(null),r(!0)},m=()=>{r(!1),i(null)},p=a.find(b=>b.is_primary),N=a.filter(b=>!b.is_primary);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0d1b0d] dark:text-white",children:"Hotel Gallery"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your hotel images and showcase your property"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Property Images"}),e.jsxs(_,{onClick:c,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),p&&e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-4 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-semibold text-[#0d1b0d] dark:text-white",children:"Primary Image"})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-lg",children:[e.jsx("img",{src:p.image_path,alt:"Primary",className:"h-64 w-full object-cover transition-transform group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>l(p),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(X,{className:"h-4 w-4 text-[#13ec13]"})}),e.jsx("button",{onClick:()=>y(p.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(O,{className:"h-4 w-4 text-red-600"})})]})]})]}),N.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:N.map(b=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl border border-[#e7f3e7] bg-white transition-all hover:shadow-lg dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:b.image_path,alt:"Hotel",className:"h-full w-full object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>u(b.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Set as Primary",children:e.jsx(Z,{className:"h-4 w-4 text-yellow-400"})}),e.jsx("button",{onClick:()=>l(b),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(X,{className:"h-4 w-4 text-[#13ec13]"})}),e.jsx("button",{onClick:()=>y(b.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(O,{className:"h-4 w-4 text-red-600"})})]})]})},b.id))}):!p&&e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:[e.jsx($,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No images uploaded yet"}),e.jsxs(_,{onClick:c,className:"mt-4 bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Your First Image"]})]}),t&&e.jsx(ps,{image:d,onClose:m})]})}function ys({profile:s}){var P,f;console.log("HotelProfile - profile:",s);const{errors:a}=B().props,t=((P=s==null?void 0:s.images)==null?void 0:P.find(n=>n.is_primary))||((f=s==null?void 0:s.images)==null?void 0:f[0]),[r,d]=S.useState((t==null?void 0:t.image_path)||null);if(!s||!s.id)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile..."})})});const{data:i,setData:l,post:y,processing:u,errors:c,recentlySuccessful:m}=U({_method:"PUT",name:(s==null?void 0:s.name)||"",type:(s==null?void 0:s.type)||"hotel",description:(s==null?void 0:s.description)||"",location:(s==null?void 0:s.location)||"",address:(s==null?void 0:s.address)||"",phone:(s==null?void 0:s.phone)||"",whatsapp:(s==null?void 0:s.whatsapp)||"",email:(s==null?void 0:s.email)||"",price_per_night:(s==null?void 0:s.price_per_night)||"",rooms_count:(s==null?void 0:s.rooms_count)||"",check_in_time:(s==null?void 0:s.check_in_time)||"08:00",check_out_time:(s==null?void 0:s.check_out_time)||"20:00",is_active:(s==null?void 0:s.is_active)??!0,primary_image:null}),p=[{value:"hotel",label:"Hotel"},{value:"guest_house",label:"Guest House"},{value:"lodge",label:"Lodge"},{value:"short_stay",label:"Short Stay"}],N=n=>{const h=n.target.files[0];if(h){l("primary_image",h);const F=new FileReader;F.onloadend=()=>{d(F.result)},F.readAsDataURL(h)}},b=()=>{l("primary_image",null),d(null)},C=n=>{if(n.preventDefault(),!(s!=null&&s.id)){console.error("Profile ID is missing. Cannot submit form.");return}y(route("user.dashboard.hotels.update",s.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0d1b0d] dark:text-white",children:"Hotel Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your hotel profile information"})]}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Hotel Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[r?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Hotel",className:"h-32 w-32 rounded-lg border border-[#e7f3e7] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:b,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(M,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",children:e.jsx($,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(o,{htmlFor:"primary_image",children:"Primary Image"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500 dark:text-gray-400",children:"This image will be displayed as your hotel thumbnail to visitors"}),e.jsxs("label",{htmlFor:"primary_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[#e7f3e7] bg-white px-4 py-2 text-sm font-medium text-[#0d1b0d] transition-colors hover:bg-[#f6f8f6] dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[e.jsx(K,{className:"h-4 w-4"}),r?"Change Image":"Upload Image"]}),e.jsx("input",{id:"primary_image",type:"file",className:"hidden",accept:"image/*",onChange:N}),e.jsx(g,{error:c.primary_image||(a==null?void 0:a.primary_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",children:"Hotel Name"}),e.jsx(w,{id:"name",value:i.name,onChange:n=>l("name",n.target.value),className:"mt-1",placeholder:"Royal Palm Hotel"}),e.jsx(g,{error:c.name||(a==null?void 0:a.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"type",children:"Property Type"}),e.jsxs(V,{value:i.type,onValueChange:n=>l("type",n),children:[e.jsx(z,{className:"mt-1",children:e.jsx(W,{placeholder:"Select property type"})}),e.jsx(q,{children:p.map(n=>e.jsx(Y,{value:n.value,children:n.label},n.value))})]}),e.jsx(g,{error:c.type||(a==null?void 0:a.type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"price_per_night",children:"Price per Night (GH₵)"}),e.jsx(w,{id:"price_per_night",type:"number",step:"0.01",value:i.price_per_night,onChange:n=>l("price_per_night",n.target.value),className:"mt-1",placeholder:"150.00"}),e.jsx(g,{error:c.price_per_night||(a==null?void 0:a.price_per_night),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"rooms_count",children:"Number of Rooms"}),e.jsx(w,{id:"rooms_count",type:"number",value:i.rooms_count,onChange:n=>l("rooms_count",n.target.value),className:"mt-1",placeholder:"25"}),e.jsx(g,{error:c.rooms_count||(a==null?void 0:a.rooms_count),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"About Your Property"}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"description",children:"Description"}),e.jsx(J,{id:"description",value:i.description,onChange:n=>l("description",n.target.value),className:"mt-1",rows:4,placeholder:"Describe your property, its unique features, and what makes it special..."}),e.jsx(g,{error:c.description||(a==null?void 0:a.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"location",children:"Location"}),e.jsx(w,{id:"location",value:i.location,onChange:n=>l("location",n.target.value),className:"mt-1",placeholder:"Sefwi Bekwai"}),e.jsx(g,{error:c.location||(a==null?void 0:a.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"address",children:"Full Address"}),e.jsx(w,{id:"address",value:i.address,onChange:n=>l("address",n.target.value),className:"mt-1",placeholder:"Street address"}),e.jsx(g,{error:c.address||(a==null?void 0:a.address),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"phone",children:"Phone"}),e.jsx(w,{id:"phone",value:i.phone,onChange:n=>l("phone",n.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(g,{error:c.phone||(a==null?void 0:a.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"whatsapp",children:"WhatsApp"}),e.jsx(w,{id:"whatsapp",value:i.whatsapp,onChange:n=>l("whatsapp",n.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(g,{error:c.whatsapp||(a==null?void 0:a.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(w,{id:"email",type:"email",value:i.email,onChange:n=>l("email",n.target.value),className:"mt-1",placeholder:"info@royalpalmhotel.com"}),e.jsx(g,{error:c.email||(a==null?void 0:a.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Operating Hours"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:"Set the hours when your hotel reception is open and available for guests"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"check_in_time",children:"Opening Time"}),e.jsx(w,{id:"check_in_time",type:"time",value:i.check_in_time,onChange:n=>l("check_in_time",n.target.value),className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"When your reception opens"}),e.jsx(g,{error:c.check_in_time||(a==null?void 0:a.check_in_time),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"check_out_time",children:"Closing Time"}),e.jsx(w,{id:"check_out_time",type:"time",value:i.check_out_time,onChange:n=>l("check_out_time",n.target.value),className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"When your reception closes"}),e.jsx(g,{error:c.check_out_time||(a==null?void 0:a.check_out_time),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[m&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsxs("button",{type:"submit",disabled:u,className:"inline-flex items-center justify-center gap-2 rounded-md bg-[#13ec13] px-4 py-2 text-sm font-medium whitespace-nowrap text-[#0d1b0d] transition-[color,box-shadow] hover:cursor-pointer hover:bg-[#0eb50e] disabled:pointer-events-none disabled:opacity-50",children:[e.jsx(re,{className:"h-4 w-4"}),u?"Saving...":"Save Profile"]})]})]})]})}function Ns({profile:s}){var x;const{errors:a}=B().props,[t,r]=S.useState((s==null?void 0:s.amenities)||[]),[d,i]=S.useState(""),[l,y]=S.useState(((x=s==null?void 0:s.features)==null?void 0:x.map(k=>k.feature))||[]),[u,c]=S.useState(""),{data:m,setData:p,post:N,processing:b,errors:C,recentlySuccessful:P}=U({_method:"PUT",amenities:t,features:l}),f=["WiFi","Parking","Air Conditioning","Restaurant","Bar","Swimming Pool","Gym","Spa","Room Service","Laundry","Business Center","Conference Room","24/7 Reception","Security","Pet Friendly","Airport Shuttle","Breakfast Included","Kitchen","TV","Hot Water"],n=k=>{if(k&&!t.includes(k)){const I=[...t,k];r(I),p("amenities",I)}},h=k=>{const I=t.filter(G=>G!==k);r(I),p("amenities",I)},F=()=>{if(u.trim()&&!l.includes(u.trim())){const k=[...l,u.trim()];y(k),p("features",k),c("")}},L=k=>{const I=l.filter((G,Q)=>Q!==k);y(I),p("features",I)},j=k=>{if(k.preventDefault(),console.log("HotelSettings - Form submit started"),console.log("HotelSettings - Profile:",s),console.log("HotelSettings - Form data:",m),!(s!=null&&s.id)){console.error("Profile ID is missing. Cannot submit form.");return}console.log("HotelSettings - Submitting to:",route("user.dashboard.hotels.update",s.id)),N(route("user.dashboard.hotels.update",s.id),{preserveScroll:!0,onSuccess:I=>{console.log("HotelSettings - Success!",I)},onError:I=>{console.error("HotelSettings - Errors:",I)},onFinish:()=>{console.log("HotelSettings - Request finished")}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0d1b0d] dark:text-white",children:"Hotel Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage amenities and features for your property"})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Amenities"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:"Select amenities available at your property. These help guests find your property."}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{className:"mb-2 block text-sm",children:"Quick Add"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(k=>e.jsxs("button",{type:"button",onClick:()=>n(k),disabled:t.includes(k),className:"rounded-md border border-[#e7f3e7] bg-white px-3 py-1 text-xs font-medium text-[#0d1b0d] transition-colors hover:bg-[#f6f8f6] disabled:opacity-50 disabled:cursor-not-allowed dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[t.includes(k)?"✓ ":"+ ",k]},k))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"custom_amenity",className:"mb-2 block text-sm",children:"Add Custom Amenity"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{id:"custom_amenity",value:d,onChange:k=>i(k.target.value),placeholder:"e.g., Rooftop Terrace",className:"flex-1"}),e.jsx(_,{type:"button",onClick:()=>{n(d),i("")},disabled:!d.trim()||t.includes(d.trim()),className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:e.jsx(H,{className:"h-4 w-4"})})]})]}),t.length>0?e.jsxs("div",{children:[e.jsxs(o,{className:"mb-2 block text-sm",children:["Selected Amenities (",t.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(k=>e.jsxs("div",{className:"flex items-center gap-1 rounded-md bg-[#13ec13]/10 px-3 py-1 text-sm text-[#0d1b0d] dark:text-white",children:[e.jsx("span",{children:k}),e.jsx("button",{type:"button",onClick:()=>h(k),className:"ml-1 text-red-600 hover:text-red-700",children:e.jsx(M,{className:"h-3 w-3"})})]},k))})]}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No amenities added yet"}),e.jsx(g,{error:C.amenities||(a==null?void 0:a.amenities),className:"mt-1"})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Features & Services"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:'Add special features or services your property offers (e.g., "24/7 Reception", "Room Service").'}),e.jsxs("div",{className:"mb-4",children:[e.jsx(o,{htmlFor:"new_feature",className:"mb-2 block text-sm",children:"Add Feature"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{id:"new_feature",value:u,onChange:k=>c(k.target.value),onKeyPress:k=>{k.key==="Enter"&&(k.preventDefault(),F())},placeholder:"e.g., 24/7 Reception",className:"flex-1"}),e.jsx(_,{type:"button",onClick:F,disabled:!u.trim(),className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:e.jsx(H,{className:"h-4 w-4"})})]})]}),l.length>0?e.jsxs("div",{children:[e.jsxs(o,{className:"mb-2 block text-sm",children:["Features (",l.length,")"]}),e.jsx("div",{className:"space-y-2",children:l.map((k,I)=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border border-[#e7f3e7] bg-white px-3 py-2 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("span",{className:"text-sm text-[#0d1b0d] dark:text-white",children:k}),e.jsx("button",{type:"button",onClick:()=>L(I),className:"text-red-600 hover:text-red-700",children:e.jsx(O,{className:"h-4 w-4"})})]},I))})]}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No features added yet"}),e.jsx(g,{error:C.features||(a==null?void 0:a.features),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[P&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{children:"Settings saved successfully"})]}),e.jsxs("button",{type:"submit",disabled:b,className:"inline-flex items-center justify-center gap-2 rounded-md bg-[#13ec13] px-4 py-2 text-sm font-medium whitespace-nowrap text-[#0d1b0d] transition-[color,box-shadow] hover:cursor-pointer hover:bg-[#0eb50e] disabled:pointer-events-none disabled:opacity-50",children:[e.jsx(re,{className:"h-4 w-4"}),b?"Saving...":"Save Settings"]})]})]})]})}function fs({activeSection:s,profile:a}){switch(s){case"gallery":return e.jsx(vs,{profile:a});case"settings":return e.jsx(Ns,{profile:a});case"profile":default:return e.jsx(ys,{profile:a})}}function ks({listings:s}){const a=()=>{D.visit(route("user.dashboard.jobs.create"))},t=r=>{D.visit(route("user.dashboard.jobs.edit",r))};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:"My Job Postings"}),e.jsxs(_,{onClick:a,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Post Job"]})]}),s&&s.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(r=>e.jsx("div",{className:"rounded-xl border border-[#e7f3e7] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] overflow-hidden transition-all hover:shadow-lg",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-bold text-[#0d1b0d] dark:text-white",children:r.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:r.company_name}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(fe,{className:"h-3 w-3"}),e.jsx("span",{children:r.location})]}),e.jsx("div",{className:"mt-4 flex items-center gap-2",children:e.jsxs(_,{onClick:()=>t(r.id),variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(X,{className:"mr-2 h-3 w-3"}),"Edit"]})})]})},r.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-12 text-center",children:[e.jsx(te,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No job postings yet"}),e.jsxs(_,{onClick:a,className:"mt-4 bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Post Your First Job"]})]})]})}function ws({activeTab:s,onTabChange:a,data:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0d1b0d] dark:text-white",children:"Jobs Dashboard"}),e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Manage your job postings and applications"})]}),e.jsxs(De,{value:s,onValueChange:a,className:"w-full",children:[e.jsxs(Me,{className:"grid w-full grid-cols-2",children:[e.jsx(ge,{value:"listings",activeValue:s,children:"My Jobs"}),e.jsx(ge,{value:"applications",activeValue:s,children:"Applications"})]}),e.jsx(ue,{value:"listings",activeValue:s,className:"mt-6",children:e.jsx(ks,{listings:(t==null?void 0:t.listings)||[]})}),e.jsx(ue,{value:"applications",activeValue:s,className:"mt-6",children:e.jsx("div",{className:"rounded-xl border border-[#e7f3e7] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:e.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"Applications feature coming soon"})})})]})]})}function _s({isOpen:s,onClose:a,product:t}){const{data:r,setData:d,post:i,processing:l,errors:y,reset:u,clearErrors:c}=U({_method:"put",title:(t==null?void 0:t.title)||"",category:(t==null?void 0:t.category)||"",price:(t==null?void 0:t.price)||"",price_type:(t==null?void 0:t.price_type)||"",condition:(t==null?void 0:t.condition)||"new",location:(t==null?void 0:t.location)||"",latitude:(t==null?void 0:t.latitude)||"",longitude:(t==null?void 0:t.longitude)||"",description:(t==null?void 0:t.description)||"",delivery_available:(t==null?void 0:t.delivery_available)||!1,warranty:(t==null?void 0:t.warranty)||"",images:[],remove_images:[],specifications:[],remove_specifications:[]}),[m,p]=S.useState([]),[N,b]=S.useState((t==null?void 0:t.images)||[]),[C,P]=S.useState((t==null?void 0:t.specifications)||[]),f=v=>{const A=Array.from(v.target.files);if(N.length-r.remove_images.length+r.images.length+A.length>10)return;const le=[...r.images,...A];d("images",le);const Pe=A.map(de=>URL.createObjectURL(de));p(de=>[...de,...Pe])},n=v=>{URL.revokeObjectURL(m[v]),d("images",r.images.filter((A,R)=>R!==v)),p(A=>A.filter((R,le)=>le!==v))},h=v=>{const A=r.remove_images.includes(v)?r.remove_images.filter(R=>R!==v):[...r.remove_images,v];d("remove_images",A)},F=()=>{d("specifications",[...r.specifications,""])},L=(v,A)=>{const R=[...r.specifications];R[v]=A,d("specifications",R)},j=v=>{d("specifications",r.specifications.filter((A,R)=>R!==v))},x=v=>{const A=r.remove_specifications.includes(v)?r.remove_specifications.filter(R=>R!==v):[...r.remove_specifications,v];d("remove_specifications",A)},k=v=>{v.preventDefault(),i(route("user.dashboard.marketplace.update",t.id),{preserveScroll:!0,onSuccess:()=>{I()}})},I=()=>{m.forEach(v=>URL.revokeObjectURL(v)),u(),c(),p([]),b([]),P([]),a()},G=[{value:"electronics",label:"Electronics"},{value:"furniture",label:"Furniture"},{value:"food",label:"Food"},{value:"agriculture",label:"Agriculture"},{value:"clothes",label:"Clothes"},{value:"others",label:"Others"}],Q=[{value:"new",label:"New"},{value:"like_new",label:"Like New"},{value:"used",label:"Used"},{value:"refurbished",label:"Refurbished"}],Ce=N.filter(v=>!r.remove_images.includes(v.id)).length+r.images.length;return!s||!t?null:e.jsx(ie,{open:s,onOpenChange:I,children:e.jsxs(ne,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(ce,{children:e.jsx(oe,{children:"Edit Product"})}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{children:"Product Images (Max 10)"}),e.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 sm:grid-cols-5",children:[N.map((v,A)=>{const R=r.remove_images.includes(v.id);return e.jsxs("div",{className:`group relative aspect-square ${R?"opacity-40":""}`,children:[e.jsx("img",{src:`/storage/${v.image_path}`,alt:`Product ${A+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>h(v.id),className:`absolute -top-2 -right-2 rounded-full p-1 text-white transition-opacity ${R?"bg-green-500 opacity-100":"bg-red-500 opacity-0 group-hover:opacity-100"}`,children:e.jsx(M,{className:"h-3 w-3"})}),v.is_primary&&!R&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-[#13ec13] px-1.5 py-0.5 text-xs font-medium text-[#0d1b0d]",children:"Primary"}),R&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-red-500 px-1.5 py-0.5 text-xs font-medium text-white",children:"Remove"})]},`existing-${v.id}`)}),m.map((v,A)=>e.jsxs("div",{className:"group relative aspect-square",children:[e.jsx("img",{src:v,alt:`New ${A+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>n(A),className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx(M,{className:"h-3 w-3"})}),e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-blue-500 px-1.5 py-0.5 text-xs font-medium text-white",children:"New"})]},`new-${A}`)),Ce<10&&e.jsxs("label",{className:"flex aspect-square cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:border-[#13ec13] dark:border-gray-600",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:f,className:"hidden"}),e.jsx(ee,{className:"h-6 w-6 text-gray-400"})]})]}),e.jsx(g,{error:y.images})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"edit-title",children:"Product Title *"}),e.jsx(w,{id:"edit-title",value:r.title,onChange:v=>d("title",v.target.value),placeholder:"Enter product title",required:!0}),e.jsx(g,{error:y.title})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"edit-category",children:"Category *"}),e.jsxs(V,{value:r.category,onValueChange:v=>d("category",v),children:[e.jsx(z,{children:e.jsx(W,{placeholder:"Select category"})}),e.jsx(q,{children:G.map(v=>e.jsx(Y,{value:v.value,children:v.label},v.value))})]}),e.jsx(g,{error:y.category})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"edit-price",children:"Price (GH₵) *"}),e.jsx(w,{id:"edit-price",type:"number",step:"0.01",min:"0",value:r.price,onChange:v=>d("price",v.target.value),placeholder:"0.00",required:!0}),e.jsx(g,{error:y.price})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"edit-price_type",children:"Price Type"}),e.jsx(w,{id:"edit-price_type",value:r.price_type,onChange:v=>d("price_type",v.target.value),placeholder:"e.g., /kg, /bunch"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"edit-condition",children:"Condition"}),e.jsxs(V,{value:r.condition,onValueChange:v=>d("condition",v),children:[e.jsx(z,{children:e.jsx(W,{placeholder:"Select condition"})}),e.jsx(q,{children:Q.map(v=>e.jsx(Y,{value:v.value,children:v.label},v.value))})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"edit-location",children:"Location *"}),e.jsx(w,{id:"edit-location",value:r.location,onChange:v=>d("location",v.target.value),placeholder:"Enter location",required:!0}),e.jsx(g,{error:y.location})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"edit-description",children:"Description"}),e.jsx(J,{id:"edit-description",value:r.description,onChange:v=>d("description",v.target.value),placeholder:"Describe your product...",rows:4})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"edit-delivery_available",checked:r.delivery_available,onChange:v=>d("delivery_available",v.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(o,{htmlFor:"edit-delivery_available",className:"cursor-pointer",children:"Delivery Available"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"edit-warranty",children:"Warranty"}),e.jsx(w,{id:"edit-warranty",value:r.warranty,onChange:v=>d("warranty",v.target.value),placeholder:"e.g., 1 year warranty"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx(o,{children:"Specifications"}),e.jsxs(_,{type:"button",variant:"outline",size:"sm",onClick:F,className:"h-8 gap-1 text-xs",children:[e.jsx(H,{className:"h-3 w-3"}),"Add Specification"]})]}),e.jsxs("div",{className:"space-y-2",children:[C.map((v,A)=>{const R=r.remove_specifications.includes(v.id);return e.jsxs("div",{className:`flex gap-2 ${R?"opacity-40":""}`,children:[e.jsx(w,{value:v.specification,disabled:!0,className:`flex-1 ${R?"line-through":""}`}),e.jsx(_,{type:"button",variant:"outline",size:"sm",onClick:()=>x(v.id),className:`h-10 w-10 p-0 ${R?"bg-green-500 text-white hover:bg-green-600":""}`,children:e.jsx(M,{className:"h-4 w-4"})})]},`existing-spec-${v.id}`)}),r.specifications.map((v,A)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{value:v,onChange:R=>L(A,R.target.value),placeholder:"e.g., 128GB Storage, 8GB RAM",className:"flex-1"}),e.jsx(_,{type:"button",variant:"outline",size:"sm",onClick:()=>j(A),className:"h-10 w-10 p-0",children:e.jsx(M,{className:"h-4 w-4"})})]},`new-spec-${A}`)),C.length===0&&r.specifications.length===0&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add product specifications to help buyers understand your product better."})]})]}),e.jsxs(me,{children:[e.jsx(_,{type:"button",variant:"outline",onClick:I,disabled:l,children:"Cancel"}),e.jsx(_,{type:"submit",disabled:l,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:l?"Saving...":"Save Changes"})]})]})]})})}function Ss({products:s,store:a,tiers:t,onAddProduct:r}){const[d,i]=S.useState(null),[l,y]=S.useState(null),u=()=>{r?r():D.visit(route("user.dashboard.marketplace.create"))},c=f=>{y(f)},m=f=>{confirm("Are you sure you want to delete this product?")&&(i(f),D.delete(route("user.dashboard.marketplace.destroy",f),{preserveScroll:!0,onFinish:()=>i(null)}))},p=()=>{const f=["starter","professional","enterprise"].indexOf((a==null?void 0:a.tier)||"starter"),n=["starter","professional","enterprise"][f+1];n&&(t!=null&&t[n])&&D.post(route("user.dashboard.marketplace.store.upgrade"),{tier:n})},N=(a==null?void 0:a.remaining_slots)||0,b=(a==null?void 0:a.product_limit)||5,C=(s==null?void 0:s.length)||0,P=N>0&&(a==null?void 0:a.is_active);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0d1b0d] dark:text-white",children:"My Products"}),e.jsxs("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:[C," / ",b," products",N>0&&e.jsxs("span",{className:"ml-2 text-[#13ec13]",children:["(",N," slots remaining)"]})]})]}),e.jsxs(_,{onClick:u,disabled:!P,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e] disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Product"]})]}),N===0&&e.jsx("div",{className:"rounded-xl border border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ae,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-yellow-900 dark:text-yellow-100",children:"Product Limit Reached"}),e.jsxs("p",{className:"mt-1 text-sm text-yellow-700 dark:text-yellow-300",children:["You've reached your limit of ",b," products. Upgrade to add more."]})]})]}),e.jsxs(_,{onClick:p,size:"sm",className:"bg-yellow-600 text-white hover:bg-yellow-700 flex-shrink-0",children:[e.jsx(we,{className:"mr-2 h-4 w-4"}),"Upgrade"]})]})}),a&&!a.is_active&&e.jsx("div",{className:"rounded-xl border border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-900/20 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ae,{className:"h-5 w-5 text-orange-600 dark:text-orange-400 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-orange-900 dark:text-orange-100",children:"Store Not Active"}),e.jsx("p",{className:"mt-1 text-sm text-orange-700 dark:text-orange-300",children:"Your store is hidden from visitors. Activate it to make your products visible."})]})]}),e.jsx(_,{onClick:()=>Se("store"),variant:"outline",size:"sm",className:"border-orange-300 text-orange-700 hover:bg-orange-100 dark:border-orange-600 dark:text-orange-300 dark:hover:bg-orange-900/40 flex-shrink-0",children:"Store Settings"})]})}),s&&s.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(f=>{var h,F;const n=((h=f.images)==null?void 0:h.find(L=>L.is_primary))||((F=f.images)==null?void 0:F[0]);return e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] overflow-hidden transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"aspect-video w-full bg-gray-100 dark:bg-gray-800 relative overflow-hidden",children:[n?e.jsx("img",{src:`/storage/${n.image_path}`,alt:f.title,className:"h-full w-full object-cover"}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(se,{className:"h-12 w-12 text-gray-400"})}),!f.is_active&&e.jsx("div",{className:"absolute top-2 right-2 rounded bg-gray-900/70 px-2 py-1 text-xs text-white",children:"Inactive"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-bold text-[#0d1b0d] dark:text-white",children:f.title}),e.jsxs("p",{className:"mt-1 text-sm font-semibold text-[#13ec13]",children:["GH₵ ",f.price]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(fe,{className:"h-3 w-3"}),e.jsx("span",{children:f.location})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsxs(_,{onClick:()=>c(f),variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(X,{className:"mr-2 h-3 w-3"}),"Edit"]}),e.jsxs(_,{onClick:()=>m(f.id),variant:"outline",size:"sm",className:"flex-1 text-red-600 hover:text-red-700",disabled:d===f.id,children:[e.jsx(O,{className:"mr-2 h-3 w-3"}),d===f.id?"Deleting...":"Delete"]})]})]})]},f.id)})}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-12 text-center",children:[e.jsx(se,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600 dark:text-gray-400",children:"No products yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Click "Add Product" above to add your first product'})]}),l&&e.jsx(_s,{isOpen:!0,onClose:()=>y(null),product:l})]})}function Cs({checked:s,onCheckedChange:a,id:t,className:r="",...d}){return e.jsx("button",{type:"button",role:"switch","aria-checked":s,id:t,onClick:()=>a(!s),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-[#13ec13] focus:ring-offset-2 ${s?"bg-[#13ec13]":"bg-gray-300 dark:bg-gray-600"} ${r}`,...d,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})})}function Ps({store:s}){const[a,t]=S.useState((s==null?void 0:s.is_active)??!1),[r,d]=S.useState(!1),i=()=>{t(!a),d(!0),console.log("something happend"),D.post(route("user.dashboard.marketplace.store.toggle-active"),{},{preserveScroll:!0,preserveState:!0,only:["categoryData"],onFinish:()=>d(!1),onError:()=>t(a)})};return e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-[#e7f3e7] bg-white px-3 py-1.5 md:px-4 md:py-2 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[a?e.jsx(he,{className:"h-4 w-4 text-[#13ec13]"}):e.jsx(_e,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{className:"hidden flex-col md:flex",children:[e.jsx(o,{className:"cursor-pointer text-xs font-semibold text-[#0d1b0d] dark:text-white",children:a?"Visible":"Hidden"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Store"})]}),e.jsx(Cs,{checked:a,onCheckedChange:i,disabled:r,className:"ml-1 md:ml-2"})]})}function Fs({store:s,tiers:a}){const[t,r]=S.useState(!1),[d,i]=S.useState((s==null?void 0:s.slug)||""),{data:l,setData:y,put:u,processing:c,errors:m,reset:p}=U({name:(s==null?void 0:s.name)||"",slug:(s==null?void 0:s.slug)||"",description:(s==null?void 0:s.description)||""});S.useEffect(()=>{s&&(y({name:s.name||"",slug:s.slug||"",description:s.description||""}),i(s.slug||""))},[s]);const N=j=>{const x=j.target.value;if(y("name",x),!d||d===(s==null?void 0:s.slug)){const k=x.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");y("slug",k),i(k)}},b=j=>{const x=j.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");y("slug",x),i(x)},C=j=>{j.preventDefault(),u(route("user.dashboard.marketplace.store.update"),{preserveScroll:!0,onSuccess:()=>{p()}})},P=()=>{const j=`${window.location.origin}/store/${l.slug||(s==null?void 0:s.slug)}`;navigator.clipboard.writeText(j),r(!0),setTimeout(()=>r(!1),2e3)},f=j=>{D.post(route("user.dashboard.marketplace.store.upgrade"),{tier:j})},n=`${window.location.origin}/store/${l.slug||(s==null?void 0:s.slug)||"your-store"}`,h=a==null?void 0:a[(s==null?void 0:s.tier)||"starter"],F=["starter","professional","enterprise"].indexOf((s==null?void 0:s.tier)||"starter"),L=Object.entries(a||{}).slice(F+1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0d1b0d] dark:text-white",children:"Store Settings"}),e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Manage your store information and visibility"})]}),e.jsx("div",{className:`rounded-xl border-2 p-6 ${s!=null&&s.is_active?"border-[#13ec13] bg-[#e7f3e7] dark:bg-[#1a331a]":"border-orange-300 bg-orange-50 dark:border-orange-700 dark:bg-orange-900/20"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${s!=null&&s.is_active?"bg-[#13ec13]/20":"bg-orange-200 dark:bg-orange-800"}`,children:s!=null&&s.is_active?e.jsx(he,{className:"h-6 w-6 text-[#13ec13]"}):e.jsx(_e,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:["Store is ",s!=null&&s.is_active?"Visible":"Hidden"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s!=null&&s.is_active?"Your store and products are visible to visitors":"Your store is hidden from visitors. Toggle to make it visible."})]})]}),e.jsx(Ps,{store:s})]})}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",className:"mb-2 block text-sm font-semibold text-[#0d1b0d] dark:text-white",children:"Store Name"}),e.jsx(w,{id:"name",value:l.name,onChange:N,placeholder:"Enter your store name",className:"w-full"}),e.jsx(g,{error:m.name})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"slug",className:"mb-2 block text-sm font-semibold text-[#0d1b0d] dark:text-white",children:"Store URL Slug"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500 whitespace-nowrap",children:"/store/"}),e.jsx(w,{id:"slug",value:l.slug,onChange:b,placeholder:"your-store-name",className:"flex-1",pattern:"[a-z0-9-]+"})]}),e.jsx(g,{error:m.slug}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(o,{htmlFor:"description",className:"mb-2 block text-sm font-semibold text-[#0d1b0d] dark:text-white",children:"Store Description"}),e.jsx(J,{id:"description",value:l.description,onChange:j=>y("description",j.target.value),placeholder:"Tell customers about your store...",rows:4,className:"w-full"}),e.jsx(g,{error:m.description})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(o,{className:"mb-2 block text-sm font-semibold text-[#0d1b0d] dark:text-white",children:"Your Store Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{value:n,readOnly:!0,className:"flex-1 text-sm"}),e.jsx(_,{onClick:P,variant:"outline",type:"button",size:"icon",children:t?e.jsx(E,{className:"h-4 w-4 text-[#13ec13]"}):e.jsx(Le,{className:"h-4 w-4"})}),e.jsx(_,{variant:"outline",asChild:!0,type:"button",size:"icon",children:e.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Te,{className:"h-4 w-4"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Share this link to let people view your products"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(_,{type:"submit",disabled:c,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:c?"Saving...":"Save Changes"})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h&&e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h4",{className:"mb-3 font-semibold text-[#0d1b0d] dark:text-white",children:"Current Plan"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:h.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(s==null?void 0:s.products_count)||0," / ",(s==null?void 0:s.product_limit)||5," products used"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-2xl font-bold text-[#13ec13]",children:["GH₵ ",h.price]})})]})]}),L.length>0&&e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h4",{className:"mb-3 font-semibold text-[#0d1b0d] dark:text-white",children:"Upgrade Your Store"}),e.jsx("div",{className:"space-y-3",children:L.map(([j,x])=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-3 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[#0d1b0d] dark:text-white",children:x.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Up to ",x.product_limit," products"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-bold text-[#13ec13]",children:["GH₵ ",x.price]}),e.jsx(_,{onClick:()=>f(j),size:"sm",className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:e.jsx(we,{className:"h-4 w-4"})})]})]},j))})]})]})]})}function Is({isOpen:s,onClose:a,store:t}){const{data:r,setData:d,post:i,processing:l,errors:y,reset:u,clearErrors:c}=U({title:"",category:"",price:"",price_type:"",condition:"new",location:"",latitude:"",longitude:"",description:"",delivery_available:!1,warranty:"",images:[],specifications:[]}),[m,p]=S.useState([]),N=j=>{const x=Array.from(j.target.files);if(r.images.length+x.length>10)return;const I=[...r.images,...x];d("images",I);const G=x.map(Q=>URL.createObjectURL(Q));p(Q=>[...Q,...G])},b=j=>{URL.revokeObjectURL(m[j]),d("images",r.images.filter((x,k)=>k!==j)),p(x=>x.filter((k,I)=>I!==j))},C=()=>{d("specifications",[...r.specifications,""])},P=(j,x)=>{const k=[...r.specifications];k[j]=x,d("specifications",k)},f=j=>{d("specifications",r.specifications.filter((x,k)=>k!==j))},n=j=>{j.preventDefault(),i(route("user.dashboard.marketplace.store"),{preserveScroll:!0,onSuccess:()=>{h()}})},h=()=>{m.forEach(j=>URL.revokeObjectURL(j)),u(),c(),p([]),a()},F=[{value:"electronics",label:"Electronics"},{value:"furniture",label:"Furniture"},{value:"food",label:"Food"},{value:"agriculture",label:"Agriculture"},{value:"clothes",label:"Clothes"},{value:"others",label:"Others"}],L=[{value:"new",label:"New"},{value:"like_new",label:"Like New"},{value:"used",label:"Used"},{value:"refurbished",label:"Refurbished"}];return s?e.jsx(ie,{open:s,onOpenChange:h,children:e.jsxs(ne,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(ce,{children:e.jsx(oe,{children:"Add New Product"})}),e.jsxs("form",{onSubmit:n,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{children:"Product Images (Max 10)"}),e.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 sm:grid-cols-5",children:[m.map((j,x)=>e.jsxs("div",{className:"group relative aspect-square",children:[e.jsx("img",{src:j,alt:`Preview ${x+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>b(x),className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx(M,{className:"h-3 w-3"})}),x===0&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-[#13ec13] px-1.5 py-0.5 text-xs font-medium text-[#0d1b0d]",children:"Primary"})]},x)),r.images.length<10&&e.jsxs("label",{className:"flex aspect-square cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:border-[#13ec13] dark:border-gray-600",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:N,className:"hidden"}),e.jsx(ee,{className:"h-6 w-6 text-gray-400"})]})]}),e.jsx(g,{error:y.images})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"title",children:"Product Title *"}),e.jsx(w,{id:"title",value:r.title,onChange:j=>d("title",j.target.value),placeholder:"Enter product title",required:!0}),e.jsx(g,{error:y.title})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"category",children:"Category *"}),e.jsxs(V,{value:r.category,onValueChange:j=>d("category",j),children:[e.jsx(z,{children:e.jsx(W,{placeholder:"Select category"})}),e.jsx(q,{children:F.map(j=>e.jsx(Y,{value:j.value,children:j.label},j.value))})]}),e.jsx(g,{error:y.category})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"price",children:"Price (GH₵) *"}),e.jsx(w,{id:"price",type:"number",step:"0.01",min:"0",value:r.price,onChange:j=>d("price",j.target.value),placeholder:"0.00",required:!0}),e.jsx(g,{error:y.price})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"price_type",children:"Price Type"}),e.jsx(w,{id:"price_type",value:r.price_type,onChange:j=>d("price_type",j.target.value),placeholder:"e.g., /kg, /bunch"})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"condition",children:"Condition"}),e.jsxs(V,{value:r.condition,onValueChange:j=>d("condition",j),children:[e.jsx(z,{children:e.jsx(W,{placeholder:"Select condition"})}),e.jsx(q,{children:L.map(j=>e.jsx(Y,{value:j.value,children:j.label},j.value))})]})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"location",children:"Location *"}),e.jsx(w,{id:"location",value:r.location,onChange:j=>d("location",j.target.value),placeholder:"Enter location",required:!0}),e.jsx(g,{error:y.location})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"description",children:"Description"}),e.jsx(J,{id:"description",value:r.description,onChange:j=>d("description",j.target.value),placeholder:"Describe your product...",rows:4})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"delivery_available",checked:r.delivery_available,onChange:j=>d("delivery_available",j.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(o,{htmlFor:"delivery_available",className:"cursor-pointer",children:"Delivery Available"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"warranty",children:"Warranty"}),e.jsx(w,{id:"warranty",value:r.warranty,onChange:j=>d("warranty",j.target.value),placeholder:"e.g., 1 year warranty"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx(o,{children:"Specifications"}),e.jsxs(_,{type:"button",variant:"outline",size:"sm",onClick:C,className:"h-8 gap-1 text-xs",children:[e.jsx(H,{className:"h-3 w-3"}),"Add Specification"]})]}),e.jsxs("div",{className:"space-y-2",children:[r.specifications.map((j,x)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(w,{value:j,onChange:k=>P(x,k.target.value),placeholder:"e.g., 128GB Storage, 8GB RAM",className:"flex-1"}),e.jsx(_,{type:"button",variant:"outline",size:"sm",onClick:()=>f(x),className:"h-10 w-10 p-0",children:e.jsx(M,{className:"h-4 w-4"})})]},x)),r.specifications.length===0&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add product specifications to help buyers understand your product better."})]})]}),e.jsxs(me,{children:[e.jsx(_,{type:"button",variant:"outline",onClick:h,disabled:l,children:"Cancel"}),e.jsx(_,{type:"submit",disabled:l,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:l?"Adding...":"Add Product"})]})]})]})}):null}function As({activeTab:s,data:a}){const[t,r]=S.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[s==="store"?e.jsx(Fs,{store:a==null?void 0:a.store,tiers:a==null?void 0:a.tiers}):e.jsx(Ss,{products:(a==null?void 0:a.products)||[],store:a==null?void 0:a.store,tiers:a==null?void 0:a.tiers,onAddProduct:()=>r(!0)}),e.jsx(Is,{isOpen:t,onClose:()=>r(!1),store:a==null?void 0:a.store})]})}function je({categoryData:s}){const a=(s==null?void 0:s.stats)||{total:0,active:0,views:0};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-2xl font-bold text-[#0d1b0d] dark:text-white",children:"Overview"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Welcome to your dashboard. Select a category to get started."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[#4c9a4c] dark:text-[#8fcc8f]",children:"Total Listings"}),e.jsx(se,{className:"h-5 w-5 text-[#13ec13]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[#0d1b0d] dark:text-white",children:a.total||0})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[#4c9a4c] dark:text-[#8fcc8f]",children:"Active"}),e.jsx(He,{className:"h-5 w-5 text-[#13ec13]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[#0d1b0d] dark:text-white",children:a.active||0})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[#4c9a4c] dark:text-[#8fcc8f]",children:"Total Views"}),e.jsx(he,{className:"h-5 w-5 text-[#13ec13]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[#0d1b0d] dark:text-white",children:a.views||0})]})]})]})}function Rs({profile:s}){const[a,t]=S.useState("");if(!s)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center dark:border-gray-800 dark:bg-[#162816]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading features..."})});const r=(s==null?void 0:s.features)||[],d=l=>{l.preventDefault(),a.trim()&&D.post(route("user.dashboard.rentals.features.store",{rental:s.id}),{feature:a.trim()},{preserveScroll:!0,onSuccess:()=>{t("")}})},i=l=>{D.delete(route("user.dashboard.rentals.features.destroy",{rental:s.id,feature:l}),{preserveScroll:!0})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Rental Features"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add features that describe your rental (e.g., 2 Bedrooms, Air Conditioning, WiFi)"})]}),e.jsx("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("form",{onSubmit:d,className:"flex gap-3",children:[e.jsx(w,{value:a,onChange:l=>t(l.target.value),placeholder:"Type a feature and press +",className:"flex-1"}),e.jsx(_,{type:"submit",disabled:!a.trim(),className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0fdc0f]",children:e.jsx(H,{className:"h-5 w-5"})})]})}),r.length>0?e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("h4",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Added Features (",r.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(l=>e.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-[#13ec13]/10 px-4 py-2 text-sm font-medium text-[#0d1b0d] dark:bg-[#13ec13]/20 dark:text-white",children:[e.jsx("span",{children:l.feature}),e.jsx("button",{onClick:()=>i(l.id),className:"rounded-full p-0.5 text-gray-500 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/30",children:e.jsx(O,{className:"h-3.5 w-3.5"})})]},l.id))})]}):e.jsx("div",{className:"rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 p-8 text-center dark:border-gray-700 dark:bg-gray-800/50",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No features added yet. Type a feature above and click + to add."})})]})}function Ds({rentalId:s,image:a,isOpen:t,onClose:r}){const[d,i]=S.useState((a==null?void 0:a.image_path)||null),l=S.useRef(null),{data:y,setData:u,post:c,processing:m,errors:p,reset:N}=U({image:null}),b=f=>{f.preventDefault(),a?c(route("user.dashboard.rentals.images.update",{rental:s,image:a.id}),{forceFormData:!0,onSuccess:()=>{N(),i(null),r()}}):c(route("user.dashboard.rentals.images.store",{rental:s}),{forceFormData:!0,onSuccess:()=>{N(),i(null),r()}})},C=f=>{const n=f.target.files[0];if(n){u("image",n);const h=new FileReader;h.onloadend=()=>{i(h.result)},h.readAsDataURL(n)}},P=()=>{N(),i((a==null?void 0:a.image_path)||null),r()};return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl bg-white p-6 dark:bg-[#162816]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:a?"Edit Image":"Add New Image"}),e.jsx("button",{onClick:P,className:"rounded-full p-1 hover:bg-gray-100 dark:hover:bg-gray-800",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{children:"Image"}),e.jsxs("div",{className:"mt-2 flex h-48 cursor-pointer items-center justify-center overflow-hidden rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 transition-colors hover:border-[#13ec13] dark:border-gray-700 dark:bg-gray-800",onClick:()=>{var f;return(f=l.current)==null?void 0:f.click()},children:[d?e.jsx("img",{src:d,alt:"Preview",className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[e.jsx(K,{className:"mb-2 h-10 w-10"}),e.jsx("span",{className:"text-sm",children:"Click to upload"}),e.jsx("span",{className:"text-xs",children:"Max 5MB (JPEG, PNG, WebP)"})]}),e.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:C,className:"hidden"})]}),e.jsx(g,{error:p.image,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(_,{type:"button",variant:"outline",onClick:P,children:"Cancel"}),e.jsx(_,{type:"submit",disabled:m||!a&&!y.image,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0fdc0f]",children:m?e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):a?"Update Image":"Add Image"})]})]})]})}):null}function Ms({profile:s}){const[a,t]=S.useState(!1),[r,d]=S.useState(null);if(!s)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center dark:border-gray-800 dark:bg-[#162816]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading gallery..."})});const i=(s==null?void 0:s.images)||[],l=m=>{D.put(route("user.dashboard.rentals.images.primary",{rental:s.id,image:m}),{},{preserveScroll:!0})},y=m=>{confirm("Are you sure you want to delete this image?")&&D.delete(route("user.dashboard.rentals.images.destroy",{rental:s.id,image:m}),{preserveScroll:!0})},u=m=>{d(m),t(!0)},c=()=>{d(null),t(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Rental Gallery"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Manage images for your rental listing (",i.length," images)"]})]}),e.jsxs(_,{onClick:c,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0fdc0f]",children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),i.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4",children:i.map(m=>e.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-xl border-2 border-gray-100 bg-gray-100 dark:border-gray-800 dark:bg-gray-800",children:[e.jsx("img",{src:m.image_path,alt:"Rental",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),m.is_primary&&e.jsxs("div",{className:"absolute left-2 top-2 flex items-center gap-1 rounded-full bg-[#13ec13] px-2 py-1 text-xs font-bold text-[#0d1b0d]",children:[e.jsx(Z,{className:"h-3 w-3 fill-current"}),"Primary"]}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-2 bg-black/50 opacity-0 transition-opacity group-hover:opacity-100",children:[!m.is_primary&&e.jsxs(_,{size:"sm",variant:"secondary",onClick:()=>l(m.id),className:"h-8",children:[e.jsx(Z,{className:"mr-1 h-3 w-3"}),"Set Primary"]}),e.jsx(_,{size:"sm",variant:"secondary",onClick:()=>u(m),className:"h-8",children:e.jsx(ts,{className:"h-3 w-3"})}),e.jsx(_,{size:"sm",variant:"destructive",onClick:()=>y(m.id),className:"h-8",children:e.jsx(O,{className:"h-3 w-3"})})]})]},m.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 p-12 text-center dark:border-gray-700 dark:bg-gray-800/50",children:[e.jsx(ee,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h4",{className:"mb-2 font-semibold text-gray-700 dark:text-gray-300",children:"No images yet"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:"Add images to showcase your rental listing"}),e.jsxs(_,{onClick:c,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0fdc0f]",children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Add First Image"]})]}),e.jsx(Ds,{rentalId:s.id,image:r,isOpen:a,onClose:()=>{t(!1),d(null)}})]})}function Ls({profile:s}){var f,n;const{errors:a}=B().props,[t,r]=S.useState(null),d=S.useRef(null);if(!s)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center dark:border-gray-800 dark:bg-[#162816]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading rental profile..."})});const{data:i,setData:l,post:y,processing:u,errors:c,recentlySuccessful:m}=U({_method:"PUT",name:(s==null?void 0:s.name)||"",type:(s==null?void 0:s.type)||"house",description:(s==null?void 0:s.description)||"",price:(s==null?void 0:s.price)||"",period:(s==null?void 0:s.period)||"month",location:(s==null?void 0:s.location)||"",phone:(s==null?void 0:s.phone)||"",whatsapp:(s==null?void 0:s.whatsapp)||"",email:(s==null?void 0:s.email)||"",rental_terms:(s==null?void 0:s.rental_terms)||"",is_active:(s==null?void 0:s.is_active)??!0,primary_image:null}),p=[{value:"house",label:"House"},{value:"equipment",label:"Equipment"},{value:"tools",label:"Tools"},{value:"land",label:"Land"},{value:"commercial",label:"Commercial"},{value:"vehicle",label:"Vehicle"},{value:"store",label:"Store"}],N=[{value:"day",label:"Per Day"},{value:"week",label:"Per Week"},{value:"month",label:"Per Month"}],b=h=>{h.preventDefault(),y(route("user.dashboard.rentals.update",s.id),{forceFormData:!0})},C=h=>{const F=h.target.files[0];if(F){l("primary_image",F);const L=new FileReader;L.onloadend=()=>{r(L.result)},L.readAsDataURL(F)}},P=((f=s==null?void 0:s.images)==null?void 0:f.find(h=>h.is_primary))||((n=s==null?void 0:s.images)==null?void 0:n[0]);return e.jsxs("form",{onSubmit:b,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Primary Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsxs("div",{className:"relative h-40 w-40 cursor-pointer overflow-hidden rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 transition-colors hover:border-[#13ec13] dark:border-gray-700 dark:bg-gray-800",onClick:()=>{var h;return(h=d.current)==null?void 0:h.click()},children:[t||P!=null&&P.image_path?e.jsx("img",{src:t||(P==null?void 0:P.image_path),alt:"Rental preview",className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center text-gray-400",children:[e.jsx(K,{className:"mb-2 h-8 w-8"}),e.jsx("span",{className:"text-xs",children:"Click to upload"})]}),e.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:C,className:"hidden"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Upload a primary image for your rental listing. This will be the main image shown in search results."}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Recommended: 800x600px, max 5MB"}),e.jsx(g,{error:c.primary_image||(a==null?void 0:a.primary_image),className:"mt-2"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"name",children:"Rental Name"}),e.jsx(w,{id:"name",value:i.name,onChange:h=>l("name",h.target.value),className:"mt-1",placeholder:"2 Bedroom Apartment in Bekwai"}),e.jsx(g,{error:c.name||(a==null?void 0:a.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"type",children:"Rental Type"}),e.jsx("select",{id:"type",value:i.type,onChange:h=>l("type",h.target.value),className:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-[#13ec13] focus:ring-[#13ec13] dark:border-gray-700 dark:bg-[#0d1b0d] dark:text-white",children:p.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))}),e.jsx(g,{error:c.type||(a==null?void 0:a.type),className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(o,{htmlFor:"description",children:"Description"}),e.jsx(J,{id:"description",value:i.description,onChange:h=>l("description",h.target.value),className:"mt-1",rows:4,placeholder:"Describe your rental property or item..."}),e.jsx(g,{error:c.description||(a==null?void 0:a.description),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Pricing"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"price",children:"Price (GH₵)"}),e.jsx(w,{id:"price",type:"number",step:"0.01",min:"0",value:i.price,onChange:h=>l("price",h.target.value),className:"mt-1",placeholder:"500.00"}),e.jsx(g,{error:c.price||(a==null?void 0:a.price),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"period",children:"Rental Period"}),e.jsx("select",{id:"period",value:i.period,onChange:h=>l("period",h.target.value),className:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-[#13ec13] focus:ring-[#13ec13] dark:border-gray-700 dark:bg-[#0d1b0d] dark:text-white",children:N.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))}),e.jsx(g,{error:c.period||(a==null?void 0:a.period),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"location",children:"Location"}),e.jsx(w,{id:"location",value:i.location,onChange:h=>l("location",h.target.value),className:"mt-1",placeholder:"Sefwi Bekwai"}),e.jsx(g,{error:c.location||(a==null?void 0:a.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"phone",children:"Phone"}),e.jsx(w,{id:"phone",value:i.phone,onChange:h=>l("phone",h.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(g,{error:c.phone||(a==null?void 0:a.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"whatsapp",children:"WhatsApp (optional)"}),e.jsx(w,{id:"whatsapp",value:i.whatsapp,onChange:h=>l("whatsapp",h.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(g,{error:c.whatsapp||(a==null?void 0:a.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",children:"Email (optional)"}),e.jsx(w,{id:"email",type:"email",value:i.email,onChange:h=>l("email",h.target.value),className:"mt-1",placeholder:"contact@example.com"}),e.jsx(g,{error:c.email||(a==null?void 0:a.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Rental Terms"}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"rental_terms",children:"Terms & Conditions (optional)"}),e.jsx(J,{id:"rental_terms",value:i.rental_terms,onChange:h=>l("rental_terms",h.target.value),className:"mt-1",rows:4,placeholder:"Minimum 6 months lease, 2 months advance required, no pets allowed..."}),e.jsx(g,{error:c.rental_terms||(a==null?void 0:a.rental_terms),className:"mt-1"})]})]}),e.jsx("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:i.is_active,onChange:h=>l("is_active",h.target.checked),className:"h-5 w-5 rounded border-gray-300 text-[#13ec13] focus:ring-[#13ec13]"}),e.jsx(o,{htmlFor:"is_active",className:"cursor-pointer",children:i.is_active?"Listing is Active":"Listing is Inactive"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[m&&e.jsxs("span",{className:"flex items-center gap-1 text-sm text-green-600",children:[e.jsx(Ue,{className:"h-4 w-4"}),"Saved successfully"]}),e.jsx(_,{type:"submit",disabled:u,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0fdc0f]",children:u?e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})})]})}function Ts({activeTab:s,data:a}){const t=a==null?void 0:a.profile;switch(s){case"features":return e.jsx(Rs,{profile:t});case"gallery":return e.jsx(Ms,{profile:t});case"profile":default:return e.jsx(Ls,{profile:t})}}function Hs({image:s,onClose:a,profile:t}){const{errors:r}=B().props,[d,i]=S.useState((s==null?void 0:s.image_path)||null),l=!!s,{data:y,setData:u,post:c,put:m,processing:p,errors:N,reset:b}=U({image:null,is_primary:(s==null?void 0:s.is_primary)||!1,transport_id:t==null?void 0:t.id}),C=n=>{const h=n.target.files[0];if(h){u("image",h);const F=new FileReader;F.onloadend=()=>{i(F.result)},F.readAsDataURL(h)}},P=()=>{u("image",null),l||i(null)},f=n=>{n.preventDefault(),l?m(route("user.dashboard.transport.images.update",s.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{b(),a()}}):c(route("user.dashboard.transport.images.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{b(),i(null),a()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[#0d1b0d] dark:text-white",children:l?"Edit Image":"Add Image"}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"image",children:"Vehicle Image"}),e.jsx("div",{className:"mt-2",children:d?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:d,alt:"Preview",className:"h-48 w-full rounded-lg border border-[#e7f3e7] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:P,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(M,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(K,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:C})]})}),e.jsx(g,{error:N.image||(r==null?void 0:r.image),className:"mt-1"})]}),!l&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_primary",checked:y.is_primary,onChange:n=>u("is_primary",n.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[#13ec13] focus:ring-[#13ec13]"}),e.jsx(o,{htmlFor:"is_primary",className:"text-sm",children:"Set as primary image"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:a,disabled:p,children:"Cancel"}),e.jsx(_,{type:"submit",disabled:p,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:p?"Saving...":l?"Update":"Add Image"})]})]})]})})}function Us({profile:s}){const a=(s==null?void 0:s.images)||[],[t,r]=S.useState(!1),[d,i]=S.useState(null),l=b=>{i(b),r(!0)},y=b=>{confirm("Are you sure you want to delete this image?")&&D.delete(route("user.dashboard.transport.images.destroy",b),{preserveScroll:!0})},u=b=>{D.post(route("user.dashboard.transport.images.set-primary",b),{},{preserveScroll:!0})},c=()=>{i(null),r(!0)},m=()=>{r(!1),i(null)},p=a.find(b=>b.is_primary),N=a.filter(b=>!b.is_primary);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0d1b0d] dark:text-white",children:"Vehicle Gallery"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your vehicle images and showcase your service"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Vehicle Images"}),e.jsxs(_,{onClick:c,className:"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),p&&e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-4 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(Z,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-semibold text-[#0d1b0d] dark:text-white",children:"Primary Image"})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-lg",children:[e.jsx("img",{src:p.image_path,alt:"Primary",className:"h-64 w-full object-cover transition-transform group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>l(p),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(X,{className:"h-4 w-4 text-[#13ec13]"})}),e.jsx("button",{onClick:()=>y(p.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(O,{className:"h-4 w-4 text-red-600"})})]})]})]}),N.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:N.map(b=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl border border-[#e7f3e7] bg-white transition-all hover:shadow-lg dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:b.image_path,alt:"Vehicle",className:"h-full w-full object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>u(b.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Set as Primary",children:e.jsx(Z,{className:"h-4 w-4 text-yellow-400"})}),e.jsx("button",{onClick:()=>l(b),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(X,{className:"h-4 w-4 text-[#13ec13]"})}),e.jsx("button",{onClick:()=>y(b.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(O,{className:"h-4 w-4 text-red-600"})})]})]})},b.id))}):!p&&e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:[e.jsx($,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No images uploaded yet"}),e.jsxs(_,{onClick:c,className:"mt-4 bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0eb50e]",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Your First Image"]})]}),t&&e.jsx(Hs,{image:d,onClose:m,profile:s})]})}function $s({profile:s}){var P,f;const{errors:a}=B().props,t=((P=s==null?void 0:s.images)==null?void 0:P.find(n=>n.is_primary))||((f=s==null?void 0:s.images)==null?void 0:f[0]),[r,d]=S.useState((t==null?void 0:t.image_path)||null);if(!s||!s.id)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile..."})})});const{data:i,setData:l,post:y,processing:u,errors:c,recentlySuccessful:m}=U({_method:"PUT",company_name:(s==null?void 0:s.company_name)||"",type:(s==null?void 0:s.type)||"okada",description:(s==null?void 0:s.description)||"",location:(s==null?void 0:s.location)||"",phone:(s==null?void 0:s.phone)||"",whatsapp:(s==null?void 0:s.whatsapp)||"",email:(s==null?void 0:s.email)||"",price_per_seat:(s==null?void 0:s.price_per_seat)||"",seats_available:(s==null?void 0:s.seats_available)||"",operating_hours:(s==null?void 0:s.operating_hours)||"",is_active:(s==null?void 0:s.is_active)??!0,primary_image:null}),p=[{value:"okada",label:"Okada"},{value:"car",label:"Car"},{value:"taxi",label:"Taxi"},{value:"bus",label:"Bus"},{value:"cargo",label:"Cargo"},{value:"other",label:"Other"}],N=n=>{const h=n.target.files[0];if(h){l("primary_image",h);const F=new FileReader;F.onloadend=()=>{d(F.result)},F.readAsDataURL(h)}},b=()=>{l("primary_image",null),d(null)},C=n=>{if(n.preventDefault(),!(s!=null&&s.id)){console.error("Profile ID is missing. Cannot submit form.");return}y(route("user.dashboard.transport.update",s.id),{preserveScroll:!0,forceFormData:!0})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[#0d1b0d] dark:text-white",children:"Transport Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your transport service information"})]}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Vehicle Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[r?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Vehicle",className:"h-32 w-32 rounded-lg border border-[#e7f3e7] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:b,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(M,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",children:e.jsx($,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(o,{htmlFor:"primary_image",children:"Primary Image"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500 dark:text-gray-400",children:"This image will be displayed as your vehicle/service thumbnail to visitors"}),e.jsxs("label",{htmlFor:"primary_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[#e7f3e7] bg-white px-4 py-2 text-sm font-medium text-[#0d1b0d] transition-colors hover:bg-[#f6f8f6] dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[e.jsx(K,{className:"h-4 w-4"}),r?"Change Image":"Upload Image"]}),e.jsx("input",{id:"primary_image",type:"file",className:"hidden",accept:"image/*",onChange:N}),e.jsx(g,{error:c.primary_image||(a==null?void 0:a.primary_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"company_name",children:"Company/Service Name"}),e.jsx(w,{id:"company_name",value:i.company_name,onChange:n=>l("company_name",n.target.value),className:"mt-1",placeholder:"Fast Okada & Car Riders"}),e.jsx(g,{error:c.company_name||(a==null?void 0:a.company_name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"type",children:"Service Type"}),e.jsxs(V,{value:i.type,onValueChange:n=>l("type",n),children:[e.jsx(z,{className:"mt-1",children:e.jsx(W,{placeholder:"Select service type"})}),e.jsx(q,{children:p.map(n=>e.jsx(Y,{value:n.value,children:n.label},n.value))})]}),e.jsx(g,{error:c.type||(a==null?void 0:a.type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"price_per_seat",children:"Price per Seat (GH₵)"}),e.jsx(w,{id:"price_per_seat",type:"number",step:"0.01",value:i.price_per_seat,onChange:n=>l("price_per_seat",n.target.value),className:"mt-1",placeholder:"15.00"}),e.jsx(g,{error:c.price_per_seat||(a==null?void 0:a.price_per_seat),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"seats_available",children:"Seats Available"}),e.jsx(w,{id:"seats_available",type:"number",value:i.seats_available,onChange:n=>l("seats_available",n.target.value),className:"mt-1",placeholder:"4"}),e.jsx(g,{error:c.seats_available||(a==null?void 0:a.seats_available),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"About Your Service"}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"description",children:"Description"}),e.jsx(J,{id:"description",value:i.description,onChange:n=>l("description",n.target.value),className:"mt-1",rows:4,placeholder:"Describe your transport service, vehicle condition, and what makes you stand out..."}),e.jsx(g,{error:c.description||(a==null?void 0:a.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(o,{htmlFor:"location",children:"Working Location"}),e.jsx(w,{id:"location",value:i.location,onChange:n=>l("location",n.target.value),className:"mt-1",placeholder:"Sefwi Bekwai"}),e.jsx(g,{error:c.location||(a==null?void 0:a.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"phone",children:"Phone"}),e.jsx(w,{id:"phone",value:i.phone,onChange:n=>l("phone",n.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(g,{error:c.phone||(a==null?void 0:a.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"whatsapp",children:"WhatsApp"}),e.jsx(w,{id:"whatsapp",value:i.whatsapp,onChange:n=>l("whatsapp",n.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(g,{error:c.whatsapp||(a==null?void 0:a.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(w,{id:"email",type:"email",value:i.email,onChange:n=>l("email",n.target.value),className:"mt-1",placeholder:"contact@fastokada.com"}),e.jsx(g,{error:c.email||(a==null?void 0:a.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[#e7f3e7] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[#0d1b0d] dark:text-white",children:"Operating Hours"}),e.jsxs("div",{children:[e.jsx(o,{htmlFor:"operating_hours",children:"Operating Hours"}),e.jsx(w,{id:"operating_hours",value:i.operating_hours,onChange:n=>l("operating_hours",n.target.value),className:"mt-1",placeholder:"Daily: 5:00 AM - 8:00 PM"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"When are you available for rides?"}),e.jsx(g,{error:c.operating_hours||(a==null?void 0:a.operating_hours),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[m&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(E,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsxs("button",{type:"submit",disabled:u,className:"inline-flex items-center justify-center gap-2 rounded-md bg-[#13ec13] px-4 py-2 text-sm font-medium whitespace-nowrap text-[#0d1b0d] transition-[color,box-shadow] hover:cursor-pointer hover:bg-[#0eb50e] disabled:pointer-events-none disabled:opacity-50",children:[e.jsx(re,{className:"h-4 w-4"}),u?"Saving...":"Save Profile"]})]})]})]})}function Os({activeSection:s,profile:a}){switch(s){case"gallery":return e.jsx(Us,{profile:a});case"profile":default:return e.jsx($s,{profile:a})}}function Bs({user:s,children:a,activeCategory:t,activeSection:r,categoryData:d}){var m;const[i,l]=S.useState(!1),u=(()=>{if(!t)return[];switch(t){case"artisans":return[{id:"profile",label:"Profile",icon:Ve},{id:"portfolio",label:"Portfolio",icon:$}];case"hotels":return[{id:"profile",label:"Profile",icon:Ge},{id:"gallery",label:"Gallery",icon:$}];case"transport":return[{id:"profile",label:"Profile",icon:Be},{id:"gallery",label:"Gallery",icon:$}];case"rentals":return[{id:"profile",label:"Profile",icon:xe},{id:"features",label:"Features",icon:Xe},{id:"gallery",label:"Gallery",icon:$}];case"marketplace":return[{id:"store",label:"Store Settings",icon:Oe},{id:"products",label:"Products",icon:se}];default:return[]}})(),c=p=>{Se(p)};return e.jsxs("div",{className:"flex h-screen w-full overflow-hidden bg-[#f6f8f6] dark:bg-[#102210]",children:[e.jsx("aside",{className:`fixed inset-y-0 left-0 z-30 w-72 transform bg-white dark:bg-[#1a331a] border-r border-[#e7f3e7] dark:border-[#2a4d2a] transition-transform duration-300 md:relative md:translate-x-0 ${i?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex h-full flex-col justify-between p-5",children:[e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsxs("div",{className:"flex items-center gap-3 px-2",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-[#13ec13]/20",children:e.jsx("span",{className:"text-xl font-bold text-[#13ec13]",children:"B2R"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:"BUAME 2R"}),e.jsx("p",{className:"text-sm font-medium text-[#4c9a4c] dark:text-[#8fcc8f]",children:"Dashboard"})]})]}),u.length>0&&e.jsx("nav",{className:"flex flex-col gap-2",children:u.map(p=>{const N=p.icon,b=r===p.id;return e.jsxs("button",{onClick:()=>c(p.id),className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors ${b?"bg-[#e7f3e7] dark:bg-[#254225] text-[#0d1b0d] dark:text-white":"text-[#4c9a4c] dark:text-[#8fcc8f] hover:bg-[#f6f8f6] dark:hover:bg-[#1f3d1f]"}`,children:[e.jsx(N,{className:"h-5 w-5"}),e.jsx("span",{children:p.label})]},p.id)})})]}),e.jsxs("div",{className:"flex flex-col gap-2 border-t border-[#e7f3e7] dark:border-[#2a4d2a] pt-4",children:[e.jsxs("div",{className:"flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-[#f6f8f6] dark:hover:bg-[#1f3d1f] transition-colors",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-[#13ec13]/20",children:e.jsx("span",{className:"text-sm font-bold text-[#13ec13]",children:((m=s==null?void 0:s.name)==null?void 0:m.charAt(0).toUpperCase())||"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-bold truncate text-[#0d1b0d] dark:text-white",children:s==null?void 0:s.name}),e.jsx("p",{className:"text-xs truncate text-[#4c9a4c] dark:text-[#8fcc8f]",children:s==null?void 0:s.phone})]})]}),e.jsxs(Fe,{href:route("user.logout"),method:"post",className:"flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[e.jsx(ss,{className:"h-5 w-5"}),e.jsx("span",{children:"Log Out"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs("header",{className:"flex h-16 items-center justify-between border-b border-[#e7f3e7] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] px-4 md:hidden",children:[e.jsx("button",{onClick:()=>l(!i),className:"text-[#0d1b0d] dark:text-white",children:i?e.jsx(M,{className:"h-6 w-6"}):e.jsx($e,{className:"h-6 w-6"})}),e.jsx("span",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:"BUAME 2R"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{className:"relative rounded-full p-2 hover:bg-[#f6f8f6] dark:hover:bg-[#1f3d1f] transition-colors",children:[e.jsx(be,{className:"h-5 w-5 text-[#4c9a4c] dark:text-[#8fcc8f]"}),e.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 rounded-full bg-red-500 border-2 border-white dark:border-[#1a331a]"})]})})]}),e.jsxs("header",{className:"hidden h-16 items-center justify-between border-b border-[#e7f3e7] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] px-6 md:flex",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("h2",{className:"text-xl font-bold text-[#0d1b0d] dark:text-white",children:t?t.charAt(0).toUpperCase()+t.slice(1):"Dashboard"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"relative rounded-full p-2 hover:bg-[#f6f8f6] dark:hover:bg-[#1f3d1f] transition-colors",children:[e.jsx(be,{className:"h-5 w-5 text-[#4c9a4c] dark:text-[#8fcc8f]"}),e.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 rounded-full bg-red-500 border-2 border-white dark:border-[#1a331a]"})]}),e.jsx("div",{className:"flex items-center gap-3 rounded-full border border-[#e7f3e7] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] px-4 py-2",children:e.jsx("span",{className:"text-sm font-bold text-[#0d1b0d] dark:text-white",children:s==null?void 0:s.name})})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:a})]}),i&&e.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 md:hidden",onClick:()=>l(!1)})]})}function Pa({user:s,paidCategories:a,unpaidCategories:t,activeCategory:r,categoryData:d,payments:i,activeSection:l="profile"}){const y=()=>{if(!r)return e.jsx(je,{categoryData:d});switch(r){case"artisans":return e.jsx(xs,{activeSection:l,profile:d==null?void 0:d.profile});case"marketplace":return e.jsx(As,{activeTab:l||"store",data:d});case"hotels":return e.jsx(fs,{activeTab:l,data:d});case"transport":return e.jsx(Os,{activeTab:l,data:d});case"rentals":return e.jsx(Ts,{activeTab:l,data:d});case"jobs":return e.jsx(ws,{activeTab:l,data:d});default:return e.jsx(je,{categoryData:d})}};return e.jsxs(Bs,{user:s,activeCategory:r,activeSection:l,categoryData:d,children:[e.jsx(Ie,{title:`Dashboard - ${r?r.charAt(0).toUpperCase()+r.slice(1):"BUAME 2R"}`}),e.jsxs("div",{className:"mx-auto w-full max-w-[1400px] p-4 md:p-6 lg:p-8",children:[e.jsx(js,{paidCategories:a,activeCategory:r,unpaidCategories:t}),y()]})]})}export{Pa as default};
