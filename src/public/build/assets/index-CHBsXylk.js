import{j as e,r as _,S as M,K as Q,m as O,$ as Oe,L as Ge}from"./app-ClnaodtH.js";import{B as S}from"./button-BMKtbv-t.js";import{c as re}from"./createLucideIcon-BmkbrfHz.js";import{I as j}from"./input-CqxszR7o.js";import{L as n}from"./label-CQHOY0_z.js";import{S as z,a as V,b as Y,c as J,d as E}from"./select-C3DziNG-.js";import{T as B}from"./textarea-CzSQJg5l.js";import{E as te}from"./eye-CJ4PG0Ae.js";import{E as he}from"./eye-off-DchIB8-Z.js";import{L as ve}from"./loader-circle-B8vZoEIr.js";import{C as X}from"./circle-check-big-CIgurdoE.js";import{D as le,a as ie,b as ne,c as de,d as Ce,e as oe}from"./dialog-CpnXFnQm.js";import{X as $,T as ye}from"./x-BRpnItHS.js";import{I as W}from"./image-CE-NRSVM.js";import{P as G,S as ee}from"./square-pen-BZKVZREO.js";import{T as K}from"./trash-2-JJiVZeeP.js";import{G as Ne,B as qe}from"./BillingCycleSelector-6K4vahye.js";import{B as xe}from"./briefcase-CN5J3N6I.js";import{S as Se}from"./shopping-bag-BSEr2T3w.js";import{H as je}from"./house-DkRKzUMt.js";import{B as Fe}from"./bike-1e3wU4l_.js";import{H as Pe}from"./hotel-CR17zWuI.js";import{H as Ae}from"./hammer-B6YvvLiU.js";import{C as We}from"./credit-card-DFN2_zrd.js";import{C as ze,T as Ve}from"./toast-provider-DsMIi_RS.js";import{C as Ie}from"./clock-Dmwj8_4F.js";import{L as Ye}from"./lock-kfjgENq-.js";import{S as se}from"./star-DjWO9O6r.js";import{M as Te}from"./map-pin-BGqqrd52.js";import{C as De}from"./copy-PCDxign5.js";import{E as Le}from"./external-link-Bzbv8iLq.js";import{P as ge}from"./package-C1hYxyLE.js";import{T as Je}from"./trending-up-DcTc0hII.js";import{A as Ee}from"./app-logo-B5wvwd_f.js";import{L as Ke}from"./log-out-BcXhW3-D.js";import{M as Xe}from"./menu-CNNi9TWI.js";import{B as fe}from"./bell-BN37rx0O.js";import{U as we}from"./user--i4R3lWD.js";import{S as Qe}from"./store-7ljP8DIb.js";import{C as Ze}from"./car-DndG965U.js";import{B as ea}from"./building-2-D5WK3BqH.js";import"./index-DjMMrPbL.js";import"./index-P-o7QyTT.js";import"./index-BuWG--TJ.js";import"./Combination-CFaQSgx7.js";import"./index-59GWJZHM.js";import"./index-PBxQYaoc.js";import"./index-7b9ix9qF.js";import"./chevron-down-wTnpJZt8.js";import"./check-dnhWZj-H.js";import"./chevron-up-BKP0RrjA.js";import"./index-BVsymk3L.js";import"./index-Cm0ef7G3.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Re=re("ArrowUpRight",aa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ae=re("CircleAlert",ra);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],me=re("ImagePlus",sa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],la=re("ListChecks",ta);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],na=re("Pen",ia);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Me=re("Save",da);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Z=re("Upload",oa);function x({error:a,className:r=""}){if(!a)return null;const s=Array.isArray(a)?a[0]:a;return e.jsxs("div",{className:`flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${r}`,children:[e.jsx(ae,{className:"h-4 w-4 shrink-0"}),e.jsx("span",{children:s})]})}function Ue({checked:a,onCheckedChange:r,id:s,className:t="",...l}){return e.jsx("button",{type:"button",role:"switch","aria-checked":a,id:s,onClick:()=>r(!a),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-[var(--primary)] focus:ring-offset-2 ${a?"bg-[var(--primary)]":"bg-gray-300 dark:bg-gray-600"} ${t}`,...l,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a?"translate-x-6":"translate-x-1"}`})})}function ca({listing:a,routeName:r,label:s="Listing",onBeforeToggle:t}){const[l,p]=_.useState((a==null?void 0:a.is_active)??!1),[m,c]=_.useState(!1),u=()=>{t&&t()===!1||(p(!l),c(!0),M.post(route(r),{},{preserveScroll:!0,preserveState:!0,only:["categoryData","flash"],onFinish:()=>c(!1),onError:y=>{p(l),c(!1)}}))};return e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-[var(--buame-border-light)] bg-white px-3 py-1.5 md:px-4 md:py-2 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[l?e.jsx(te,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(he,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{className:"hidden flex-col md:flex",children:[e.jsx(n,{className:"cursor-pointer text-xs font-semibold text-[var(--foreground)] dark:text-white",children:l?"Visible":"Hidden"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:s})]}),e.jsx(Ue,{checked:l,onCheckedChange:u,disabled:m,className:"ml-1 md:ml-2"})]})}function ue({listing:a,routeName:r,label:s="Listing",onBeforeToggle:t}){const l=(a==null?void 0:a.is_active)??!1;return e.jsx("div",{className:`rounded-xl border-2 p-6 ${l?"border-[var(--primary)] bg-[var(--buame-border-light)] dark:bg-[#1a331a]":"border-[var(--accent)]/30 bg-[var(--accent)]/10 dark:border-[var(--accent)]/20 dark:bg-[var(--accent)]/5"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${l?"bg-[var(--primary)]/20":"bg-[var(--accent)]/20 dark:bg-[var(--accent)]/10"}`,children:l?e.jsx(te,{className:"h-6 w-6 text-[var(--primary)]"}):e.jsx(he,{className:"h-6 w-6 text-[var(--accent)] dark:text-[var(--accent)]"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:[s," is ",l?"Visible":"Hidden"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l?`Your ${s.toLowerCase()} is visible to visitors`:`Your ${s.toLowerCase()} is hidden from visitors. Toggle to make it visible.`})]})]}),e.jsx(ca,{listing:a,routeName:r,label:s,onBeforeToggle:t})]})})}function q({isProcessing:a,isDirty:r,onClick:s,position:t="bottom"}){return e.jsx(S,{type:"button",onClick:s,disabled:!r||a,variant:r?"default":"ghost",className:"gap-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):r?e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-4 w-4"}),"Save Changes"]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4"}),"Saved"]})})}function ce({isOpen:a,onClose:r,onSaveAndContinue:s}){return e.jsx(le,{open:a,onOpenChange:r,children:e.jsxs(ie,{className:"sm:max-w-md",children:[e.jsxs(ne,{children:[e.jsx(de,{children:"Unsaved Changes"}),e.jsx(Ce,{children:"Save your changes before going live."})]}),e.jsxs(oe,{className:"gap-2 sm:gap-0",children:[e.jsx(S,{variant:"outline",onClick:r,children:"Cancel"}),e.jsx(S,{onClick:s,children:"Save & Go Live"})]})]})})}function ma({profile:a}){var F;const{errors:r}=Q().props,[s,t]=_.useState(((F=a==null?void 0:a.specialties)==null?void 0:F.map(k=>k.specialty))||[]),[l,p]=_.useState(""),[m,c]=_.useState((a==null?void 0:a.profile_image)||null),[u,y]=_.useState(!1),{data:h,setData:o,post:b,processing:i,errors:g,recentlySuccessful:I,isDirty:f}=O({_method:"PUT",name:(a==null?void 0:a.name)||"",company_name:(a==null?void 0:a.company_name)||"",skill_type:(a==null?void 0:a.skill_type)||"other",description:(a==null?void 0:a.description)||"",experience_years:(a==null?void 0:a.experience_years)||"",experience_level:(a==null?void 0:a.experience_level)||"expert",price_per_day:(a==null?void 0:a.price_per_day)||"",show_price:(a==null?void 0:a.show_price)??!1,location:(a==null?void 0:a.location)||"",address:(a==null?void 0:a.address)||"",phone:(a==null?void 0:a.phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",working_hours:(a==null?void 0:a.working_hours)||"",is_available:(a==null?void 0:a.is_available)??!0,specialties:s,profile_image:null}),C=[{value:"carpenter",label:"Carpenter"},{value:"mason",label:"Mason"},{value:"electrician",label:"Electrician"},{value:"plumber",label:"Plumber"},{value:"tiler",label:"Tiler"},{value:"tailor",label:"Tailor"},{value:"welder",label:"Welder"},{value:"painter",label:"Painter"},{value:"hairdressing",label:"Hairdressing"},{value:"mechanic",label:"Mechanic"},{value:"bakery",label:"Bakery"},{value:"decoration",label:"Decoration"},{value:"makeup_artistry",label:"Makeup Artistry"},{value:"bead_making",label:"Bead Making"},{value:"shoe_making",label:"Shoe Making"},{value:"event_mc",label:"Event MC"},{value:"event_planners",label:"Event Planners"},{value:"graphics_designer",label:"Graphics Designer"},{value:"radio_presenter",label:"Radio Presenter"},{value:"drivers",label:"Drivers"},{value:"borehole_drillers",label:"Borehole Drillers"},{value:"printer_repairers",label:"Printer Repairers"},{value:"tv_decoder_repairers",label:"TV & Decoder Repairers"},{value:"air_conditioning_installers",label:"Air-Conditioning Installers"},{value:"multi_tv_dstv_installers",label:"Multi TV, DStv Installers"},{value:"phone_repairers",label:"Phone Repairers"},{value:"other",label:"Other"}],A=()=>{if(l.trim()&&!s.includes(l.trim())){const k=[...s,l.trim()];t(k),o("specialties",k),p("")}},D=k=>{const T=s.filter((R,N)=>N!==k);t(T),o("specialties",T)},L=k=>{const T=k.target.files[0];if(T){o("profile_image",T);const R=new FileReader;R.onloadend=()=>{c(R.result)},R.readAsDataURL(T)}},w=()=>{o("profile_image",null),c(null)},d=k=>{if(k==null||k.preventDefault(),!(a!=null&&a.id)){console.error("Profile ID is missing. Cannot submit form.");return}b(route("user.dashboard.artisans.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}})},v=()=>f?(y(!0),!1):!0,P=()=>{b(route("user.dashboard.artisans.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{M.post(route("user.dashboard.artisans.toggle-active"),{artisan_id:a.id}),y(!1)}})};return _.useEffect(()=>{o("specialties",s)},[s,o]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Artisan Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your artisan profile information"})]}),a&&e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(q,{isProcessing:i,isDirty:f,onClick:d,position:"top"})}),a&&e.jsx(ue,{listing:a,routeName:"user.dashboard.artisans.toggle-active",label:"Profile",onBeforeToggle:v}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Profile Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[m?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:m,alt:"Profile",className:"h-32 w-32 rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:w,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx($,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",children:e.jsx(W,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{htmlFor:"profile_image",children:"Profile Image (Thumbnail)"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500 dark:text-gray-400",children:"This image will be displayed as your thumbnail to visitors"}),e.jsxs("label",{htmlFor:"profile_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[var(--buame-border-light)] bg-white px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[e.jsx(Z,{className:"h-4 w-4"}),m?"Change Image":"Upload Image"]}),e.jsx("input",{id:"profile_image",type:"file",className:"hidden",accept:"image/*",onChange:L}),e.jsx(x,{error:g.profile_image||(r==null?void 0:r.profile_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",children:"Full Name"}),e.jsx(j,{id:"name",value:h.name,onChange:k=>o("name",k.target.value),className:"mt-1",placeholder:"Kwame Mensah"}),e.jsx(x,{error:g.name||(r==null?void 0:r.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"skill_type",children:"Skill Type"}),e.jsxs(z,{value:h.skill_type,onValueChange:k=>o("skill_type",k),children:[e.jsx(V,{className:"mt-1",children:e.jsx(Y,{placeholder:"Select skill type"})}),e.jsx(J,{children:C.map(k=>e.jsx(E,{value:k.value,children:k.label},k.value))})]}),e.jsx(x,{error:g.skill_type||(r==null?void 0:r.skill_type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"company_name",children:"Company/Business Name"}),e.jsx(j,{id:"company_name",value:h.company_name,onChange:k=>o("company_name",k.target.value),className:"mt-1",placeholder:"Mensah's Carpentry Works"}),e.jsx(x,{error:g.company_name||(r==null?void 0:r.company_name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"experience_years",children:"Years of Experience"}),e.jsx(j,{id:"experience_years",type:"number",value:h.experience_years,onChange:k=>o("experience_years",k.target.value),className:"mt-1",placeholder:"12"}),e.jsx(x,{error:g.experience_years||(r==null?void 0:r.experience_years),className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"checkbox",id:"show_price",checked:h.show_price,onChange:k=>o("show_price",k.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(n,{htmlFor:"show_price",className:"cursor-pointer",children:"Show average price per day to visitors"})]}),h.show_price&&e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price_per_day",children:"Average Price per Day (GH₵)"}),e.jsx(j,{id:"price_per_day",type:"number",step:"0.01",value:h.price_per_day,onChange:k=>o("price_per_day",k.target.value),className:"mt-1",placeholder:"80.00"}),e.jsx(x,{error:g.price_per_day||(r==null?void 0:r.price_per_day),className:"mt-1"})]})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"About"}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsx(B,{id:"description",value:h.description,onChange:k=>o("description",k.target.value),className:"mt-1",rows:4,placeholder:"Experienced master carpenter with over 12 years of expertise..."}),e.jsx(x,{error:g.description||(r==null?void 0:r.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Specialties"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{value:l,onChange:k=>p(k.target.value),onKeyPress:k=>k.key==="Enter"&&(k.preventDefault(),A()),placeholder:"Add specialty (e.g., Furniture)",className:"flex-1"}),e.jsx(S,{type:"button",onClick:A,variant:"outline",children:"Add"})]}),s.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:s.map((k,T)=>e.jsxs("span",{className:"flex items-center gap-2 rounded-md bg-[var(--primary)]/10 px-3 py-1 text-sm font-semibold text-[var(--primary)] dark:text-[var(--primary)]",children:[k,e.jsx("button",{type:"button",onClick:()=>D(T),className:"text-red-600 hover:text-red-800",children:"×"})]},T))})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:"Location"}),e.jsx(j,{id:"location",value:h.location,onChange:k=>o("location",k.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(x,{error:g.location||(r==null?void 0:r.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"address",children:"Full Address"}),e.jsx(j,{id:"address",value:h.address,onChange:k=>o("address",k.target.value),className:"mt-1",placeholder:"Street address"}),e.jsx(x,{error:g.address||(r==null?void 0:r.address),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Phone"}),e.jsx(j,{id:"phone",value:h.phone,onChange:k=>o("phone",k.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(x,{error:g.phone||(r==null?void 0:r.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"whatsapp",children:"WhatsApp"}),e.jsx(j,{id:"whatsapp",value:h.whatsapp,onChange:k=>o("whatsapp",k.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(x,{error:g.whatsapp||(r==null?void 0:r.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(j,{id:"email",type:"email",value:h.email,onChange:k=>o("email",k.target.value),className:"mt-1",placeholder:"kwame.mensah@example.com"}),e.jsx(x,{error:g.email||(r==null?void 0:r.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Working Hours"}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"working_hours",children:"Working Hours"}),e.jsx(j,{id:"working_hours",value:h.working_hours,onChange:k=>o("working_hours",k.target.value),className:"mt-1",placeholder:"Mon-Sat: 7:00 AM - 6:00 PM"}),e.jsx(x,{error:g.working_hours||(r==null?void 0:r.working_hours),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[I&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(q,{isProcessing:i,isDirty:f,onClick:d,position:"bottom"})]})]}),e.jsx(ce,{isOpen:u,onClose:()=>y(!1),onSaveAndContinue:P})]})}function ha({portfolio:a,onClose:r}){const{errors:s}=Q().props,[t,l]=_.useState((a==null?void 0:a.image_path)||null),p=!!a,{data:m,setData:c,post:u,put:y,processing:h,errors:o,reset:b}=O({item:(a==null?void 0:a.item)||"",image:null}),i=f=>{const C=f.target.files[0];if(C){c("image",C);const A=new FileReader;A.onloadend=()=>{l(A.result)},A.readAsDataURL(C)}},g=()=>{c("image",null),l(null)},I=f=>{f.preventDefault(),p?y(route("user.dashboard.artisans.portfolio.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{b(),r()}}):u(route("user.dashboard.artisans.portfolio.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{b(),l(null),r()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--foreground)] dark:text-white",children:p?"Edit Portfolio Item":"Add Portfolio Item"}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx($,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"item",children:"Work Description"}),e.jsx(j,{id:"item",value:m.item,onChange:f=>c("item",f.target.value),className:"mt-1",placeholder:"e.g., Custom dining tables",required:!0}),e.jsx(x,{error:o.item||(s==null?void 0:s.item),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"image",children:"Image (Optional)"}),e.jsx("div",{className:"mt-2",children:t?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Preview",className:"h-48 w-full rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:g,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx($,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Z,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:i})]})}),e.jsx(x,{error:o.image||(s==null?void 0:s.image),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(S,{type:"button",variant:"outline",onClick:r,disabled:h,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:h,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:h?"Saving...":p?"Update":"Add Item"})]})]})]})})}function xa({profile:a}){const r=(a==null?void 0:a.portfolio)||[],[s,t]=_.useState(!1),[l,p]=_.useState(null),m=h=>{p(h),t(!0)},c=h=>{confirm("Are you sure you want to delete this portfolio item?")&&M.delete(route("user.dashboard.artisans.portfolio.destroy",h),{preserveScroll:!0})},u=()=>{p(null),t(!0)},y=()=>{t(!1),p(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Portfolio"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Showcase your completed work"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"My Portfolio"}),e.jsxs(S,{onClick:u,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Add Work"]})]}),r.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.map(h=>e.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all hover:shadow-lg dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-800",children:[h.image_path?e.jsx("img",{src:h.image_path,alt:h.item,className:"h-full w-full object-cover"}):e.jsx(W,{className:"h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>m(h),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(ee,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>c(h.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(K,{className:"h-4 w-4 text-red-600"})})]})]}),e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"font-semibold text-[var(--foreground)] dark:text-white",children:h.item||"Work Item"})})]},h.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:[e.jsx(W,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No portfolio items yet"}),e.jsxs(S,{onClick:u,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Add Your First Work"]})]}),s&&e.jsx(ha,{portfolio:l,onClose:y})]})}function ua({activeSection:a,profile:r}){return a==="portfolio"?e.jsx(xa,{profile:r}):e.jsx(ma,{profile:r})}const ga={artisans:Ae,hotels:Pe,transport:Fe,rentals:je,marketplace:Se,jobs:xe};function He({isOpen:a,onClose:r,category:s,subscription:t,isFreeAccess:l=!1,freeAccessDays:p=30}){const[m,c]=_.useState(!1),[u,y]=_.useState("starter"),h=t&&(t.subscription_status==="expired"||t.subscription_status==="grace_period"||t.is_expiring_soon),[o,b]=_.useState((t==null?void 0:t.billing_cycle)||"monthly"),{categories:i}=Q().props,g=i==null?void 0:i[s];if(!g)return null;const I=ga[s]||xe,f=g.tiers,C=s==="marketplace",D=(()=>{var v;return C&&f&&((v=f[u])!=null&&v.pricing)?f[u].pricing:g.pricing||{monthly:g.price,biannually:g.price*5.4,annual:g.price*9.6}})(),L=D[o]||g.price,w=()=>{switch(o){case"biannually":return"6 months";case"annual":return"12 months";default:return"1 month"}},d=()=>{c(!0);const v={category:s};if(C&&(v.tier=u),l){M.post(route("user.dashboard.free-access"),v,{onFinish:()=>{c(!1),r()},onError:()=>c(!1)});return}v.billing_cycle=o,M.post(route("user.dashboard.payment.initialize"),v,{onFinish:()=>c(!1),onError:()=>c(!1)})};return e.jsx(le,{open:a,onOpenChange:r,children:e.jsxs(ie,{className:"flex max-h-[90vh] flex-col sm:max-w-md",children:[e.jsxs(ne,{children:[e.jsxs(de,{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-[var(--primary)]/10",children:e.jsx(I,{className:"h-5 w-5 text-[var(--primary)]"})}),h?`Renew ${g.label} Subscription`:`Add ${g.label} Category`]}),e.jsx(Ce,{children:h?`Renew your ${g.label} subscription to continue using its features`:`Subscribe to the ${g.label} category to start using its features`})]}),l&&e.jsx("div",{className:"mb-4 rounded-lg border-2 border-green-500 bg-green-50 p-6 dark:border-green-600 dark:bg-green-900/20",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-green-500 text-white",children:e.jsx(Ne,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-green-700 dark:text-green-300",children:"Free Access Period"}),e.jsxs("p",{className:"mt-1 text-green-600 dark:text-green-400",children:["Get ",e.jsxs("strong",{children:[p," days"]})," free access. No payment required!"]}),e.jsx("p",{className:"mt-2 text-sm text-green-600 dark:text-green-400",children:"After your free period ends, you'll receive reminders to subscribe and continue using the platform."})]})]})}),e.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto py-4",children:[C&&f&&e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("h3",{className:"mb-3 text-sm font-bold text-[var(--foreground)] dark:text-white",children:"Select Your Store Plan"}),e.jsx("div",{className:"space-y-2",children:Object.entries(f).map(([v,P])=>e.jsx("button",{type:"button",onClick:()=>y(v),className:`w-full rounded-lg border-2 p-3 text-left transition-all ${u===v?"border-[var(--primary)] bg-[var(--primary)]/10":"border-gray-200 bg-white hover:border-[var(--primary)]/50 dark:border-gray-700 dark:bg-[var(--card)]"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-bold text-[var(--foreground)] dark:text-white",children:P.name}),u===v&&e.jsx(X,{className:"h-4 w-4 text-[var(--primary)]"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:P.description}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Up to ",P.product_limit," products"]})]})})},v))})]}),!l&&e.jsx(qe,{selected:o,onChange:b,pricing:D}),!l&&e.jsxs("div",{className:"rounded-lg border-2 border-[var(--primary)]/20 bg-[var(--primary)]/5 p-4",children:[e.jsx("div",{className:"mb-2 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Subscription Fee"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-4xl font-black text-[var(--foreground)] dark:text-white",children:["GH₵ ",(L==null?void 0:L.toFixed(2))||"0.00"]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/ ",w()]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"What you'll get:"}),e.jsxs("ul",{className:"space-y-1.5 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[var(--primary)]"}),e.jsxs("span",{children:["Full access to ",g.label," dashboard"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[var(--primary)]"}),e.jsx("span",{children:"Create and manage your profile"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[var(--primary)]"}),e.jsx("span",{children:"Receive customer inquiries"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[var(--primary)]"}),e.jsx("span",{children:"Showcase your services to visitors"})]})]})]}),!l&&e.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-[var(--accent)]/30 bg-[var(--accent)]/10 p-3 dark:border-[var(--accent)]/20 dark:bg-[var(--accent)]/5",children:[e.jsx(ae,{className:"mt-0.5 h-4 w-4 shrink-0 text-[var(--accent)] dark:text-[var(--accent)]"}),e.jsxs("p",{className:"text-xs text-[var(--accent)] dark:text-[var(--accent)]/80",children:["You'll be redirected to Paystack for secure payment. Your subscription will be active for ",w(),". We'll send you reminders before it expires."]})]})]}),e.jsxs(oe,{className:"gap-2 sm:gap-0",children:[e.jsx(S,{type:"button",variant:"outline",onClick:r,disabled:m,children:"Cancel"}),e.jsx(S,{type:"button",onClick:d,disabled:m,className:"cursor-pointer gap-2 bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-[var(--foreground)] border-t-transparent"}),"Processing..."]}):e.jsx(e.Fragment,{children:l?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"h-4 w-4"}),"Activate ",p,"-Day Free Access"]}):e.jsxs(e.Fragment,{children:[e.jsx(We,{className:"h-4 w-4"}),h?"Renew":"Pay"," GH₵ ",(L==null?void 0:L.toFixed(2))||"0.00"]})})})]})]})})}const ke={active:{icon:X,label:"Active",className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"},grace_period:{icon:Ie,label:"Grace Period",className:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"},expired:{icon:ze,label:"Expired",className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},cancelled:{icon:ae,label:"Cancelled",className:"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}};function pa({status:a,expiresAt:r,showExpiry:s=!0,size:t="default"}){const l=ke[a]||ke.expired,p=l.icon,m=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",c={small:"px-2 py-0.5 text-[10px]",default:"px-3 py-1 text-xs",large:"px-4 py-1.5 text-sm"},u={small:"h-3 w-3",default:"h-3.5 w-3.5",large:"h-4 w-4"};return e.jsxs("div",{className:`inline-flex items-center gap-1.5 rounded-full font-semibold ${l.className} ${c[t]}`,children:[e.jsx(p,{className:u[t]}),e.jsx("span",{children:l.label}),s&&r&&e.jsxs("span",{className:"opacity-75",children:["(",a==="active"?"Expires":"Expired",": ",m(r),")"]})]})}function ba(a,r=null){const s={category:a};r&&(s.section=r),M.get(route("user.dashboard.index"),s,{preserveScroll:!0,preserveState:!1})}function Be(a,r=null){const s={section:a};if(r)s.category=r;else{const l=new URLSearchParams(window.location.search).get("category");l&&(s.category=l)}M.get(route("user.dashboard.index"),s,{preserveScroll:!0,preserveState:!0})}const va={artisans:{label:"Artisans",icon:Ae,color:"blue"},hotels:{label:"Hotel",icon:Pe,color:"green"},transport:{label:"Okada/Car",icon:Fe,color:"orange"},rentals:{label:"Rentals",icon:je,color:"purple"},marketplace:{label:"Marketplace",icon:Se,color:"pink"},jobs:{label:"Jobs",icon:xe,color:"gray"}};function ja({paidCategories:a,activeCategory:r,unpaidCategories:s,isFreeAccess:t=!1,freeAccessDays:l=30}){const[p,m]=_.useState(!1),[c,u]=_.useState(null),y=b=>{ba(b)},h=b=>{u(b),m(!0)},o=()=>{m(!1),u(null)};return e.jsxs("div",{className:"mb-6 rounded-xl border border-[var(--buame-border-light)] bg-white p-4 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-sm font-bold tracking-wide text-[#4c9a4c] uppercase dark:text-[#8fcc8f]",children:"Your Categories"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-6",children:Object.entries(va).map(([b,i])=>{const g=i.icon,I=a==null?void 0:a.find(A=>A.category===b),f=!!I,C=r===b;return f?e.jsxs("button",{onClick:()=>!C&&y(b),className:`flex cursor-pointer flex-col items-center gap-2 rounded-lg border-2 p-3 transition-all ${C?"border-[var(--primary)] bg-[var(--primary)]/10":"border-[var(--buame-border-light)] hover:border-[var(--primary)]/50 dark:border-[#2a4d2a]"}`,children:[e.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${C?"bg-[var(--primary)] text-white":"bg-[var(--primary)]/10 text-[var(--primary)]"}`,children:e.jsx(g,{className:"h-5 w-5"})}),e.jsx("span",{className:`text-xs font-semibold ${C?"text-[var(--foreground)] dark:text-white":"text-[#4c9a4c] dark:text-[#8fcc8f]"}`,children:i.label}),I&&e.jsx(pa,{status:I.subscription_status,expiresAt:I.expires_at,showExpiry:!1,size:"small"})]},b):e.jsxs("button",{onClick:()=>h(b),className:"flex cursor-pointer flex-col items-center gap-2 rounded-lg border-2 border-dashed border-gray-300 p-3 opacity-60 transition-opacity hover:opacity-100 dark:border-gray-600",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100 text-gray-400 dark:bg-gray-800",children:e.jsx(Ye,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:i.label})]},b)})}),e.jsx(He,{isOpen:p,onClose:o,category:c,isFreeAccess:t,freeAccessDays:l})]})}function ya({image:a,onClose:r}){const{errors:s}=Q().props,[t,l]=_.useState((a==null?void 0:a.image_path)||null),p=!!a,{data:m,setData:c,post:u,put:y,processing:h,errors:o,reset:b}=O({image:null,is_primary:(a==null?void 0:a.is_primary)||!1}),i=f=>{const C=f.target.files[0];if(C){c("image",C);const A=new FileReader;A.onloadend=()=>{l(A.result)},A.readAsDataURL(C)}},g=()=>{c("image",null),p||l(null)},I=f=>{f.preventDefault(),p?y(route("user.dashboard.hotels.images.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{b(),r()}}):u(route("user.dashboard.hotels.images.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{b(),l(null),r()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--foreground)] dark:text-white",children:p?"Edit Image":"Add Image"}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx($,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"image",children:"Hotel Image"}),e.jsx("div",{className:"mt-2",children:t?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Preview",className:"h-48 w-full rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:g,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx($,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Z,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:i})]})}),e.jsx(x,{error:o.image||(s==null?void 0:s.image),className:"mt-1"})]}),!p&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_primary",checked:m.is_primary,onChange:f=>c("is_primary",f.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(n,{htmlFor:"is_primary",className:"text-sm",children:"Set as primary image"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(S,{type:"button",variant:"outline",onClick:r,disabled:h,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:h,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:h?"Saving...":p?"Update":"Add Image"})]})]})]})})}function Na({profile:a}){const r=(a==null?void 0:a.images)||[],[s,t]=_.useState(!1),[l,p]=_.useState(null),m=i=>{p(i),t(!0)},c=i=>{confirm("Are you sure you want to delete this image?")&&M.delete(route("user.dashboard.hotels.images.destroy",i),{preserveScroll:!0})},u=i=>{M.post(route("user.dashboard.hotels.images.set-primary",i),{},{preserveScroll:!0})},y=()=>{p(null),t(!0)},h=()=>{t(!1),p(null)},o=r.find(i=>i.is_primary),b=r.filter(i=>!i.is_primary);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Hotel Gallery"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your hotel images and showcase your property"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Property Images"}),e.jsxs(S,{onClick:y,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),o&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-4 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Primary Image"})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-lg",children:[e.jsx("img",{src:o.image_path,alt:"Primary",className:"h-64 w-full object-cover transition-transform group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>m(o),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(ee,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>c(o.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(K,{className:"h-4 w-4 text-red-600"})})]})]})]}),b.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:b.map(i=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all hover:shadow-lg dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:i.image_path,alt:"Hotel",className:"h-full w-full object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>u(i.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Set as Primary",children:e.jsx(se,{className:"h-4 w-4 text-yellow-400"})}),e.jsx("button",{onClick:()=>m(i),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(ee,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>c(i.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(K,{className:"h-4 w-4 text-red-600"})})]})]})},i.id))}):!o&&e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:[e.jsx(W,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No images uploaded yet"}),e.jsxs(S,{onClick:y,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Add Your First Image"]})]}),s&&e.jsx(ya,{image:l,onClose:h})]})}function fa({profile:a}){var L,w;console.log("HotelProfile - profile:",a);const{errors:r}=Q().props,s=((L=a==null?void 0:a.images)==null?void 0:L.find(d=>d.is_primary))||((w=a==null?void 0:a.images)==null?void 0:w[0]),[t,l]=_.useState((s==null?void 0:s.image_path)||null),[p,m]=_.useState(!1);if(!a||!a.id)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile..."})})});const{data:c,setData:u,post:y,processing:h,errors:o,recentlySuccessful:b,isDirty:i}=O({_method:"PUT",name:(a==null?void 0:a.name)||"",type:(a==null?void 0:a.type)||"hotel",description:(a==null?void 0:a.description)||"",location:(a==null?void 0:a.location)||"",address:(a==null?void 0:a.address)||"",phone:(a==null?void 0:a.phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",price_per_night:(a==null?void 0:a.price_per_night)||"",rooms_count:(a==null?void 0:a.rooms_count)||"",check_in_time:(a==null?void 0:a.check_in_time)||"08:00",check_out_time:(a==null?void 0:a.check_out_time)||"20:00",primary_image:null}),g=[{value:"hotel",label:"Hotel"},{value:"guest_house",label:"Guest House"},{value:"lodge",label:"Lodge"},{value:"short_stay",label:"Short Stay"}],I=d=>{const v=d.target.files[0];if(v){u("primary_image",v);const P=new FileReader;P.onloadend=()=>{l(P.result)},P.readAsDataURL(v)}},f=()=>{u("primary_image",null),l(null)},C=d=>{if(d==null||d.preventDefault(),!(a!=null&&a.id)){console.error("Profile ID is missing. Cannot submit form.");return}y(route("user.dashboard.hotels.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}})},A=()=>i?(m(!0),!1):!0,D=()=>{y(route("user.dashboard.hotels.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{M.post(route("user.dashboard.hotels.toggle-active"),{hotel_id:a.id}),m(!1)}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Hotel Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your hotel profile information"})]}),a&&e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(q,{isProcessing:h,isDirty:i,onClick:C,position:"top"})}),a&&e.jsx(ue,{listing:a,routeName:"user.dashboard.hotels.toggle-active",label:"Hotel",onBeforeToggle:A}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Hotel Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[t?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Hotel",className:"h-32 w-32 rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:f,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx($,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",children:e.jsx(W,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{htmlFor:"primary_image",children:"Primary Image"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500 dark:text-gray-400",children:"This image will be displayed as your hotel thumbnail to visitors"}),e.jsxs("label",{htmlFor:"primary_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[var(--buame-border-light)] bg-white px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[e.jsx(Z,{className:"h-4 w-4"}),t?"Change Image":"Upload Image"]}),e.jsx("input",{id:"primary_image",type:"file",className:"hidden",accept:"image/*",onChange:I}),e.jsx(x,{error:o.primary_image||(r==null?void 0:r.primary_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",children:"Hotel Name"}),e.jsx(j,{id:"name",value:c.name,onChange:d=>u("name",d.target.value),className:"mt-1",placeholder:"Royal Palm Hotel"}),e.jsx(x,{error:o.name||(r==null?void 0:r.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"type",children:"Property Type"}),e.jsxs(z,{value:c.type,onValueChange:d=>u("type",d),children:[e.jsx(V,{className:"mt-1",children:e.jsx(Y,{placeholder:"Select property type"})}),e.jsx(J,{children:g.map(d=>e.jsx(E,{value:d.value,children:d.label},d.value))})]}),e.jsx(x,{error:o.type||(r==null?void 0:r.type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price_per_night",children:"Price per Night (GH₵)"}),e.jsx(j,{id:"price_per_night",type:"number",step:"0.01",value:c.price_per_night,onChange:d=>u("price_per_night",d.target.value),className:"mt-1",placeholder:"150.00"}),e.jsx(x,{error:o.price_per_night||(r==null?void 0:r.price_per_night),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"rooms_count",children:"Number of Rooms"}),e.jsx(j,{id:"rooms_count",type:"number",value:c.rooms_count,onChange:d=>u("rooms_count",d.target.value),className:"mt-1",placeholder:"25"}),e.jsx(x,{error:o.rooms_count||(r==null?void 0:r.rooms_count),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"About Your Property"}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsx(B,{id:"description",value:c.description,onChange:d=>u("description",d.target.value),className:"mt-1",rows:4,placeholder:"Describe your property, its unique features, and what makes it special..."}),e.jsx(x,{error:o.description||(r==null?void 0:r.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:"Location"}),e.jsx(j,{id:"location",value:c.location,onChange:d=>u("location",d.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(x,{error:o.location||(r==null?void 0:r.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"address",children:"Full Address"}),e.jsx(j,{id:"address",value:c.address,onChange:d=>u("address",d.target.value),className:"mt-1",placeholder:"Street address"}),e.jsx(x,{error:o.address||(r==null?void 0:r.address),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Phone"}),e.jsx(j,{id:"phone",value:c.phone,onChange:d=>u("phone",d.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(x,{error:o.phone||(r==null?void 0:r.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"whatsapp",children:"WhatsApp"}),e.jsx(j,{id:"whatsapp",value:c.whatsapp,onChange:d=>u("whatsapp",d.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(x,{error:o.whatsapp||(r==null?void 0:r.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(j,{id:"email",type:"email",value:c.email,onChange:d=>u("email",d.target.value),className:"mt-1",placeholder:"info@royalpalmhotel.com"}),e.jsx(x,{error:o.email||(r==null?void 0:r.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Operating Hours"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:"Set the hours when your hotel reception is open and available for guests"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"check_in_time",children:"Opening Time"}),e.jsx(j,{id:"check_in_time",type:"time",value:c.check_in_time,onChange:d=>u("check_in_time",d.target.value),className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"When your reception opens"}),e.jsx(x,{error:o.check_in_time||(r==null?void 0:r.check_in_time),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"check_out_time",children:"Closing Time"}),e.jsx(j,{id:"check_out_time",type:"time",value:c.check_out_time,onChange:d=>u("check_out_time",d.target.value),className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"When your reception closes"}),e.jsx(x,{error:o.check_out_time||(r==null?void 0:r.check_out_time),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[b&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(q,{isProcessing:h,isDirty:i,onClick:C,position:"bottom"})]})]}),e.jsx(ce,{isOpen:p,onClose:()=>m(!1),onSaveAndContinue:D})]})}function wa({profile:a}){var d;const{errors:r}=Q().props,[s,t]=_.useState((a==null?void 0:a.amenities)||[]),[l,p]=_.useState(""),[m,c]=_.useState(((d=a==null?void 0:a.features)==null?void 0:d.map(v=>v.feature))||[]),[u,y]=_.useState(""),{data:h,setData:o,post:b,processing:i,errors:g,recentlySuccessful:I}=O({_method:"PUT",amenities:s,features:m}),f=["WiFi","Parking","Air Conditioning","Restaurant","Bar","Swimming Pool","Gym","Spa","Room Service","Laundry","Business Center","Conference Room","24/7 Reception","Security","Pet Friendly","Airport Shuttle","Breakfast Included","Kitchen","TV","Hot Water"],C=v=>{if(v&&!s.includes(v)){const P=[...s,v];t(P),o("amenities",P)}},A=v=>{const P=s.filter(F=>F!==v);t(P),o("amenities",P)},D=()=>{if(u.trim()&&!m.includes(u.trim())){const v=[...m,u.trim()];c(v),o("features",v),y("")}},L=v=>{const P=m.filter((F,k)=>k!==v);c(P),o("features",P)},w=v=>{if(v.preventDefault(),console.log("HotelSettings - Form submit started"),console.log("HotelSettings - Profile:",a),console.log("HotelSettings - Form data:",h),!(a!=null&&a.id)){console.error("Profile ID is missing. Cannot submit form.");return}console.log("HotelSettings - Submitting to:",route("user.dashboard.hotels.update",a.id)),b(route("user.dashboard.hotels.update",a.id),{preserveScroll:!0,onSuccess:P=>{console.log("HotelSettings - Success!",P)},onError:P=>{console.error("HotelSettings - Errors:",P)},onFinish:()=>{console.log("HotelSettings - Request finished")}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Hotel Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage amenities and features for your property"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Amenities"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:"Select amenities available at your property. These help guests find your property."}),e.jsxs("div",{className:"mb-4",children:[e.jsx(n,{className:"mb-2 block text-sm",children:"Quick Add"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:f.map(v=>e.jsxs("button",{type:"button",onClick:()=>C(v),disabled:s.includes(v),className:"rounded-md border border-[var(--buame-border-light)] bg-white px-3 py-1 text-xs font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] disabled:opacity-50 disabled:cursor-not-allowed dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[s.includes(v)?"✓ ":"+ ",v]},v))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(n,{htmlFor:"custom_amenity",className:"mb-2 block text-sm",children:"Add Custom Amenity"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{id:"custom_amenity",value:l,onChange:v=>p(v.target.value),placeholder:"e.g., Rooftop Terrace",className:"flex-1"}),e.jsx(S,{type:"button",onClick:()=>{C(l),p("")},disabled:!l.trim()||s.includes(l.trim()),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:e.jsx(G,{className:"h-4 w-4"})})]})]}),s.length>0?e.jsxs("div",{children:[e.jsxs(n,{className:"mb-2 block text-sm",children:["Selected Amenities (",s.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(v=>e.jsxs("div",{className:"flex items-center gap-1 rounded-md bg-[var(--primary)]/10 px-3 py-1 text-sm text-white dark:text-white",children:[e.jsx("span",{children:v}),e.jsx("button",{type:"button",onClick:()=>A(v),className:"ml-1 text-red-600 hover:text-red-700",children:e.jsx($,{className:"h-3 w-3"})})]},v))})]}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No amenities added yet"}),e.jsx(x,{error:g.amenities||(r==null?void 0:r.amenities),className:"mt-1"})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Features & Services"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:'Add special features or services your property offers (e.g., "24/7 Reception", "Room Service").'}),e.jsxs("div",{className:"mb-4",children:[e.jsx(n,{htmlFor:"new_feature",className:"mb-2 block text-sm",children:"Add Feature"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{id:"new_feature",value:u,onChange:v=>y(v.target.value),onKeyPress:v=>{v.key==="Enter"&&(v.preventDefault(),D())},placeholder:"e.g., 24/7 Reception",className:"flex-1"}),e.jsx(S,{type:"button",onClick:D,disabled:!u.trim(),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:e.jsx(G,{className:"h-4 w-4"})})]})]}),m.length>0?e.jsxs("div",{children:[e.jsxs(n,{className:"mb-2 block text-sm",children:["Features (",m.length,")"]}),e.jsx("div",{className:"space-y-2",children:m.map((v,P)=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border border-[var(--buame-border-light)] bg-white px-3 py-2 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("span",{className:"text-sm text-[var(--foreground)] dark:text-white",children:v}),e.jsx("button",{type:"button",onClick:()=>L(P),className:"text-red-600 hover:text-red-700",children:e.jsx(K,{className:"h-4 w-4"})})]},P))})]}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No features added yet"}),e.jsx(x,{error:g.features||(r==null?void 0:r.features),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[I&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Settings saved successfully"})]}),e.jsx(S,{type:"submit",disabled:i,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:i?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-4 w-4"}),"Save Settings"]})})]})]})]})}function ka({activeSection:a,profile:r}){switch(a){case"gallery":return e.jsx(Na,{profile:r});case"settings":return e.jsx(wa,{profile:r});case"profile":default:return e.jsx(fa,{profile:r})}}function _a({isOpen:a,onClose:r,job:s}){const{data:t,setData:l,put:p,processing:m,errors:c,reset:u,clearErrors:y}=O({_method:"put",title:(s==null?void 0:s.title)||"",company:(s==null?void 0:s.company)||"",type:(s==null?void 0:s.type)||"",category:(s==null?void 0:s.category)||"",salary:(s==null?void 0:s.salary)||"",location:(s==null?void 0:s.location)||"",address:(s==null?void 0:s.address)||"",latitude:(s==null?void 0:s.latitude)||"",longitude:(s==null?void 0:s.longitude)||"",phone:(s==null?void 0:s.phone)||"",whatsapp:(s==null?void 0:s.whatsapp)||"",email:(s==null?void 0:s.email)||"",description:(s==null?void 0:s.description)||"",requirements:(s==null?void 0:s.requirements)||"",responsibilities:(s==null?void 0:s.responsibilities)||"",benefits:(s==null?void 0:s.benefits)||"",application_link:(s==null?void 0:s.application_link)||"",application_instructions:(s==null?void 0:s.application_instructions)||"",is_urgent:(s==null?void 0:s.is_urgent)||!1}),h=g=>{g.preventDefault(),p(route("user.dashboard.jobs.update",s.id),{preserveScroll:!0,onSuccess:()=>{o()}})},o=()=>{u(),y(),r()},b=[{value:"full_time",label:"Full Time"},{value:"part_time",label:"Part Time"},{value:"contract",label:"Contract"},{value:"internship",label:"Internship"},{value:"daily_wage",label:"Daily Wage"},{value:"apprenticeship",label:"Apprenticeship"}],i=[{value:"construction_trades",label:"Construction & Trades"},{value:"home_services",label:"Home Services"},{value:"auto_mechanical",label:"Auto & Mechanical"},{value:"transport_equipment",label:"Transport & Equipment"},{value:"electrical_electronics",label:"Electrical & Electronics"},{value:"ict_digital",label:"ICT & Digital"},{value:"business_office",label:"Business & Office"},{value:"education_training",label:"Education & Training"},{value:"health_care",label:"Health & Care"},{value:"hospitality_events",label:"Hospitality & Events"},{value:"fashion_beauty",label:"Fashion & Beauty"},{value:"agriculture",label:"Agriculture"},{value:"security",label:"Security"},{value:"media_creative",label:"Media & Creative"},{value:"general_jobs",label:"General Jobs"}];return!a||!s?null:e.jsx(le,{open:a,onOpenChange:o,children:e.jsxs(ie,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(ne,{children:e.jsx(de,{children:"Edit Job"})}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-title",children:"Job Title *"}),e.jsx(j,{id:"edit-title",value:t.title,onChange:g=>l("title",g.target.value),placeholder:"Enter job title",required:!0}),e.jsx(x,{error:c.title})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-company",children:"Company Name *"}),e.jsx(j,{id:"edit-company",value:t.company,onChange:g=>l("company",g.target.value),placeholder:"Enter company name",required:!0}),e.jsx(x,{error:c.company})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-type",children:"Job Type *"}),e.jsxs(z,{value:t.type,onValueChange:g=>l("type",g),children:[e.jsx(V,{children:e.jsx(Y,{placeholder:"Select type"})}),e.jsx(J,{children:b.map(g=>e.jsx(E,{value:g.value,children:g.label},g.value))})]}),e.jsx(x,{error:c.type})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-category",children:"Category *"}),e.jsxs(z,{value:t.category,onValueChange:g=>l("category",g),children:[e.jsx(V,{children:e.jsx(Y,{placeholder:"Select category"})}),e.jsx(J,{children:i.map(g=>e.jsx(E,{value:g.value,children:g.label},g.value))})]}),e.jsx(x,{error:c.category})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-salary",children:"Salary"}),e.jsx(j,{id:"edit-salary",value:t.salary,onChange:g=>l("salary",g.target.value),placeholder:"e.g., GH₵ 2,000 - 3,000/month"}),e.jsx(x,{error:c.salary})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-location",children:"Location *"}),e.jsx(j,{id:"edit-location",value:t.location,onChange:g=>l("location",g.target.value),placeholder:"Enter location",required:!0}),e.jsx(x,{error:c.location})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-address",children:"Address"}),e.jsx(B,{id:"edit-address",value:t.address,onChange:g=>l("address",g.target.value),placeholder:"Enter full address (optional)",rows:2}),e.jsx(x,{error:c.address})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-phone",children:"Phone *"}),e.jsx(j,{id:"edit-phone",value:t.phone,onChange:g=>l("phone",g.target.value),placeholder:"Phone number",required:!0}),e.jsx(x,{error:c.phone})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-whatsapp",children:"WhatsApp"}),e.jsx(j,{id:"edit-whatsapp",value:t.whatsapp,onChange:g=>l("whatsapp",g.target.value),placeholder:"WhatsApp number"}),e.jsx(x,{error:c.whatsapp})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-email",children:"Email"}),e.jsx(j,{id:"edit-email",type:"email",value:t.email,onChange:g=>l("email",g.target.value),placeholder:"Email address"}),e.jsx(x,{error:c.email})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-description",children:"Job Description *"}),e.jsx(B,{id:"edit-description",value:t.description,onChange:g=>l("description",g.target.value),placeholder:"Describe the job position...",rows:4,required:!0}),e.jsx(x,{error:c.description})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-requirements",children:"Requirements"}),e.jsx(B,{id:"edit-requirements",value:t.requirements,onChange:g=>l("requirements",g.target.value),placeholder:"List job requirements (one per line or as paragraphs)",rows:4}),e.jsx(x,{error:c.requirements})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-responsibilities",children:"Responsibilities"}),e.jsx(B,{id:"edit-responsibilities",value:t.responsibilities,onChange:g=>l("responsibilities",g.target.value),placeholder:"List job responsibilities (one per line or as paragraphs)",rows:4}),e.jsx(x,{error:c.responsibilities})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-benefits",children:"Benefits"}),e.jsx(B,{id:"edit-benefits",value:t.benefits,onChange:g=>l("benefits",g.target.value),placeholder:"List job benefits (one per line or as paragraphs)",rows:4}),e.jsx(x,{error:c.benefits})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-application_link",children:"Application Link"}),e.jsx(j,{id:"edit-application_link",type:"url",value:t.application_link,onChange:g=>l("application_link",g.target.value),placeholder:"https://example.com/apply"}),e.jsx(x,{error:c.application_link})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-application_instructions",children:"Application Instructions"}),e.jsx(B,{id:"edit-application_instructions",value:t.application_instructions,onChange:g=>l("application_instructions",g.target.value),placeholder:"Provide instructions on how to apply for this job",rows:3}),e.jsx(x,{error:c.application_instructions})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"edit-is_urgent",checked:t.is_urgent,onChange:g=>l("is_urgent",g.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(n,{htmlFor:"edit-is_urgent",className:"cursor-pointer",children:"Mark as Urgent"})]}),e.jsxs(oe,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:o,disabled:m,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:m,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:m?"Saving...":"Save Changes"})]})]})]})})}function Ca({listings:a,onAddJob:r,poster:s}){const[t,l]=_.useState(!1),[p,m]=_.useState(null),c=()=>{r&&r()},u=b=>{m(b),l(!0)},y=b=>{confirm(`Are you sure you want to delete "${b.title}"? This action cannot be undone.`)&&M.delete(route("user.dashboard.jobs.destroy",b.id),{preserveScroll:!0})},h=b=>{M.post(route("user.dashboard.jobs.toggle-active",b.id),{preserveScroll:!0})},o=b=>({full_time:"Full Time",part_time:"Part Time",contract:"Contract",internship:"Internship",daily_wage:"Daily Wage",apprenticeship:"Apprenticeship"})[b]||b;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"My Job Postings"}),s&&e.jsxs(S,{onClick:c,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Post Job"]})]}),a&&a.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(b=>e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] overflow-hidden transition-all hover:shadow-lg",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-[var(--foreground)] dark:text-white",children:b.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:b.company})]}),b.is_urgent&&e.jsx("span",{className:"rounded-full bg-red-500 px-2 py-0.5 text-xs font-bold text-white",children:"Urgent"})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"rounded bg-[var(--primary)]/10 px-2 py-0.5 text-xs font-medium text-[var(--primary)]",children:o(b.type)}),b.salary&&e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:b.salary})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(Te,{className:"h-3 w-3"}),e.jsx("span",{children:b.location})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx(S,{onClick:()=>h(b),variant:b.is_active?"outline":"default",size:"sm",className:b.is_active?"flex-1 border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20":"flex-1 bg-gray-500 text-white hover:bg-gray-600",children:b.is_active?e.jsxs(e.Fragment,{children:[e.jsx(te,{className:"mr-2 h-3 w-3"}),"Live"]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"mr-2 h-3 w-3"}),"Hidden"]})}),e.jsx(S,{onClick:()=>u(b),variant:"outline",size:"sm",children:e.jsx(ee,{className:"h-3 w-3"})}),e.jsx(S,{onClick:()=>y(b),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:e.jsx(K,{className:"h-3 w-3"})})]})]})},b.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-12 text-center",children:[e.jsx(xe,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:s?"No job postings yet. Start posting jobs!":"Please set up your employer profile first to post jobs."}),s&&e.jsxs(S,{onClick:c,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Post Your First Job"]})]}),e.jsx(_a,{isOpen:t,onClose:()=>{l(!1),m(null)},job:p})]})}function Sa({poster:a}){const[r,s]=_.useState(!1),[t,l]=_.useState((a==null?void 0:a.slug)||""),[p,m]=_.useState(!1),{data:c,setData:u,put:y,processing:h,errors:o,reset:b,isDirty:i}=O({name:(a==null?void 0:a.name)||"",slug:(a==null?void 0:a.slug)||"",description:(a==null?void 0:a.description)||"",location:(a==null?void 0:a.location)||"",phone:(a==null?void 0:a.phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",website:(a==null?void 0:a.website)||""});_.useEffect(()=>{a&&(u({name:a.name||"",slug:a.slug||"",description:a.description||"",location:a.location||"",phone:a.phone||"",whatsapp:a.whatsapp||"",email:a.email||"",website:a.website||""}),l(a.slug||""))},[a]);const g=d=>{const v=d.target.value;if(u("name",v),!t||t===(a==null?void 0:a.slug)){const P=v.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");u("slug",P),l(P)}},I=d=>{const v=d.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");u("slug",v),l(v)},f=d=>{d==null||d.preventDefault(),y(route("user.dashboard.jobs.poster.update"),{preserveScroll:!0,onSuccess:()=>{b()}})},C=()=>i?(m(!0),!1):!0,A=()=>{y(route("user.dashboard.jobs.poster.update"),{preserveScroll:!0,onSuccess:()=>{M.post(route("user.dashboard.jobs.poster.toggle-active")),m(!1),b()}})},D=async d=>{var P;if((P=navigator==null?void 0:navigator.clipboard)!=null&&P.writeText&&window.isSecureContext){await navigator.clipboard.writeText(d);return}const v=document.createElement("textarea");v.value=d,v.setAttribute("readonly",""),v.style.position="fixed",v.style.top="-9999px",v.style.left="-9999px",document.body.appendChild(v),v.select(),document.execCommand("copy"),document.body.removeChild(v)},L=async()=>{const d=`${window.location.origin}/jobs/employer/${c.slug||(a==null?void 0:a.slug)}`;try{await D(d),s(!0),setTimeout(()=>s(!1),2e3)}catch(v){console.error("Copy failed:",v)}},w=`${window.location.origin}/jobs/employer/${c.slug||(a==null?void 0:a.slug)||"your-profile"}`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Employer Profile"}),e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Manage your employer profile and contact information"})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(q,{isProcessing:h,isDirty:i,onClick:f,position:"top"})}),e.jsx(ue,{listing:a,routeName:"user.dashboard.jobs.poster.toggle-active",label:"Profile",onBeforeToggle:C}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Employer Name *"}),e.jsx(j,{id:"name",value:c.name,onChange:g,placeholder:"Enter employer name",className:"w-full",required:!0}),e.jsx(x,{error:o.name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"slug",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Profile URL Slug"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm whitespace-nowrap text-gray-500",children:"/jobs/employer/"}),e.jsx(j,{id:"slug",value:c.slug,onChange:I,placeholder:"your-profile",className:"flex-1",pattern:"[a-z0-9-]+"})]}),e.jsx(x,{error:o.slug}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(n,{htmlFor:"description",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"About Employer"}),e.jsx(B,{id:"description",value:c.description,onChange:d=>u("description",d.target.value),placeholder:"Tell job seekers about yourself...",rows:4,className:"w-full"}),e.jsx(x,{error:o.description})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(n,{className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Your Profile Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{value:w,readOnly:!0,className:"flex-1 text-sm"}),e.jsx(S,{onClick:L,variant:"outline",type:"button",size:"icon",children:r?e.jsx(X,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(De,{className:"h-4 w-4"})}),e.jsx(S,{variant:"outline",asChild:!0,type:"button",size:"icon",children:e.jsx("a",{href:w,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Le,{className:"h-4 w-4"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Share this link to show all your job postings"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(n,{htmlFor:"location",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Location"}),e.jsx(j,{id:"location",value:c.location,onChange:d=>u("location",d.target.value),placeholder:"e.g., Accra, Ghana",className:"w-full"}),e.jsx(x,{error:o.location})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 font-semibold text-[var(--foreground)] dark:text-white",children:"Contact Information"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Phone Number *"}),e.jsx(j,{id:"phone",value:c.phone,onChange:d=>u("phone",d.target.value),placeholder:"Phone number"}),e.jsx(x,{error:o.phone})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"whatsapp",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"WhatsApp"}),e.jsx(j,{id:"whatsapp",value:c.whatsapp,onChange:d=>u("whatsapp",d.target.value),placeholder:"WhatsApp number"}),e.jsx(x,{error:o.whatsapp})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Email"}),e.jsx(j,{id:"email",type:"email",value:c.email,onChange:d=>u("email",d.target.value),placeholder:"Email address"}),e.jsx(x,{error:o.email})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"website",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Website"}),e.jsx(j,{id:"website",type:"url",value:c.website,onChange:d=>u("website",d.target.value),placeholder:"https://yourwebsite.com"}),e.jsx(x,{error:o.website})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(q,{isProcessing:h,isDirty:i,onClick:f,position:"bottom"})})]}),e.jsx(ce,{isOpen:p,onClose:()=>m(!1),onSaveAndContinue:A})]})}function Fa({isOpen:a,onClose:r}){const{data:s,setData:t,post:l,processing:p,errors:m,reset:c,clearErrors:u}=O({title:"",company:"",type:"",category:"",salary:"",location:"",address:"",latitude:"",longitude:"",phone:"",whatsapp:"",email:"",description:"",requirements:"",responsibilities:"",benefits:"",application_link:"",application_instructions:"",is_urgent:!1}),y=i=>{i.preventDefault(),l(route("user.dashboard.jobs.store"),{preserveScroll:!0,onSuccess:()=>{h()}})},h=()=>{c(),u(),r()},o=[{value:"full_time",label:"Full Time"},{value:"part_time",label:"Part Time"},{value:"contract",label:"Contract"},{value:"internship",label:"Internship"},{value:"daily_wage",label:"Daily Wage"},{value:"apprenticeship",label:"Apprenticeship"}],b=[{value:"construction_trades",label:"Construction & Trades"},{value:"home_services",label:"Home Services"},{value:"auto_mechanical",label:"Auto & Mechanical"},{value:"transport_equipment",label:"Transport & Equipment"},{value:"electrical_electronics",label:"Electrical & Electronics"},{value:"ict_digital",label:"ICT & Digital"},{value:"business_office",label:"Business & Office"},{value:"education_training",label:"Education & Training"},{value:"health_care",label:"Health & Care"},{value:"hospitality_events",label:"Hospitality & Events"},{value:"fashion_beauty",label:"Fashion & Beauty"},{value:"agriculture",label:"Agriculture"},{value:"security",label:"Security"},{value:"media_creative",label:"Media & Creative"},{value:"general_jobs",label:"General Jobs"}];return a?e.jsx(le,{open:a,onOpenChange:h,children:e.jsxs(ie,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(ne,{children:e.jsx(de,{children:"Post New Job"})}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"title",children:"Job Title *"}),e.jsx(j,{id:"title",value:s.title,onChange:i=>t("title",i.target.value),placeholder:"Enter job title",required:!0}),e.jsx(x,{error:m.title})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"company",children:"Company Name *"}),e.jsx(j,{id:"company",value:s.company,onChange:i=>t("company",i.target.value),placeholder:"Enter company name",required:!0}),e.jsx(x,{error:m.company})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"type",children:"Job Type *"}),e.jsxs(z,{value:s.type,onValueChange:i=>t("type",i),children:[e.jsx(V,{children:e.jsx(Y,{placeholder:"Select type"})}),e.jsx(J,{children:o.map(i=>e.jsx(E,{value:i.value,children:i.label},i.value))})]}),e.jsx(x,{error:m.type})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"category",children:"Category *"}),e.jsxs(z,{value:s.category,onValueChange:i=>t("category",i),children:[e.jsx(V,{children:e.jsx(Y,{placeholder:"Select category"})}),e.jsx(J,{children:b.map(i=>e.jsx(E,{value:i.value,children:i.label},i.value))})]}),e.jsx(x,{error:m.category})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"salary",children:"Salary"}),e.jsx(j,{id:"salary",value:s.salary,onChange:i=>t("salary",i.target.value),placeholder:"e.g., GH₵ 2,000 - 3,000/month"}),e.jsx(x,{error:m.salary})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:"Location *"}),e.jsx(j,{id:"location",value:s.location,onChange:i=>t("location",i.target.value),placeholder:"Enter location",required:!0}),e.jsx(x,{error:m.location})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"address",children:"Address"}),e.jsx(B,{id:"address",value:s.address,onChange:i=>t("address",i.target.value),placeholder:"Enter full address (optional)",rows:2}),e.jsx(x,{error:m.address})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Phone *"}),e.jsx(j,{id:"phone",value:s.phone,onChange:i=>t("phone",i.target.value),placeholder:"Phone number",required:!0}),e.jsx(x,{error:m.phone})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"whatsapp",children:"WhatsApp"}),e.jsx(j,{id:"whatsapp",value:s.whatsapp,onChange:i=>t("whatsapp",i.target.value),placeholder:"WhatsApp number"}),e.jsx(x,{error:m.whatsapp})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(j,{id:"email",type:"email",value:s.email,onChange:i=>t("email",i.target.value),placeholder:"Email address"}),e.jsx(x,{error:m.email})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",children:"Job Description *"}),e.jsx(B,{id:"description",value:s.description,onChange:i=>t("description",i.target.value),placeholder:"Describe the job position...",rows:4,required:!0}),e.jsx(x,{error:m.description})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"requirements",children:"Requirements"}),e.jsx(B,{id:"requirements",value:s.requirements,onChange:i=>t("requirements",i.target.value),placeholder:"List job requirements (one per line or as paragraphs)",rows:4}),e.jsx(x,{error:m.requirements})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"responsibilities",children:"Responsibilities"}),e.jsx(B,{id:"responsibilities",value:s.responsibilities,onChange:i=>t("responsibilities",i.target.value),placeholder:"List job responsibilities (one per line or as paragraphs)",rows:4}),e.jsx(x,{error:m.responsibilities})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"benefits",children:"Benefits"}),e.jsx(B,{id:"benefits",value:s.benefits,onChange:i=>t("benefits",i.target.value),placeholder:"List job benefits (one per line or as paragraphs)",rows:4}),e.jsx(x,{error:m.benefits})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"application_link",children:"Application Link"}),e.jsx(j,{id:"application_link",type:"url",value:s.application_link,onChange:i=>t("application_link",i.target.value),placeholder:"https://example.com/apply"}),e.jsx(x,{error:m.application_link})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"application_instructions",children:"Application Instructions"}),e.jsx(B,{id:"application_instructions",value:s.application_instructions,onChange:i=>t("application_instructions",i.target.value),placeholder:"Provide instructions on how to apply for this job",rows:3}),e.jsx(x,{error:m.application_instructions})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_urgent",checked:s.is_urgent,onChange:i=>t("is_urgent",i.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(n,{htmlFor:"is_urgent",className:"cursor-pointer",children:"Mark as Urgent"})]}),e.jsxs(oe,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:h,disabled:p,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:p,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:p?"Posting...":"Post Job"})]})]})]})}):null}function Pa({activeTab:a,data:r}){const[s,t]=_.useState(!1),l=()=>{t(!0)};return e.jsxs("div",{className:"space-y-6",children:[a==="poster"?e.jsx(Sa,{poster:r==null?void 0:r.poster}):e.jsx(Ca,{listings:(r==null?void 0:r.listings)||[],onAddJob:l,poster:r==null?void 0:r.poster}),e.jsx(Fa,{isOpen:s,onClose:()=>t(!1)})]})}function Aa({isOpen:a,onClose:r,product:s}){const{data:t,setData:l,post:p,processing:m,errors:c,reset:u,clearErrors:y}=O({_method:"put",title:(s==null?void 0:s.title)||"",category:(s==null?void 0:s.category)||"",has_price:(s==null?void 0:s.price)!==null&&(s==null?void 0:s.price)!==void 0,price:(s==null?void 0:s.price)||"",price_type:(s==null?void 0:s.price_type)||"",condition:(s==null?void 0:s.condition)||"new",location:(s==null?void 0:s.location)||"",latitude:(s==null?void 0:s.latitude)||"",longitude:(s==null?void 0:s.longitude)||"",description:(s==null?void 0:s.description)||"",delivery_available:(s==null?void 0:s.delivery_available)||!1,warranty:(s==null?void 0:s.warranty)||"",images:[],remove_images:[],specifications:[],remove_specifications:[]}),[h,o]=_.useState([]),[b,i]=_.useState((s==null?void 0:s.images)||[]),[g,I]=_.useState((s==null?void 0:s.specifications)||[]),f=N=>{const U=Array.from(N.target.files);if(b.length-t.remove_images.length+t.images.length+U.length>10)return;const pe=[...t.images,...U];l("images",pe);const $e=U.map(be=>URL.createObjectURL(be));o(be=>[...be,...$e])},C=N=>{URL.revokeObjectURL(h[N]),l("images",t.images.filter((U,H)=>H!==N)),o(U=>U.filter((H,pe)=>pe!==N))},A=N=>{const U=t.remove_images.includes(N)?t.remove_images.filter(H=>H!==N):[...t.remove_images,N];l("remove_images",U)},D=()=>{l("specifications",[...t.specifications,""])},L=(N,U)=>{const H=[...t.specifications];H[N]=U,l("specifications",H)},w=N=>{l("specifications",t.specifications.filter((U,H)=>H!==N))},d=N=>{const U=t.remove_specifications.includes(N)?t.remove_specifications.filter(H=>H!==N):[...t.remove_specifications,N];l("remove_specifications",U)},v=N=>{N.preventDefault(),p(route("user.dashboard.marketplace.update",s.id),{preserveScroll:!0,onSuccess:()=>{P()}})},P=()=>{h.forEach(N=>URL.revokeObjectURL(N)),u(),y(),o([]),i([]),I([]),r()},F=[{value:"mobile_phones",label:"Mobile Phones & Accessories"},{value:"electronics",label:"Electronics & Appliances"},{value:"computers",label:"Computers & Laptops"},{value:"fashion",label:"Fashion & Apparel"},{value:"footwear",label:"Footwear"},{value:"health_beauty",label:"Health & Beauty"},{value:"groceries",label:"Groceries & Food Items"},{value:"home_living",label:"Home & Living"},{value:"baby_kids",label:"Baby & Kids"},{value:"sports_outdoor",label:"Sports & Outdoor"},{value:"automotive",label:"Automotive"},{value:"books_stationery",label:"Books & Stationery"},{value:"building_hardware",label:"Building & Hardware"},{value:"agriculture",label:"Agriculture & Farm Supplies"},{value:"pet_supplies",label:"Pet Supplies"},{value:"gifts",label:"Gifts & Occasion Items"},{value:"others",label:"Others"}],k=[{value:"new",label:"New"},{value:"like_new",label:"Like New"},{value:"used",label:"Used"},{value:"refurbished",label:"Refurbished"}],R=b.filter(N=>!t.remove_images.includes(N.id)).length+t.images.length;return!a||!s?null:e.jsx(le,{open:a,onOpenChange:P,children:e.jsxs(ie,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(ne,{children:e.jsx(de,{children:"Edit Product"})}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Product Images (Max 10)"}),e.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 sm:grid-cols-5",children:[b.map((N,U)=>{const H=t.remove_images.includes(N.id);return e.jsxs("div",{className:`group relative aspect-square ${H?"opacity-40":""}`,children:[e.jsx("img",{src:`/storage/${N.image_path}`,alt:`Product ${U+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>A(N.id),className:`absolute -top-2 -right-2 rounded-full p-1 text-white transition-opacity ${H?"bg-green-500 opacity-100":"bg-red-500 opacity-0 group-hover:opacity-100"}`,children:e.jsx($,{className:"h-3 w-3"})}),N.is_primary&&!H&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-[var(--primary)] px-1.5 py-0.5 text-xs font-medium text-white",children:"Primary"}),H&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-red-500 px-1.5 py-0.5 text-xs font-medium text-white",children:"Remove"})]},`existing-${N.id}`)}),h.map((N,U)=>e.jsxs("div",{className:"group relative aspect-square",children:[e.jsx("img",{src:N,alt:`New ${U+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>C(U),className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx($,{className:"h-3 w-3"})}),e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-blue-500 px-1.5 py-0.5 text-xs font-medium text-white",children:"New"})]},`new-${U}`)),R<10&&e.jsxs("label",{className:"flex aspect-square cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:border-[var(--primary)] dark:border-gray-600",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:f,className:"hidden"}),e.jsx(me,{className:"h-6 w-6 text-gray-400"})]})]}),e.jsx(x,{error:c.images})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-title",children:"Product Title *"}),e.jsx(j,{id:"edit-title",value:t.title,onChange:N=>l("title",N.target.value),placeholder:"Enter product title",required:!0}),e.jsx(x,{error:c.title})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-category",children:"Category *"}),e.jsxs(z,{value:t.category,onValueChange:N=>l("category",N),children:[e.jsx(V,{children:e.jsx(Y,{placeholder:"Select category"})}),e.jsx(J,{children:F.map(N=>e.jsx(E,{value:N.value,children:N.label},N.value))})]}),e.jsx(x,{error:c.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"edit-has_price",checked:t.has_price,onChange:N=>l("has_price",N.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(n,{htmlFor:"edit-has_price",className:"cursor-pointer",children:"Add Price"})]}),t.has_price&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-price",children:"Price (GH₵)"}),e.jsx(j,{id:"edit-price",type:"number",step:"0.01",min:"0",value:t.price,onChange:N=>l("price",N.target.value),placeholder:"0.00"}),e.jsx(x,{error:c.price})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-price_type",children:"Price Type"}),e.jsx(j,{id:"edit-price_type",value:t.price_type,onChange:N=>l("price_type",N.target.value),placeholder:"e.g., /kg, /bunch"})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-condition",children:"Condition"}),e.jsxs(z,{value:t.condition,onValueChange:N=>l("condition",N),children:[e.jsx(V,{children:e.jsx(Y,{placeholder:"Select condition"})}),e.jsx(J,{children:k.map(N=>e.jsx(E,{value:N.value,children:N.label},N.value))})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-location",children:"Location *"}),e.jsx(j,{id:"edit-location",value:t.location,onChange:N=>l("location",N.target.value),placeholder:"Enter location",required:!0}),e.jsx(x,{error:c.location})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-description",children:"Description"}),e.jsx(B,{id:"edit-description",value:t.description,onChange:N=>l("description",N.target.value),placeholder:"Describe your product...",rows:4})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"edit-delivery_available",checked:t.delivery_available,onChange:N=>l("delivery_available",N.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(n,{htmlFor:"edit-delivery_available",className:"cursor-pointer",children:"Delivery Available"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-warranty",children:"Warranty"}),e.jsx(j,{id:"edit-warranty",value:t.warranty,onChange:N=>l("warranty",N.target.value),placeholder:"e.g., 1 year warranty"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx(n,{children:"Specifications"}),e.jsxs(S,{type:"button",variant:"outline",size:"sm",onClick:D,className:"h-8 gap-1 text-xs",children:[e.jsx(G,{className:"h-3 w-3"}),"Add Specification"]})]}),e.jsxs("div",{className:"space-y-2",children:[g.map((N,U)=>{const H=t.remove_specifications.includes(N.id);return e.jsxs("div",{className:`flex gap-2 ${H?"opacity-40":""}`,children:[e.jsx(j,{value:N.specification,disabled:!0,className:`flex-1 ${H?"line-through":""}`}),e.jsx(S,{type:"button",variant:"outline",size:"sm",onClick:()=>d(N.id),className:`h-10 w-10 p-0 ${H?"bg-green-500 text-white hover:bg-green-600":""}`,children:e.jsx($,{className:"h-4 w-4"})})]},`existing-spec-${N.id}`)}),t.specifications.map((N,U)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{value:N,onChange:H=>L(U,H.target.value),placeholder:"e.g., 128GB Storage, 8GB RAM",className:"flex-1"}),e.jsx(S,{type:"button",variant:"outline",size:"sm",onClick:()=>w(U),className:"h-10 w-10 p-0",children:e.jsx($,{className:"h-4 w-4"})})]},`new-spec-${U}`)),g.length===0&&t.specifications.length===0&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add product specifications to help buyers understand your product better."})]})]}),e.jsxs(oe,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:P,disabled:m,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:m,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:m?"Saving...":"Save Changes"})]})]})]})})}function Ia({products:a,store:r,tiers:s,onAddProduct:t}){const[l,p]=_.useState(null),[m,c]=_.useState(null),u=()=>{t?t():M.visit(route("user.dashboard.marketplace.create"))},y=f=>{c(f)},h=f=>{confirm("Are you sure you want to delete this product?")&&(p(f),M.delete(route("user.dashboard.marketplace.destroy",f),{preserveScroll:!0,onFinish:()=>p(null)}))},o=()=>{const f=["starter","professional","enterprise"].indexOf((r==null?void 0:r.tier)||"starter"),C=["starter","professional","enterprise"][f+1];C&&(s!=null&&s[C])&&M.post(route("user.dashboard.marketplace.store.upgrade"),{tier:C})},b=(r==null?void 0:r.remaining_slots)||0,i=(r==null?void 0:r.product_limit)||5,g=(a==null?void 0:a.length)||0,I=b>0&&(r==null?void 0:r.is_active);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"My Products"}),e.jsxs("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:[g," / ",i," products",b>0&&e.jsxs("span",{className:"ml-2 text-[var(--primary)]",children:["(",b," slots remaining)"]})]})]}),e.jsxs(S,{onClick:u,disabled:!I,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Add Product"]})]}),b===0&&e.jsx("div",{className:"rounded-xl border border-[var(--secondary)]/30 bg-[var(--secondary)]/10 dark:border-[var(--secondary)]/20 dark:bg-[var(--secondary)]/5 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ae,{className:"h-5 w-5 text-[var(--secondary)] dark:text-[var(--secondary)] flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--secondary)] dark:text-[var(--secondary)]",children:"Product Limit Reached"}),e.jsxs("p",{className:"mt-1 text-sm text-[var(--secondary)]/80 dark:text-[var(--secondary)]/70",children:["You've reached your limit of ",i," products. Upgrade to add more."]})]})]}),e.jsxs(S,{onClick:o,size:"sm",className:"bg-[var(--secondary)] text-[var(--secondary-foreground)] hover:bg-[var(--secondary)]/90 flex-shrink-0",children:[e.jsx(Re,{className:"mr-2 h-4 w-4"}),"Upgrade"]})]})}),r&&!r.is_active&&e.jsx("div",{className:"rounded-xl border border-[var(--accent)]/30 bg-[var(--accent)]/10 dark:border-[var(--accent)]/20 dark:bg-[var(--accent)]/5 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ae,{className:"h-5 w-5 text-[var(--accent)] dark:text-[var(--accent)] flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--accent)] dark:text-[var(--accent)]",children:"Store Not Active"}),e.jsx("p",{className:"mt-1 text-sm text-[var(--accent)]/80 dark:text-[var(--accent)]/70",children:"Your store is hidden from visitors. Activate it to make your products visible."})]})]}),e.jsx(S,{onClick:()=>Be("store"),variant:"outline",size:"sm",className:"border-[var(--accent)]/30 text-[var(--accent)] hover:bg-[var(--accent)]/10 dark:border-[var(--accent)]/20 dark:text-[var(--accent)] dark:hover:bg-[var(--accent)]/10 flex-shrink-0",children:"Store Settings"})]})}),a&&a.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(f=>{var A,D;const C=((A=f.images)==null?void 0:A.find(L=>L.is_primary))||((D=f.images)==null?void 0:D[0]);return e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] overflow-hidden transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"aspect-video w-full bg-gray-100 dark:bg-gray-800 relative overflow-hidden",children:[C?e.jsx("img",{src:`/storage/${C.image_path}`,alt:f.title,className:"h-full w-full object-cover"}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(ge,{className:"h-12 w-12 text-gray-400"})}),!f.is_active&&e.jsx("div",{className:"absolute top-2 right-2 rounded bg-gray-900/70 px-2 py-1 text-xs text-white",children:"Inactive"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-bold text-[var(--foreground)] dark:text-white",children:f.title}),e.jsxs("p",{className:"mt-1 text-sm font-semibold text-[var(--primary)]",children:["GH₵ ",f.price]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(Te,{className:"h-3 w-3"}),e.jsx("span",{children:f.location})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsxs(S,{onClick:()=>y(f),variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(ee,{className:"mr-2 h-3 w-3"}),"Edit"]}),e.jsxs(S,{onClick:()=>h(f.id),variant:"outline",size:"sm",className:"flex-1 text-red-600 hover:text-red-700",disabled:l===f.id,children:[e.jsx(K,{className:"mr-2 h-3 w-3"}),l===f.id?"Deleting...":"Delete"]})]})]})]},f.id)})}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-12 text-center",children:[e.jsx(ge,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600 dark:text-gray-400",children:"No products yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Click "Add Product" above to add your first product'})]}),m&&e.jsx(Aa,{isOpen:!0,onClose:()=>c(null),product:m})]})}function Ta({store:a,onBeforeToggle:r}){const[s,t]=_.useState((a==null?void 0:a.is_active)??!1),[l,p]=_.useState(!1),m=()=>{r&&r()===!1||(t(!s),p(!0),console.log("something happend"),M.post(route("user.dashboard.marketplace.store.toggle-active"),{},{preserveScroll:!0,preserveState:!0,only:["categoryData","flash"],onFinish:()=>p(!1),onError:()=>t(s)}))};return e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-[var(--buame-border-light)] bg-white px-3 py-1.5 md:px-4 md:py-2 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[s?e.jsx(te,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(he,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{className:"hidden flex-col md:flex",children:[e.jsx(n,{className:"cursor-pointer text-xs font-semibold text-[var(--foreground)] dark:text-white",children:s?"Visible":"Hidden"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Store"})]}),e.jsx(Ue,{checked:s,onCheckedChange:m,disabled:l,className:"ml-1 md:ml-2"})]})}function Da({store:a,tiers:r}){const[s,t]=_.useState(!1),[l,p]=_.useState((a==null?void 0:a.slug)||""),[m,c]=_.useState(!1),{data:u,setData:y,put:h,processing:o,errors:b,reset:i,isDirty:g}=O({name:(a==null?void 0:a.name)||"",slug:(a==null?void 0:a.slug)||"",description:(a==null?void 0:a.description)||""});_.useEffect(()=>{a&&(y({name:a.name||"",slug:a.slug||"",description:a.description||""}),p(a.slug||""))},[a]);const I=T=>{const R=T.target.value;if(y("name",R),!l||l===(a==null?void 0:a.slug)){const N=R.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");y("slug",N),p(N)}},f=T=>{const R=T.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");y("slug",R),p(R)},C=T=>{T==null||T.preventDefault(),h(route("user.dashboard.marketplace.store.update"),{preserveScroll:!0,onSuccess:()=>{i()}})},A=()=>g?(c(!0),!1):!0,D=()=>{h(route("user.dashboard.marketplace.store.update"),{preserveScroll:!0,onSuccess:()=>{M.post(route("user.dashboard.marketplace.store.toggle-active")),c(!1),i()}})},L=async T=>{var N;if((N=navigator==null?void 0:navigator.clipboard)!=null&&N.writeText&&window.isSecureContext){await navigator.clipboard.writeText(T);return}const R=document.createElement("textarea");R.value=T,R.setAttribute("readonly",""),R.style.position="fixed",R.style.top="-9999px",R.style.left="-9999px",document.body.appendChild(R),R.select(),document.execCommand("copy"),document.body.removeChild(R)},w=async()=>{const T=`${window.location.origin}/store/${u.slug||(a==null?void 0:a.slug)}`;try{await L(T),t(!0),setTimeout(()=>t(!1),2e3)}catch(R){console.error("Copy failed:",R)}},d=T=>{M.post(route("user.dashboard.marketplace.store.upgrade"),{tier:T})},v=`${window.location.origin}/store/${u.slug||(a==null?void 0:a.slug)||"your-store"}`,P=r==null?void 0:r[(a==null?void 0:a.tier)||"starter"],F=["starter","professional","enterprise"].indexOf((a==null?void 0:a.tier)||"starter"),k=Object.entries(r||{}).slice(F+1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Store Settings"}),e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Manage your store information and visibility"})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(q,{isProcessing:o,isDirty:g,onClick:C,position:"top"})}),e.jsx("div",{className:`rounded-xl border-2 p-6 ${a!=null&&a.is_active?"border-[var(--primary)] bg-[var(--buame-border-light)] dark:bg-[#1a331a]":"border-[var(--accent)]/30 bg-[var(--accent)]/10 dark:border-[var(--accent)]/20 dark:bg-[var(--accent)]/5"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${a!=null&&a.is_active?"bg-[var(--primary)]/20":"bg-[var(--accent)]/20 dark:bg-[var(--accent)]/10"}`,children:a!=null&&a.is_active?e.jsx(te,{className:"h-6 w-6 text-[var(--primary)]"}):e.jsx(he,{className:"h-6 w-6 text-[var(--accent)] dark:text-[var(--accent)]"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:["Store is ",a!=null&&a.is_active?"Visible":"Hidden"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a!=null&&a.is_active?"Your store and products are visible to visitors":"Your store is hidden from visitors. Toggle to make it visible."})]})]}),e.jsx(Ta,{store:a,onBeforeToggle:A})]})}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Store Name"}),e.jsx(j,{id:"name",value:u.name,onChange:I,placeholder:"Enter your store name",className:"w-full"}),e.jsx(x,{error:b.name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"slug",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Store URL Slug"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm whitespace-nowrap text-gray-500",children:"/store/"}),e.jsx(j,{id:"slug",value:u.slug,onChange:f,placeholder:"your-store-name",className:"flex-1",pattern:"[a-z0-9-]+"})]}),e.jsx(x,{error:b.slug}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(n,{htmlFor:"description",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Store Description"}),e.jsx(B,{id:"description",value:u.description,onChange:T=>y("description",T.target.value),placeholder:"Tell customers about your store...",rows:4,className:"w-full"}),e.jsx(x,{error:b.description})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(n,{className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Your Store Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{value:v,readOnly:!0,className:"flex-1 text-sm"}),e.jsx(S,{onClick:w,variant:"outline",type:"button",size:"icon",children:s?e.jsx(X,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(De,{className:"h-4 w-4"})}),e.jsx(S,{variant:"outline",asChild:!0,type:"button",size:"icon",children:e.jsx("a",{href:v,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Le,{className:"h-4 w-4"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Share this link to let people view your products"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(q,{isProcessing:o,isDirty:g,onClick:C,position:"bottom"})})]}),e.jsx(ce,{isOpen:m,onClose:()=>c(!1),onSaveAndContinue:D}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[P&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h4",{className:"mb-3 font-semibold text-[var(--foreground)] dark:text-white",children:"Current Plan"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:P.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(a==null?void 0:a.products_count)||0," / ",(a==null?void 0:a.product_limit)||5," products used"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-2xl font-bold text-[var(--primary)]",children:["GH₵ ",P.price]})})]})]}),k.length>0&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h4",{className:"mb-3 font-semibold text-[var(--foreground)] dark:text-white",children:"Upgrade Your Store"}),e.jsx("div",{className:"space-y-3",children:k.map(([T,R])=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-3 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--foreground)] dark:text-white",children:R.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Up to ",R.product_limit," products"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-bold text-[var(--secondary)]",children:["GH₵ ",R.price]}),e.jsx(S,{onClick:()=>d(T),size:"sm",className:"bg-[var(--secondary)] text-[var(--secondary-foreground)] hover:bg-[var(--secondary)]/90",children:e.jsx(Re,{className:"h-4 w-4"})})]})]},T))})]})]})]})}function La({isOpen:a,onClose:r,store:s}){const{data:t,setData:l,post:p,processing:m,errors:c,reset:u,clearErrors:y}=O({title:"",category:"",has_price:!1,price:"",price_type:"",condition:"new",location:"",latitude:"",longitude:"",description:"",delivery_available:!1,warranty:"",images:[],specifications:[]}),[h,o]=_.useState([]),b=w=>{const d=Array.from(w.target.files);if(t.images.length+d.length>10)return;const P=[...t.images,...d];l("images",P);const F=d.map(k=>URL.createObjectURL(k));o(k=>[...k,...F])},i=w=>{URL.revokeObjectURL(h[w]),l("images",t.images.filter((d,v)=>v!==w)),o(d=>d.filter((v,P)=>P!==w))},g=()=>{l("specifications",[...t.specifications,""])},I=(w,d)=>{const v=[...t.specifications];v[w]=d,l("specifications",v)},f=w=>{l("specifications",t.specifications.filter((d,v)=>v!==w))},C=w=>{w.preventDefault(),p(route("user.dashboard.marketplace.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{A()}})},A=()=>{h.forEach(w=>URL.revokeObjectURL(w)),u(),y(),o([]),r()},D=[{value:"mobile_phones",label:"Mobile Phones & Accessories"},{value:"electronics",label:"Electronics & Appliances"},{value:"computers",label:"Computers & Laptops"},{value:"fashion",label:"Fashion & Apparel"},{value:"footwear",label:"Footwear"},{value:"health_beauty",label:"Health & Beauty"},{value:"groceries",label:"Groceries & Food Items"},{value:"home_living",label:"Home & Living"},{value:"baby_kids",label:"Baby & Kids"},{value:"sports_outdoor",label:"Sports & Outdoor"},{value:"automotive",label:"Automotive"},{value:"books_stationery",label:"Books & Stationery"},{value:"building_hardware",label:"Building & Hardware"},{value:"agriculture",label:"Agriculture & Farm Supplies"},{value:"pet_supplies",label:"Pet Supplies"},{value:"gifts",label:"Gifts & Occasion Items"},{value:"others",label:"Others"}],L=[{value:"new",label:"New"},{value:"like_new",label:"Like New"},{value:"used",label:"Used"},{value:"refurbished",label:"Refurbished"}];return a?e.jsx(le,{open:a,onOpenChange:A,children:e.jsxs(ie,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(ne,{children:e.jsx(de,{children:"Add New Product"})}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Product Images (Max 10)"}),e.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 sm:grid-cols-5",children:[h.map((w,d)=>e.jsxs("div",{className:"group relative aspect-square",children:[e.jsx("img",{src:w,alt:`Preview ${d+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>i(d),className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx($,{className:"h-3 w-3"})}),d===0&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-[var(--primary)] px-1.5 py-0.5 text-xs font-medium text-white",children:"Primary"})]},d)),t.images.length<10&&e.jsxs("label",{className:"flex aspect-square cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:border-[var(--primary)] dark:border-gray-600",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:b,className:"hidden"}),e.jsx(me,{className:"h-6 w-6 text-gray-400"})]})]}),e.jsx(x,{error:c.images})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"title",children:"Product Title *"}),e.jsx(j,{id:"title",value:t.title,onChange:w=>l("title",w.target.value),placeholder:"Enter product title",required:!0}),e.jsx(x,{error:c.title})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"category",children:"Category *"}),e.jsxs(z,{value:t.category,onValueChange:w=>l("category",w),children:[e.jsx(V,{children:e.jsx(Y,{placeholder:"Select category"})}),e.jsx(J,{children:D.map(w=>e.jsx(E,{value:w.value,children:w.label},w.value))})]}),e.jsx(x,{error:c.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"has_price",checked:t.has_price,onChange:w=>l("has_price",w.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(n,{htmlFor:"has_price",className:"cursor-pointer",children:"Add Price"})]}),t.has_price&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price",children:"Price (GH₵)"}),e.jsx(j,{id:"price",type:"number",step:"0.01",min:"0",value:t.price,onChange:w=>l("price",w.target.value),placeholder:"0.00"}),e.jsx(x,{error:c.price})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price_type",children:"Price Type"}),e.jsx(j,{id:"price_type",value:t.price_type,onChange:w=>l("price_type",w.target.value),placeholder:"e.g., /kg, /bunch"})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"condition",children:"Condition"}),e.jsxs(z,{value:t.condition,onValueChange:w=>l("condition",w),children:[e.jsx(V,{children:e.jsx(Y,{placeholder:"Select condition"})}),e.jsx(J,{children:L.map(w=>e.jsx(E,{value:w.value,children:w.label},w.value))})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:"Location *"}),e.jsx(j,{id:"location",value:t.location,onChange:w=>l("location",w.target.value),placeholder:"Enter location",required:!0}),e.jsx(x,{error:c.location})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsx(B,{id:"description",value:t.description,onChange:w=>l("description",w.target.value),placeholder:"Describe your product...",rows:4})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"delivery_available",checked:t.delivery_available,onChange:w=>l("delivery_available",w.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(n,{htmlFor:"delivery_available",className:"cursor-pointer",children:"Delivery Available"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"warranty",children:"Warranty"}),e.jsx(j,{id:"warranty",value:t.warranty,onChange:w=>l("warranty",w.target.value),placeholder:"e.g., 1 year warranty"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx(n,{children:"Specifications"}),e.jsxs(S,{type:"button",variant:"outline",size:"sm",onClick:g,className:"h-8 gap-1 text-xs",children:[e.jsx(G,{className:"h-3 w-3"}),"Add Specification"]})]}),e.jsxs("div",{className:"space-y-2",children:[t.specifications.map((w,d)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(j,{value:w,onChange:v=>I(d,v.target.value),placeholder:"e.g., 128GB Storage, 8GB RAM",className:"flex-1"}),e.jsx(S,{type:"button",variant:"outline",size:"sm",onClick:()=>f(d),className:"h-10 w-10 p-0",children:e.jsx($,{className:"h-4 w-4"})})]},d)),t.specifications.length===0&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add product specifications to help buyers understand your product better."})]})]}),e.jsxs(oe,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:A,disabled:m,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:m,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:m?"Adding...":"Add Product"})]})]})]})}):null}function Ra({activeTab:a,data:r}){const[s,t]=_.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[a==="store"?e.jsx(Da,{store:r==null?void 0:r.store,tiers:r==null?void 0:r.tiers}):e.jsx(Ia,{products:(r==null?void 0:r.products)||[],store:r==null?void 0:r.store,tiers:r==null?void 0:r.tiers,onAddProduct:()=>t(!0)}),e.jsx(La,{isOpen:s,onClose:()=>t(!1),store:r==null?void 0:r.store})]})}function _e({categoryData:a}){const r=(a==null?void 0:a.stats)||{total:0,active:0,views:0};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Overview"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Welcome to your dashboard. Select a category to get started."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[var(--primary)] dark:text-[#8fcc8f]",children:"Total Listings"}),e.jsx(ge,{className:"h-5 w-5 text-[var(--primary)]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[var(--primary)] dark:text-white",children:r.total||0})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[var(--secondary)] dark:text-[var(--secondary)]",children:"Active"}),e.jsx(Je,{className:"h-5 w-5 text-[var(--secondary)]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[var(--secondary)] dark:text-white",children:r.active||0})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[var(--accent)] dark:text-[var(--accent)]",children:"Total Views"}),e.jsx(te,{className:"h-5 w-5 text-[var(--accent)]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[var(--accent)] dark:text-white",children:r.views||0})]})]})]})}function Ma({profile:a}){const[r,s]=_.useState("");if(!a)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center dark:border-gray-800 dark:bg-[var(--card)]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading features..."})});const t=(a==null?void 0:a.features)||[],l=m=>{m.preventDefault(),r.trim()&&M.post(route("user.dashboard.rentals.features.store",{rental:a.id}),{feature:r.trim()},{preserveScroll:!0,onSuccess:()=>{s("")}})},p=m=>{M.delete(route("user.dashboard.rentals.features.destroy",{rental:a.id,feature:m}),{preserveScroll:!0})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Rental Features"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add features that describe your rental (e.g., 2 Bedrooms, Air Conditioning, WiFi)"})]}),e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("form",{onSubmit:l,className:"flex gap-3",children:[e.jsx(j,{value:r,onChange:m=>s(m.target.value),placeholder:"Type a feature and press +",className:"flex-1"}),e.jsx(S,{type:"submit",disabled:!r.trim(),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:e.jsx(G,{className:"h-5 w-5"})})]})}),t.length>0?e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("h4",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Added Features (",t.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(m=>e.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-[var(--primary)]/10 px-4 py-2 text-sm font-medium text-white dark:bg-[var(--primary)]/20 dark:text-white",children:[e.jsx("span",{children:m.feature}),e.jsx("button",{onClick:()=>p(m.id),className:"rounded-full p-0.5 text-gray-500 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/30",children:e.jsx(K,{className:"h-3.5 w-3.5"})})]},m.id))})]}):e.jsx("div",{className:"rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 p-8 text-center dark:border-gray-700 dark:bg-gray-800/50",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No features added yet. Type a feature above and click + to add."})})]})}function Ua({rentalId:a,image:r,isOpen:s,onClose:t}){const[l,p]=_.useState((r==null?void 0:r.image_path)||null),m=_.useRef(null),{data:c,setData:u,post:y,processing:h,errors:o,reset:b}=O({image:null}),i=f=>{f.preventDefault(),r?y(route("user.dashboard.rentals.images.update",{rental:a,image:r.id}),{forceFormData:!0,onSuccess:()=>{b(),p(null),t()}}):y(route("user.dashboard.rentals.images.store",{rental:a}),{forceFormData:!0,onSuccess:()=>{b(),p(null),t()}})},g=f=>{const C=f.target.files[0];if(C){u("image",C);const A=new FileReader;A.onloadend=()=>{p(A.result)},A.readAsDataURL(C)}},I=()=>{b(),p((r==null?void 0:r.image_path)||null),t()};return s?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl bg-white p-6 dark:bg-[var(--card)]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:r?"Edit Image":"Add New Image"}),e.jsx("button",{onClick:I,className:"rounded-full p-1 hover:bg-gray-100 dark:hover:bg-gray-800",children:e.jsx($,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Image"}),e.jsxs("div",{className:"mt-2 flex h-48 cursor-pointer items-center justify-center overflow-hidden rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 transition-colors hover:border-[var(--primary)] dark:border-gray-700 dark:bg-gray-800",onClick:()=>{var f;return(f=m.current)==null?void 0:f.click()},children:[l?e.jsx("img",{src:l,alt:"Preview",className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[e.jsx(Z,{className:"mb-2 h-10 w-10"}),e.jsx("span",{className:"text-sm",children:"Click to upload"}),e.jsx("span",{className:"text-xs",children:"Max 5MB (JPEG, PNG, WebP)"})]}),e.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:g,className:"hidden"})]}),e.jsx(x,{error:o.image,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(S,{type:"button",variant:"outline",onClick:I,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:h||!r&&!c.image,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:h?e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):r?"Update Image":"Add Image"})]})]})]})}):null}function Ha({profile:a}){const[r,s]=_.useState(!1),[t,l]=_.useState(null);if(!a)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center dark:border-gray-800 dark:bg-[var(--card)]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading gallery..."})});const p=(a==null?void 0:a.images)||[],m=h=>{M.put(route("user.dashboard.rentals.images.primary",{rental:a.id,image:h}),{},{preserveScroll:!0})},c=h=>{confirm("Are you sure you want to delete this image?")&&M.delete(route("user.dashboard.rentals.images.destroy",{rental:a.id,image:h}),{preserveScroll:!0})},u=h=>{l(h),s(!0)},y=()=>{l(null),s(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Rental Gallery"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Manage images for your rental listing (",p.length," images)"]})]}),e.jsxs(S,{onClick:y,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:[e.jsx(me,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),p.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4",children:p.map(h=>e.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-xl border-2 border-gray-100 bg-gray-100 dark:border-gray-800 dark:bg-gray-800",children:[e.jsx("img",{src:h.image_path,alt:"Rental",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),h.is_primary&&e.jsxs("div",{className:"absolute left-2 top-2 flex items-center gap-1 rounded-full bg-[var(--primary)] px-2 py-1 text-xs font-bold text-white",children:[e.jsx(se,{className:"h-3 w-3 fill-current"}),"Primary"]}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-2 bg-black/50 opacity-0 transition-opacity group-hover:opacity-100",children:[!h.is_primary&&e.jsxs(S,{size:"sm",variant:"secondary",onClick:()=>m(h.id),className:"h-8",children:[e.jsx(se,{className:"mr-1 h-3 w-3"}),"Set Primary"]}),e.jsx(S,{size:"sm",variant:"secondary",onClick:()=>u(h),className:"h-8",children:e.jsx(na,{className:"h-3 w-3"})}),e.jsx(S,{size:"sm",variant:"destructive",onClick:()=>c(h.id),className:"h-8",children:e.jsx(K,{className:"h-3 w-3"})})]})]},h.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 p-12 text-center dark:border-gray-700 dark:bg-gray-800/50",children:[e.jsx(me,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h4",{className:"mb-2 font-semibold text-gray-700 dark:text-gray-300",children:"No images yet"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:"Add images to showcase your rental listing"}),e.jsxs(S,{onClick:y,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:[e.jsx(me,{className:"mr-2 h-4 w-4"}),"Add First Image"]})]}),e.jsx(Ua,{rentalId:a.id,image:t,isOpen:r,onClose:()=>{s(!1),l(null)}})]})}function Ba({profile:a}){var v,P;const{errors:r}=Q().props,[s,t]=_.useState(null),[l,p]=_.useState(!!(a!=null&&a.price)),[m,c]=_.useState(!1),u=_.useRef(null);if(!a)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center dark:border-gray-800 dark:bg-[var(--card)]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading rental profile..."})});const{data:y,setData:h,post:o,processing:b,errors:i,recentlySuccessful:g,isDirty:I}=O({_method:"PUT",name:(a==null?void 0:a.name)||"",type:(a==null?void 0:a.type)||"house",description:(a==null?void 0:a.description)||"",price:(a==null?void 0:a.price)||"",period:(a==null?void 0:a.period)||"month",location:(a==null?void 0:a.location)||"",phone:(a==null?void 0:a.phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",rental_terms:(a==null?void 0:a.rental_terms)||"",primary_image:null}),f=[{value:"house",label:"House"},{value:"equipment",label:"Equipment"},{value:"tools",label:"Tools"},{value:"land",label:"Land"},{value:"commercial",label:"Commercial"},{value:"vehicle",label:"Vehicle"},{value:"store",label:"Store"}],C=[{value:"day",label:"Per Day"},{value:"week",label:"Per Week"},{value:"month",label:"Per Month"},{value:"year",label:"Per Year"}],A=F=>{F==null||F.preventDefault(),o(route("user.dashboard.rentals.update",a.id),{forceFormData:!0})},D=()=>I?(c(!0),!1):!0,L=()=>{o(route("user.dashboard.rentals.update",a.id),{forceFormData:!0,onSuccess:()=>{M.post(route("user.dashboard.rentals.toggle-active"),{rental_id:a.id}),c(!1)}})},w=F=>{const k=F.target.files[0];if(k){h("primary_image",k);const T=new FileReader;T.onloadend=()=>{t(T.result)},T.readAsDataURL(k)}},d=((v=a==null?void 0:a.images)==null?void 0:v.find(F=>F.is_primary))||((P=a==null?void 0:a.images)==null?void 0:P[0]);return e.jsxs("div",{className:"space-y-6",children:[a&&e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(q,{isProcessing:b,isDirty:I,onClick:A,position:"top"})}),a&&e.jsx(ue,{listing:a,routeName:"user.dashboard.rentals.toggle-active",label:"Listing",onBeforeToggle:D}),e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Primary Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsxs("div",{className:"relative h-40 w-40 cursor-pointer overflow-hidden rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 transition-colors hover:border-[var(--primary)] dark:border-gray-700 dark:bg-gray-800",onClick:()=>{var F;return(F=u.current)==null?void 0:F.click()},children:[s||d!=null&&d.image_path?e.jsx("img",{src:s||(d==null?void 0:d.image_path),alt:"Rental preview",className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center text-gray-400",children:[e.jsx(Z,{className:"mb-2 h-8 w-8"}),e.jsx("span",{className:"text-xs",children:"Click to upload"})]}),e.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:w,className:"hidden"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Upload a primary image for your rental listing. This will be the main image shown in search results."}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Recommended: 800x600px, max 5MB"}),e.jsx(x,{error:i.primary_image||(r==null?void 0:r.primary_image),className:"mt-2"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",children:"Rental Name"}),e.jsx(j,{id:"name",value:y.name,onChange:F=>h("name",F.target.value),className:"mt-1",placeholder:"2 Bedroom Apartment in Bekwai"}),e.jsx(x,{error:i.name||(r==null?void 0:r.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"type",children:"Rental Type"}),e.jsx("select",{id:"type",value:y.type,onChange:F=>h("type",F.target.value),className:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-[var(--primary)] focus:ring-[var(--primary)] dark:border-gray-700 dark:bg-[var(--foreground)] dark:text-white",children:f.map(F=>e.jsx("option",{value:F.value,children:F.label},F.value))}),e.jsx(x,{error:i.type||(r==null?void 0:r.type),className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsx(B,{id:"description",value:y.description,onChange:F=>h("description",F.target.value),className:"mt-1",rows:4,placeholder:"Describe your rental property or item..."}),e.jsx(x,{error:i.description||(r==null?void 0:r.description),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Pricing"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showPricing",checked:l,onChange:F=>p(F.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(n,{htmlFor:"showPricing",className:"cursor-pointer text-sm text-gray-600 dark:text-gray-400",children:"Show pricing"})]})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price",children:"Price (GH₵)"}),e.jsx(j,{id:"price",type:"number",step:"0.01",min:"0",value:y.price,onChange:F=>h("price",F.target.value),className:"mt-1",placeholder:"500.00"}),e.jsx(x,{error:i.price||(r==null?void 0:r.price),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"period",children:"Rental Period"}),e.jsx("select",{id:"period",value:y.period,onChange:F=>h("period",F.target.value),className:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-[var(--primary)] focus:ring-[var(--primary)] dark:border-gray-700 dark:bg-[var(--foreground)] dark:text-white",children:C.map(F=>e.jsx("option",{value:F.value,children:F.label},F.value))}),e.jsx(x,{error:i.period||(r==null?void 0:r.period),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:"Location"}),e.jsx(j,{id:"location",value:y.location,onChange:F=>h("location",F.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(x,{error:i.location||(r==null?void 0:r.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Phone"}),e.jsx(j,{id:"phone",value:y.phone,onChange:F=>h("phone",F.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(x,{error:i.phone||(r==null?void 0:r.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"whatsapp",children:"WhatsApp (optional)"}),e.jsx(j,{id:"whatsapp",value:y.whatsapp,onChange:F=>h("whatsapp",F.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(x,{error:i.whatsapp||(r==null?void 0:r.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",children:"Email (optional)"}),e.jsx(j,{id:"email",type:"email",value:y.email,onChange:F=>h("email",F.target.value),className:"mt-1",placeholder:"contact@example.com"}),e.jsx(x,{error:i.email||(r==null?void 0:r.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Rental Terms"}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"rental_terms",children:"Terms & Conditions (optional)"}),e.jsx(B,{id:"rental_terms",value:y.rental_terms,onChange:F=>h("rental_terms",F.target.value),className:"mt-1",rows:4,placeholder:"Minimum 6 months lease, 2 months advance required, no pets allowed..."}),e.jsx(x,{error:i.rental_terms||(r==null?void 0:r.rental_terms),className:"mt-1"})]})]}),e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-4",children:[g&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(q,{isProcessing:b,isDirty:I,onClick:A,position:"bottom"})]})})]}),e.jsx(ce,{isOpen:m,onClose:()=>c(!1),onSaveAndContinue:L})]})}function $a({activeTab:a,data:r}){const s=r==null?void 0:r.profile;switch(a){case"features":return e.jsx(Ma,{profile:s});case"gallery":return e.jsx(Ha,{profile:s});case"profile":default:return e.jsx(Ba,{profile:s})}}function Oa({subscription:a,category:r}){const[s,t]=_.useState(!1);if(!a)return null;const{subscription_status:l,days_until_expiry:p,expires_at:m,is_expiring_soon:c,is_in_grace_period:u}=a;if(l==="active"&&!c)return null;const y=i=>i?new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",o=(()=>{if(l==="cancelled")return{icon:ae,title:"Subscription Cancelled",message:"Your subscription has been cancelled. Your profile and listings are hidden from visitors, and editing is disabled. Subscribe again to restore access.",className:"bg-gray-50 border-gray-200 text-gray-800 dark:bg-gray-900/20 dark:border-gray-700 dark:text-gray-300",iconClassName:"text-gray-600 dark:text-gray-400"};if(l==="expired")return{icon:ae,title:"Subscription Expired",message:"Your subscription has expired. Your profile and listings are no longer visible to visitors, and editing is disabled. Renew now to restore full access.",className:"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-300",iconClassName:"text-red-600 dark:text-red-400"};if(u){const i=Math.abs(p);return{icon:Ie,title:"Grace Period Active",message:`Your subscription has expired. You have ${i} day${i!==1?"s":""} left in your grace period before access is deactivated. Renew now to keep your services active.`,className:"bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-300",iconClassName:"text-yellow-600 dark:text-yellow-400"}}return c&&p>0?{icon:ye,title:"Subscription Expiring Soon",message:`Your subscription expires in ${p} day${p!==1?"s":""} (${y(m)}). Renew now to avoid service interruption.`,className:"bg-orange-50 border-orange-200 text-orange-800 dark:bg-orange-900/20 dark:border-orange-800 dark:text-orange-300",iconClassName:"text-orange-600 dark:text-orange-400"}:p===0?{icon:ye,title:"Subscription Expires Today",message:"Your subscription expires today! Renew now to avoid any interruption to your services.",className:"bg-orange-50 border-orange-200 text-orange-800 dark:bg-orange-900/20 dark:border-orange-800 dark:text-orange-300",iconClassName:"text-orange-600 dark:text-orange-400"}:null})();if(!o)return null;const b=o.icon;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`mb-6 rounded-lg border p-4 ${o.className}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(b,{className:`mt-0.5 h-5 w-5 shrink-0 ${o.iconClassName}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-1 font-bold",children:o.title}),e.jsx("p",{className:"text-sm",children:o.message}),e.jsx(S,{onClick:()=>t(!0),className:"mt-3 bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",size:"sm",children:"Renew Now"})]})]})}),e.jsx(He,{isOpen:s,onClose:()=>t(!1),category:r,subscription:a})]})}function Ga({image:a,onClose:r,profile:s}){const{errors:t}=Q().props,[l,p]=_.useState((a==null?void 0:a.image_path)||null),m=!!a,{data:c,setData:u,post:y,put:h,processing:o,errors:b,reset:i}=O({image:null,is_primary:(a==null?void 0:a.is_primary)||!1,transport_id:s==null?void 0:s.id}),g=C=>{const A=C.target.files[0];if(A){u("image",A);const D=new FileReader;D.onloadend=()=>{p(D.result)},D.readAsDataURL(A)}},I=()=>{u("image",null),m||p(null)},f=C=>{C.preventDefault(),m?h(route("user.dashboard.transport.images.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{i(),r()}}):y(route("user.dashboard.transport.images.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{i(),p(null),r()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--foreground)] dark:text-white",children:m?"Edit Image":"Add Image"}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx($,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"image",children:"Vehicle Image"}),e.jsx("div",{className:"mt-2",children:l?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l,alt:"Preview",className:"h-48 w-full rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:I,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx($,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Z,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:g})]})}),e.jsx(x,{error:b.image||(t==null?void 0:t.image),className:"mt-1"})]}),!m&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_primary",checked:c.is_primary,onChange:C=>u("is_primary",C.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(n,{htmlFor:"is_primary",className:"text-sm",children:"Set as primary image"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(S,{type:"button",variant:"outline",onClick:r,disabled:o,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:o,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:o?"Saving...":m?"Update":"Add Image"})]})]})]})})}function qa({profile:a}){const r=(a==null?void 0:a.images)||[],[s,t]=_.useState(!1),[l,p]=_.useState(null),m=i=>{p(i),t(!0)},c=i=>{confirm("Are you sure you want to delete this image?")&&M.delete(route("user.dashboard.transport.images.destroy",i),{preserveScroll:!0})},u=i=>{M.post(route("user.dashboard.transport.images.set-primary",i),{},{preserveScroll:!0})},y=()=>{p(null),t(!0)},h=()=>{t(!1),p(null)},o=r.find(i=>i.is_primary),b=r.filter(i=>!i.is_primary);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Vehicle Gallery"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your vehicle images and showcase your service"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Vehicle Images"}),e.jsxs(S,{onClick:y,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),o&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-4 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Primary Image"})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-lg",children:[e.jsx("img",{src:o.image_path,alt:"Primary",className:"h-64 w-full object-cover transition-transform group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>m(o),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(ee,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>c(o.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(K,{className:"h-4 w-4 text-red-600"})})]})]})]}),b.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:b.map(i=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all hover:shadow-lg dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:i.image_path,alt:"Vehicle",className:"h-full w-full object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>u(i.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Set as Primary",children:e.jsx(se,{className:"h-4 w-4 text-yellow-400"})}),e.jsx("button",{onClick:()=>m(i),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(ee,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>c(i.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(K,{className:"h-4 w-4 text-red-600"})})]})]})},i.id))}):!o&&e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:[e.jsx(W,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No images uploaded yet"}),e.jsxs(S,{onClick:y,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"Add Your First Image"]})]}),s&&e.jsx(Ga,{image:l,onClose:h,profile:a})]})}function Wa({profile:a}){var L,w;const{errors:r}=Q().props,s=((L=a==null?void 0:a.images)==null?void 0:L.find(d=>d.is_primary))||((w=a==null?void 0:a.images)==null?void 0:w[0]),[t,l]=_.useState((s==null?void 0:s.image_path)||null),[p,m]=_.useState(!1);if(!a||!a.id)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile..."})})});const{data:c,setData:u,post:y,processing:h,errors:o,recentlySuccessful:b,isDirty:i}=O({_method:"PUT",driver_name:(a==null?void 0:a.driver_name)||"",type:(a==null?void 0:a.type)||"okada",description:(a==null?void 0:a.description)||"",location:(a==null?void 0:a.location)||"",phone:(a==null?void 0:a.phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",price_per_seat:(a==null?void 0:a.price_per_seat)||"",seats_available:(a==null?void 0:a.seats_available)||"",operating_hours:(a==null?void 0:a.operating_hours)||"",primary_image:null}),g=[{value:"okada",label:"Okada"},{value:"car",label:"Car"},{value:"taxi",label:"Taxi"},{value:"bus",label:"Bus"},{value:"cargo",label:"Cargo"},{value:"other",label:"Other"}],I=d=>{const v=d.target.files[0];if(v){u("primary_image",v);const P=new FileReader;P.onloadend=()=>{l(P.result)},P.readAsDataURL(v)}},f=()=>{u("primary_image",null),l(null)},C=d=>{if(d==null||d.preventDefault(),!(a!=null&&a.id)){console.error("Profile ID is missing. Cannot submit form.");return}y(route("user.dashboard.transport.update",a.id),{preserveScroll:!0,forceFormData:!0})},A=()=>i?(m(!0),!1):!0,D=()=>{y(route("user.dashboard.transport.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{M.post(route("user.dashboard.transport.toggle-active"),{transport_id:a.id}),m(!1)}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Transport Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your transport service information"})]}),a&&e.jsx("div",{className:"flex items-center justify-end",children:e.jsx(q,{isProcessing:h,isDirty:i,onClick:C,position:"top"})}),a&&e.jsx(ue,{listing:a,routeName:"user.dashboard.transport.toggle-active",label:"Service",onBeforeToggle:A}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Vehicle Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[t?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Vehicle",className:"h-32 w-32 rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:f,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx($,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",children:e.jsx(W,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{htmlFor:"primary_image",children:"Primary Image"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500 dark:text-gray-400",children:"This image will be displayed as your vehicle/service thumbnail to visitors"}),e.jsxs("label",{htmlFor:"primary_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[var(--buame-border-light)] bg-white px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[e.jsx(Z,{className:"h-4 w-4"}),t?"Change Image":"Upload Image"]}),e.jsx("input",{id:"primary_image",type:"file",className:"hidden",accept:"image/*",onChange:I}),e.jsx(x,{error:o.primary_image||(r==null?void 0:r.primary_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"driver_name",children:"Driver/Rider Name"}),e.jsx(j,{id:"driver_name",value:c.driver_name,onChange:d=>u("driver_name",d.target.value),className:"mt-1",placeholder:"Kwame Asante"}),e.jsx(x,{error:o.driver_name||(r==null?void 0:r.driver_name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"type",children:"Service Type"}),e.jsxs(z,{value:c.type,onValueChange:d=>u("type",d),children:[e.jsx(V,{className:"mt-1",children:e.jsx(Y,{placeholder:"Select service type"})}),e.jsx(J,{children:g.map(d=>e.jsx(E,{value:d.value,children:d.label},d.value))})]}),e.jsx(x,{error:o.type||(r==null?void 0:r.type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price_per_seat",children:"Price per Seat (GH₵)"}),e.jsx(j,{id:"price_per_seat",type:"number",step:"0.01",value:c.price_per_seat,onChange:d=>u("price_per_seat",d.target.value),className:"mt-1",placeholder:"15.00"}),e.jsx(x,{error:o.price_per_seat||(r==null?void 0:r.price_per_seat),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"seats_available",children:"Seats Available"}),e.jsx(j,{id:"seats_available",type:"number",value:c.seats_available,onChange:d=>u("seats_available",d.target.value),className:"mt-1",placeholder:"4"}),e.jsx(x,{error:o.seats_available||(r==null?void 0:r.seats_available),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"About Your Service"}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsx(B,{id:"description",value:c.description,onChange:d=>u("description",d.target.value),className:"mt-1",rows:4,placeholder:"Describe your transport service, vehicle condition, and what makes you stand out..."}),e.jsx(x,{error:o.description||(r==null?void 0:r.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:"Working Location"}),e.jsx(j,{id:"location",value:c.location,onChange:d=>u("location",d.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(x,{error:o.location||(r==null?void 0:r.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Phone"}),e.jsx(j,{id:"phone",value:c.phone,onChange:d=>u("phone",d.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(x,{error:o.phone||(r==null?void 0:r.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"whatsapp",children:"WhatsApp"}),e.jsx(j,{id:"whatsapp",value:c.whatsapp,onChange:d=>u("whatsapp",d.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(x,{error:o.whatsapp||(r==null?void 0:r.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(j,{id:"email",type:"email",value:c.email,onChange:d=>u("email",d.target.value),className:"mt-1",placeholder:"contact@fastokada.com"}),e.jsx(x,{error:o.email||(r==null?void 0:r.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Operating Hours"}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"operating_hours",children:"Operating Hours"}),e.jsx(j,{id:"operating_hours",value:c.operating_hours,onChange:d=>u("operating_hours",d.target.value),className:"mt-1",placeholder:"Daily: 5:00 AM - 8:00 PM"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"When are you available for rides?"}),e.jsx(x,{error:o.operating_hours||(r==null?void 0:r.operating_hours),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[b&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(q,{isProcessing:h,isDirty:i,onClick:C,position:"bottom"})]})]}),e.jsx(ce,{isOpen:p,onClose:()=>m(!1),onSaveAndContinue:D})]})}function za({activeSection:a,profile:r}){switch(a){case"gallery":return e.jsx(qa,{profile:r});case"profile":default:return e.jsx(Wa,{profile:r})}}function Va({user:a,children:r,activeCategory:s,activeSection:t,categoryData:l}){var h;const[p,m]=_.useState(!1),u=(()=>{if(!s)return[];switch(s){case"artisans":return[{id:"profile",label:"Profile",icon:we},{id:"portfolio",label:"Portfolio",icon:W}];case"hotels":return[{id:"profile",label:"Profile",icon:ea},{id:"gallery",label:"Gallery",icon:W}];case"transport":return[{id:"profile",label:"Profile",icon:Ze},{id:"gallery",label:"Gallery",icon:W}];case"rentals":return[{id:"profile",label:"Profile",icon:je},{id:"features",label:"Features",icon:la},{id:"gallery",label:"Gallery",icon:W}];case"marketplace":return[{id:"store",label:"Store Settings",icon:Qe},{id:"products",label:"Products",icon:ge}];case"jobs":return[{id:"poster",label:"Profile",icon:we},{id:"listings",label:"Jobs",icon:xe}];default:return[]}})(),y=o=>{Be(o)};return e.jsx(Ve,{children:e.jsxs("div",{className:"bg-background flex h-screen w-full overflow-hidden",children:[e.jsx("aside",{className:`bg-card border-border fixed inset-y-0 left-0 z-30 w-72 transform border-r transition-transform duration-300 md:relative md:translate-x-0 ${p?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex h-full flex-col justify-between p-5",children:[e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx("div",{className:"flex flex-col gap-2 px-2",children:e.jsx(Ee,{size:"lg",className:"justify-start",href:route("user.dashboard.index")})}),u.length>0&&e.jsx("nav",{className:"flex flex-col gap-2",children:u.map(o=>{const b=o.icon,i=t===o.id;return e.jsxs("button",{onClick:()=>y(o.id),className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors ${i?"bg-primary/10 text-foreground":"text-muted-foreground hover:bg-muted"}`,children:[e.jsx(b,{className:"h-5 w-5"}),e.jsx("span",{children:o.label})]},o.id)})})]}),e.jsxs("div",{className:"border-border flex flex-col gap-2 border-t pt-4",children:[e.jsxs("div",{className:"hover:bg-muted flex items-center gap-3 rounded-lg px-2 py-2 transition-colors",children:[e.jsx("div",{className:"bg-primary/20 flex h-10 w-10 items-center justify-center rounded-full",children:e.jsx("span",{className:"text-primary text-sm font-bold",children:((h=a==null?void 0:a.name)==null?void 0:h.charAt(0).toUpperCase())||"U"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-foreground truncate text-sm font-bold",children:a==null?void 0:a.name}),e.jsx("p",{className:"text-muted-foreground truncate text-xs",children:a==null?void 0:a.phone})]})]}),e.jsxs(Oe,{href:route("user.logout"),method:"post",className:"text-destructive hover:bg-destructive/10 flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors",children:[e.jsx(Ke,{className:"h-5 w-5"}),e.jsx("span",{children:"Log Out"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs("header",{className:"border-border bg-card flex h-16 items-center justify-between border-b px-4 md:hidden",children:[e.jsx("button",{onClick:()=>m(!p),className:"text-foreground",children:p?e.jsx($,{className:"h-6 w-6"}):e.jsx(Xe,{className:"h-6 w-6"})}),e.jsx("span",{className:"text-foreground text-lg font-bold",children:"2RBUAME"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{className:"hover:bg-muted relative rounded-full p-2 transition-colors",children:[e.jsx(fe,{className:"text-muted-foreground h-5 w-5"}),e.jsx("span",{className:"bg-destructive border-card absolute top-1 right-1 h-2 w-2 rounded-full border-2"})]})})]}),e.jsxs("header",{className:"border-border bg-card hidden h-16 items-center justify-between border-b px-6 md:flex",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("h2",{className:"text-foreground text-xl font-bold",children:s?s.charAt(0).toUpperCase()+s.slice(1):"Dashboard"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"hover:bg-muted relative rounded-full p-2 transition-colors",children:[e.jsx(fe,{className:"text-muted-foreground h-5 w-5"}),e.jsx("span",{className:"bg-destructive border-card absolute top-1 right-1 h-2 w-2 rounded-full border-2"})]}),e.jsx("div",{className:"border-border bg-card flex items-center gap-3 rounded-full border px-4 py-2",children:e.jsx("span",{className:"text-foreground text-sm font-bold",children:a==null?void 0:a.name})})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:r})]}),p&&e.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 md:hidden",onClick:()=>m(!1)})]})})}function Vr({user:a,paidCategories:r,unpaidCategories:s,activeCategory:t,categoryData:l,payments:p,activeSection:m="profile",isFreeAccess:c=!1,freeAccessDays:u=30}){const y=r==null?void 0:r.find(o=>o.category===t),h=()=>{if(!t)return e.jsx(_e,{categoryData:l});switch(t){case"artisans":return e.jsx(ua,{activeSection:m,profile:l==null?void 0:l.profile});case"marketplace":return e.jsx(Ra,{activeTab:m||"store",data:l});case"hotels":return e.jsx(ka,{activeSection:m,profile:l==null?void 0:l.profile});case"transport":return e.jsx(za,{activeSection:m,profile:l==null?void 0:l.profile});case"rentals":return e.jsx($a,{activeTab:m,data:l});case"jobs":return e.jsx(Pa,{activeTab:m,data:l});default:return e.jsx(_e,{categoryData:l})}};return e.jsxs(Va,{user:a,activeCategory:t,activeSection:m,categoryData:l,children:[e.jsx(Ge,{title:`Dashboard - ${t?t.charAt(0).toUpperCase()+t.slice(1):"2RBUAME"}`}),e.jsxs("div",{className:"mx-auto w-full max-w-[1400px] p-4 md:p-6 lg:p-8",children:[e.jsx(ja,{paidCategories:r,activeCategory:t,unpaidCategories:s,isFreeAccess:c,freeAccessDays:u}),e.jsx(Oa,{subscription:y,category:t}),h()]})]})}export{Vr as default};
