import{j as e,K as B,r as S,m as H,S as D,$ as Me,L as De}from"./app-ChCjFC6J.js";import{B as k}from"./button-DcH-E4db.js";import{c as U}from"./createLucideIcon-KXxWKVvG.js";import{I as f}from"./input-DyJoeu7o.js";import{L as m}from"./label-_t9YXeYB.js";import{S as Y,a as q,b as J,c as K,d as X}from"./select-DqOeULOv.js";import{T as G}from"./textarea-D7L1JUvZ.js";import{X as L}from"./x-BmDHJoiM.js";import{C as z}from"./circle-check-big-BDcrcgSv.js";import{L as ae}from"./loader-circle-CeISE6RF.js";import{D as ne,b as ce,c as oe,d as me,e as Le,f as he}from"./dialog-kyranYpq.js";import{B as Te}from"./BillingCycleSelector-ByS6XLhO.js";import{B as le}from"./briefcase-D4y7JLQK.js";import{S as Ne,H as fe}from"./shopping-bag-PqaJsrB3.js";import{H as xe}from"./house-CmErKtcL.js";import{B as we}from"./bike-WraEHjy4.js";import{H as ke}from"./hammer-B75rQOX3.js";import{C as Ue}from"./credit-card-B8snamil.js";import{C as He,a as ue,T as $e}from"./toast-provider-BPKp3RkR.js";import{C as _e}from"./clock-BoXjnRUb.js";import{L as Oe,E as Se}from"./lock-Ur_8HHiN.js";import{S as ee}from"./star-DAbnjOPD.js";import{T as Be,a as Ge,b as be,c as ve}from"./tabs-7qovqhb0.js";import{M as Ce}from"./map-pin-CCS4MkG4.js";import{P as te}from"./package-BffYsu2Z.js";import{E as ge}from"./eye-Dn2n5UAo.js";import{C as ze}from"./copy-CAHpncPE.js";import{E as Ve}from"./external-link-DXppDe1C.js";import{T as We}from"./trending-up-DwRg4BzP.js";import{A as Ye,M as qe}from"./app-logo-g7EAtIav.js";import{S as Je}from"./store-CiNi4VHq.js";import{C as Ke}from"./car-NRGC4HEY.js";import{B as Xe}from"./building-2-VC0Xywpa.js";import{U as Qe}from"./user-BajxD1BC.js";import"./index-BDYW_oh7.js";import"./index-B9JmohQi.js";import"./index-DD-AozKY.js";import"./index-BvMs2XRC.js";import"./index-HGr7XZrV.js";import"./index-DTMxMF58.js";import"./chevron-down-BlxVGzMW.js";import"./check-KMD_68Jr.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Pe=U("ArrowUpRight",Ze);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],pe=U("Bell",Ee);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Q=U("CircleAlert",ea);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],re=U("ImagePlus",aa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],$=U("Image",ra);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],ta=U("ListChecks",sa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ia=U("LogOut",la);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],na=U("Pen",da);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],T=U("Plus",ca);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],se=U("Save",oa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Z=U("SquarePen",ma);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],O=U("Trash2",ha);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],V=U("Upload",xa);function p({error:a,className:r=""}){return a?e.jsxs("div",{className:`flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${r}`,children:[e.jsx(Q,{className:"h-4 w-4 shrink-0"}),e.jsx("span",{children:a})]}):null}function ga({profile:a}){var M;const{errors:r}=B().props,[s,t]=S.useState(((M=a==null?void 0:a.specialties)==null?void 0:M.map(d=>d.specialty))||[]),[i,n]=S.useState(""),[l,j]=S.useState((a==null?void 0:a.profile_image)||null),{data:u,setData:o,post:x,processing:b,errors:v,recentlySuccessful:g}=H({_method:"PUT",name:(a==null?void 0:a.name)||"",company_name:(a==null?void 0:a.company_name)||"",skill_type:(a==null?void 0:a.skill_type)||"other",description:(a==null?void 0:a.description)||"",experience_years:(a==null?void 0:a.experience_years)||"",experience_level:(a==null?void 0:a.experience_level)||"expert",price_per_day:(a==null?void 0:a.price_per_day)||"",show_price:(a==null?void 0:a.show_price)??!1,location:(a==null?void 0:a.location)||"",address:(a==null?void 0:a.address)||"",phone:(a==null?void 0:a.phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",working_hours:(a==null?void 0:a.working_hours)||"",is_available:(a==null?void 0:a.is_available)??!0,specialties:s,profile_image:null}),P=[{value:"carpenter",label:"Carpenter"},{value:"mason",label:"Mason"},{value:"electrician",label:"Electrician"},{value:"plumber",label:"Plumber"},{value:"tiler",label:"Tiler"},{value:"tailor",label:"Tailor"},{value:"welder",label:"Welder"},{value:"painter",label:"Painter"},{value:"hairdressing",label:"Hairdressing"},{value:"mechanic",label:"Mechanic"},{value:"bakery",label:"Bakery"},{value:"decoration",label:"Decoration"},{value:"makeup_artistry",label:"Makeup Artistry"},{value:"bead_making",label:"Bead Making"},{value:"shoe_making",label:"Shoe Making"},{value:"event_mc",label:"Event MC"},{value:"event_planners",label:"Event Planners"},{value:"other",label:"Other"}],C=()=>{if(i.trim()&&!s.includes(i.trim())){const d=[...s,i.trim()];t(d),o("specialties",d),n("")}},N=d=>{const _=s.filter((w,I)=>I!==d);t(_),o("specialties",_)},c=d=>{const _=d.target.files[0];if(_){o("profile_image",_);const w=new FileReader;w.onloadend=()=>{j(w.result)},w.readAsDataURL(_)}},h=()=>{o("profile_image",null),j(null)},F=d=>{if(d.preventDefault(),!(a!=null&&a.id)){console.error("Profile ID is missing. Cannot submit form.");return}x(route("user.dashboard.artisans.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}})};return S.useEffect(()=>{o("specialties",s)},[s,o]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Artisan Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your artisan profile information"})]}),e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Profile Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[l?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l,alt:"Profile",className:"h-32 w-32 rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:h,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(L,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",children:e.jsx($,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{htmlFor:"profile_image",children:"Profile Image (Thumbnail)"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500 dark:text-gray-400",children:"This image will be displayed as your thumbnail to visitors"}),e.jsxs("label",{htmlFor:"profile_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[var(--buame-border-light)] bg-white px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[e.jsx(V,{className:"h-4 w-4"}),l?"Change Image":"Upload Image"]}),e.jsx("input",{id:"profile_image",type:"file",className:"hidden",accept:"image/*",onChange:c}),e.jsx(p,{error:v.profile_image||(r==null?void 0:r.profile_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"name",children:"Full Name"}),e.jsx(f,{id:"name",value:u.name,onChange:d=>o("name",d.target.value),className:"mt-1",placeholder:"Kwame Mensah"}),e.jsx(p,{error:v.name||(r==null?void 0:r.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"skill_type",children:"Skill Type"}),e.jsxs(Y,{value:u.skill_type,onValueChange:d=>o("skill_type",d),children:[e.jsx(q,{className:"mt-1",children:e.jsx(J,{placeholder:"Select skill type"})}),e.jsx(K,{children:P.map(d=>e.jsx(X,{value:d.value,children:d.label},d.value))})]}),e.jsx(p,{error:v.skill_type||(r==null?void 0:r.skill_type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"company_name",children:"Company/Business Name"}),e.jsx(f,{id:"company_name",value:u.company_name,onChange:d=>o("company_name",d.target.value),className:"mt-1",placeholder:"Mensah's Carpentry Works"}),e.jsx(p,{error:v.company_name||(r==null?void 0:r.company_name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"experience_years",children:"Years of Experience"}),e.jsx(f,{id:"experience_years",type:"number",value:u.experience_years,onChange:d=>o("experience_years",d.target.value),className:"mt-1",placeholder:"12"}),e.jsx(p,{error:v.experience_years||(r==null?void 0:r.experience_years),className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"checkbox",id:"show_price",checked:u.show_price,onChange:d=>o("show_price",d.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(m,{htmlFor:"show_price",className:"cursor-pointer",children:"Show average price per day to visitors"})]}),u.show_price&&e.jsxs("div",{children:[e.jsx(m,{htmlFor:"price_per_day",children:"Average Price per Day (GH₵)"}),e.jsx(f,{id:"price_per_day",type:"number",step:"0.01",value:u.price_per_day,onChange:d=>o("price_per_day",d.target.value),className:"mt-1",placeholder:"80.00"}),e.jsx(p,{error:v.price_per_day||(r==null?void 0:r.price_per_day),className:"mt-1"})]})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"About"}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"description",children:"Description"}),e.jsx(G,{id:"description",value:u.description,onChange:d=>o("description",d.target.value),className:"mt-1",rows:4,placeholder:"Experienced master carpenter with over 12 years of expertise..."}),e.jsx(p,{error:v.description||(r==null?void 0:r.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Specialties"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{value:i,onChange:d=>n(d.target.value),onKeyPress:d=>d.key==="Enter"&&(d.preventDefault(),C()),placeholder:"Add specialty (e.g., Furniture)",className:"flex-1"}),e.jsx(k,{type:"button",onClick:C,variant:"outline",children:"Add"})]}),s.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:s.map((d,_)=>e.jsxs("span",{className:"flex items-center gap-2 rounded-md bg-[var(--primary)]/10 px-3 py-1 text-sm font-semibold text-[var(--primary)] dark:text-[var(--primary)]",children:[d,e.jsx("button",{type:"button",onClick:()=>N(_),className:"text-red-600 hover:text-red-800",children:"×"})]},_))})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"location",children:"Location"}),e.jsx(f,{id:"location",value:u.location,onChange:d=>o("location",d.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(p,{error:v.location||(r==null?void 0:r.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"address",children:"Full Address"}),e.jsx(f,{id:"address",value:u.address,onChange:d=>o("address",d.target.value),className:"mt-1",placeholder:"Street address"}),e.jsx(p,{error:v.address||(r==null?void 0:r.address),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"phone",children:"Phone"}),e.jsx(f,{id:"phone",value:u.phone,onChange:d=>o("phone",d.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(p,{error:v.phone||(r==null?void 0:r.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"whatsapp",children:"WhatsApp"}),e.jsx(f,{id:"whatsapp",value:u.whatsapp,onChange:d=>o("whatsapp",d.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(p,{error:v.whatsapp||(r==null?void 0:r.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"email",children:"Email"}),e.jsx(f,{id:"email",type:"email",value:u.email,onChange:d=>o("email",d.target.value),className:"mt-1",placeholder:"kwame.mensah@example.com"}),e.jsx(p,{error:v.email||(r==null?void 0:r.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Working Hours"}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"working_hours",children:"Working Hours"}),e.jsx(f,{id:"working_hours",value:u.working_hours,onChange:d=>o("working_hours",d.target.value),className:"mt-1",placeholder:"Mon-Sat: 7:00 AM - 6:00 PM"}),e.jsx(p,{error:v.working_hours||(r==null?void 0:r.working_hours),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[g&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(k,{type:"submit",disabled:b,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:b?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4"}),"Save Profile"]})})]})]})]})}function ua({portfolio:a,onClose:r}){const{errors:s}=B().props,[t,i]=S.useState((a==null?void 0:a.image_path)||null),n=!!a,{data:l,setData:j,post:u,put:o,processing:x,errors:b,reset:v}=H({item:(a==null?void 0:a.item)||"",image:null}),g=N=>{const c=N.target.files[0];if(c){j("image",c);const h=new FileReader;h.onloadend=()=>{i(h.result)},h.readAsDataURL(c)}},P=()=>{j("image",null),i(null)},C=N=>{N.preventDefault(),n?o(route("user.dashboard.artisans.portfolio.update",a.id),{preserveScroll:!0,onSuccess:()=>{v(),r()}}):u(route("user.dashboard.artisans.portfolio.store"),{preserveScroll:!0,onSuccess:()=>{v(),i(null),r()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--foreground)] dark:text-white",children:n?"Edit Portfolio Item":"Add Portfolio Item"}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(L,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"item",children:"Work Description"}),e.jsx(f,{id:"item",value:l.item,onChange:N=>j("item",N.target.value),className:"mt-1",placeholder:"e.g., Custom dining tables",required:!0}),e.jsx(p,{error:b.item||(s==null?void 0:s.item),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"image",children:"Image (Optional)"}),e.jsx("div",{className:"mt-2",children:t?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Preview",className:"h-48 w-full rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:P,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(L,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(V,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:g})]})}),e.jsx(p,{error:b.image||(s==null?void 0:s.image),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(k,{type:"button",variant:"outline",onClick:r,disabled:x,children:"Cancel"}),e.jsx(k,{type:"submit",disabled:x,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:x?"Saving...":n?"Update":"Add Item"})]})]})]})})}function ba({profile:a}){const r=(a==null?void 0:a.portfolio)||[],[s,t]=S.useState(!1),[i,n]=S.useState(null),l=x=>{n(x),t(!0)},j=x=>{confirm("Are you sure you want to delete this portfolio item?")&&D.delete(route("user.dashboard.artisans.portfolio.destroy",x),{preserveScroll:!0})},u=()=>{n(null),t(!0)},o=()=>{t(!1),n(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Portfolio"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Showcase your completed work"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"My Portfolio"}),e.jsxs(k,{onClick:u,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Add Work"]})]}),r.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:r.map(x=>e.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all hover:shadow-lg dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-800",children:[x.image_path?e.jsx("img",{src:x.image_path,alt:x.item,className:"h-full w-full object-cover"}):e.jsx($,{className:"h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>l(x),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(Z,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>j(x.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(O,{className:"h-4 w-4 text-red-600"})})]})]}),e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"font-semibold text-[var(--foreground)] dark:text-white",children:x.item||"Work Item"})})]},x.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:[e.jsx($,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No portfolio items yet"}),e.jsxs(k,{onClick:u,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Add Your First Work"]})]}),s&&e.jsx(ua,{portfolio:i,onClose:o})]})}function va({activeSection:a,profile:r}){return a==="portfolio"?e.jsx(ba,{profile:r}):e.jsx(ga,{profile:r})}const pa={artisans:ke,hotels:fe,transport:we,rentals:xe,marketplace:Ne,jobs:le};function Fe({isOpen:a,onClose:r,category:s,subscription:t}){const[i,n]=S.useState(!1),[l,j]=S.useState("starter"),u=t&&(t.subscription_status==="expired"||t.subscription_status==="grace_period"||t.is_expiring_soon),[o,x]=S.useState((t==null?void 0:t.billing_cycle)||"monthly"),{categories:b}=B().props,v=b==null?void 0:b[s];if(!v)return null;const g=pa[s]||le,P=v.tiers,C=s==="marketplace",c=(()=>{var d;return C&&P&&((d=P[l])!=null&&d.pricing)?P[l].pricing:v.pricing||{monthly:v.price,biannually:v.price*5.4,annual:v.price*9.6}})(),h=c[o]||v.price,F=()=>{switch(o){case"biannually":return"6 months";case"annual":return"12 months";default:return"1 month"}},M=()=>{n(!0);const d={category:s,billing_cycle:o};C&&(d.tier=l),D.post(route("user.dashboard.payment.initialize"),d,{onFinish:()=>n(!1),onError:()=>n(!1)})};return e.jsx(ne,{open:a,onOpenChange:r,children:e.jsxs(ce,{className:"flex max-h-[90vh] flex-col sm:max-w-md",children:[e.jsxs(oe,{children:[e.jsxs(me,{className:"flex items-center gap-2 text-xl font-bold",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-[var(--primary)]/10",children:e.jsx(g,{className:"h-5 w-5 text-[var(--primary)]"})}),u?`Renew ${v.label} Subscription`:`Add ${v.label} Category`]}),e.jsx(Le,{children:u?`Renew your ${v.label} subscription to continue using its features`:`Subscribe to the ${v.label} category to start using its features`})]}),e.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto py-4",children:[C&&P&&e.jsxs("div",{className:"rounded-lg border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-gray-800",children:[e.jsx("h3",{className:"mb-3 text-sm font-bold text-[var(--foreground)] dark:text-white",children:"Select Your Store Plan"}),e.jsx("div",{className:"space-y-2",children:Object.entries(P).map(([d,_])=>e.jsx("button",{type:"button",onClick:()=>j(d),className:`w-full rounded-lg border-2 p-3 text-left transition-all ${l===d?"border-[var(--primary)] bg-[var(--primary)]/10":"border-gray-200 bg-white hover:border-[var(--primary)]/50 dark:border-gray-700 dark:bg-[var(--card)]"}`,children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-bold text-[var(--foreground)] dark:text-white",children:_.name}),l===d&&e.jsx(z,{className:"h-4 w-4 text-[var(--primary)]"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:_.description}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Up to ",_.product_limit," products"]})]})})},d))})]}),e.jsx(Te,{selected:o,onChange:x,pricing:c}),e.jsxs("div",{className:"rounded-lg border-2 border-[var(--primary)]/20 bg-[var(--primary)]/5 p-4",children:[e.jsx("div",{className:"mb-2 text-sm font-medium text-gray-600 dark:text-gray-400",children:"Subscription Fee"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-4xl font-black text-[var(--foreground)] dark:text-white",children:["GH₵ ",(h==null?void 0:h.toFixed(2))||"0.00"]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/ ",F()]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"What you'll get:"}),e.jsxs("ul",{className:"space-y-1.5 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[var(--primary)]"}),e.jsxs("span",{children:["Full access to ",v.label," dashboard"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[var(--primary)]"}),e.jsx("span",{children:"Create and manage your profile"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[var(--primary)]"}),e.jsx("span",{children:"Receive customer inquiries"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"mt-1 h-1.5 w-1.5 shrink-0 rounded-full bg-[var(--primary)]"}),e.jsx("span",{children:"Showcase your services to visitors"})]})]})]}),e.jsxs("div",{className:"flex items-start gap-2 rounded-lg border border-[var(--accent)]/30 bg-[var(--accent)]/10 p-3 dark:border-[var(--accent)]/20 dark:bg-[var(--accent)]/5",children:[e.jsx(Q,{className:"mt-0.5 h-4 w-4 shrink-0 text-[var(--accent)] dark:text-[var(--accent)]"}),e.jsxs("p",{className:"text-xs text-[var(--accent)] dark:text-[var(--accent)]/80",children:["You'll be redirected to Paystack for secure payment. Your subscription will be active for ",F(),". We'll send you reminders before it expires."]})]})]}),e.jsxs(he,{className:"gap-2 sm:gap-0",children:[e.jsx(k,{type:"button",variant:"outline",onClick:r,disabled:i,children:"Cancel"}),e.jsx(k,{type:"button",onClick:M,disabled:i,className:"cursor-pointer gap-2 bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-[var(--foreground)] border-t-transparent"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"h-4 w-4"}),u?"Renew":"Pay"," GH₵ ",(h==null?void 0:h.toFixed(2))||"0.00"]})})]})]})})}const je={active:{icon:z,label:"Active",className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"},grace_period:{icon:_e,label:"Grace Period",className:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"},expired:{icon:He,label:"Expired",className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},cancelled:{icon:Q,label:"Cancelled",className:"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}};function ja({status:a,expiresAt:r,showExpiry:s=!0,size:t="default"}){const i=je[a]||je.expired,n=i.icon,l=o=>o?new Date(o).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",j={small:"px-2 py-0.5 text-[10px]",default:"px-3 py-1 text-xs",large:"px-4 py-1.5 text-sm"},u={small:"h-3 w-3",default:"h-3.5 w-3.5",large:"h-4 w-4"};return e.jsxs("div",{className:`inline-flex items-center gap-1.5 rounded-full font-semibold ${i.className} ${j[t]}`,children:[e.jsx(n,{className:u[t]}),e.jsx("span",{children:i.label}),s&&r&&e.jsxs("span",{className:"opacity-75",children:["(",a==="active"?"Expires":"Expired",": ",l(r),")"]})]})}function ya(a,r=null){const s={category:a};r&&(s.section=r),D.get(route("user.dashboard.index"),s,{preserveScroll:!0,preserveState:!1})}function Ie(a,r=null){const s={section:a};if(r)s.category=r;else{const i=new URLSearchParams(window.location.search).get("category");i&&(s.category=i)}D.get(route("user.dashboard.index"),s,{preserveScroll:!0,preserveState:!0})}const Na={artisans:{label:"Artisans",icon:ke,color:"blue"},hotels:{label:"Hotel",icon:fe,color:"green"},transport:{label:"Okada/Car",icon:we,color:"orange"},rentals:{label:"Rentals",icon:xe,color:"purple"},marketplace:{label:"Marketplace",icon:Ne,color:"pink"},jobs:{label:"Jobs",icon:le,color:"gray"}};function fa({paidCategories:a,activeCategory:r,unpaidCategories:s}){const[t,i]=S.useState(!1),[n,l]=S.useState(null),j=x=>{ya(x)},u=x=>{l(x),i(!0)},o=()=>{i(!1),l(null)};return e.jsxs("div",{className:"mb-6 rounded-xl border border-[var(--buame-border-light)] bg-white p-4 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-sm font-bold tracking-wide text-[#4c9a4c] uppercase dark:text-[#8fcc8f]",children:"Your Categories"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-6",children:Object.entries(Na).map(([x,b])=>{const v=b.icon,g=a==null?void 0:a.find(N=>N.category===x),P=!!g,C=r===x;return P?e.jsxs("button",{onClick:()=>!C&&j(x),className:`flex cursor-pointer flex-col items-center gap-2 rounded-lg border-2 p-3 transition-all ${C?"border-[var(--primary)] bg-[var(--primary)]/10":"border-[var(--buame-border-light)] hover:border-[var(--primary)]/50 dark:border-[#2a4d2a]"}`,children:[e.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${C?"bg-[var(--primary)] text-white":"bg-[var(--primary)]/10 text-[var(--primary)]"}`,children:e.jsx(v,{className:"h-5 w-5"})}),e.jsx("span",{className:`text-xs font-semibold ${C?"text-[var(--foreground)] dark:text-white":"text-[#4c9a4c] dark:text-[#8fcc8f]"}`,children:b.label}),g&&e.jsx(ja,{status:g.subscription_status,expiresAt:g.expires_at,showExpiry:!1,size:"small"})]},x):e.jsxs("button",{onClick:()=>u(x),className:"flex cursor-pointer flex-col items-center gap-2 rounded-lg border-2 border-dashed border-gray-300 p-3 opacity-60 transition-opacity hover:opacity-100 dark:border-gray-600",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100 text-gray-400 dark:bg-gray-800",children:e.jsx(Oe,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:b.label})]},x)})}),e.jsx(Fe,{isOpen:t,onClose:o,category:n})]})}function wa({image:a,onClose:r}){const{errors:s}=B().props,[t,i]=S.useState((a==null?void 0:a.image_path)||null),n=!!a,{data:l,setData:j,post:u,put:o,processing:x,errors:b,reset:v}=H({image:null,is_primary:(a==null?void 0:a.is_primary)||!1}),g=N=>{const c=N.target.files[0];if(c){j("image",c);const h=new FileReader;h.onloadend=()=>{i(h.result)},h.readAsDataURL(c)}},P=()=>{j("image",null),n||i(null)},C=N=>{N.preventDefault(),n?o(route("user.dashboard.hotels.images.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{v(),r()}}):u(route("user.dashboard.hotels.images.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{v(),i(null),r()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--foreground)] dark:text-white",children:n?"Edit Image":"Add Image"}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(L,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"image",children:"Hotel Image"}),e.jsx("div",{className:"mt-2",children:t?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Preview",className:"h-48 w-full rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:P,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(L,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(V,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:g})]})}),e.jsx(p,{error:b.image||(s==null?void 0:s.image),className:"mt-1"})]}),!n&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_primary",checked:l.is_primary,onChange:N=>j("is_primary",N.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(m,{htmlFor:"is_primary",className:"text-sm",children:"Set as primary image"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(k,{type:"button",variant:"outline",onClick:r,disabled:x,children:"Cancel"}),e.jsx(k,{type:"submit",disabled:x,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:x?"Saving...":n?"Update":"Add Image"})]})]})]})})}function ka({profile:a}){const r=(a==null?void 0:a.images)||[],[s,t]=S.useState(!1),[i,n]=S.useState(null),l=g=>{n(g),t(!0)},j=g=>{confirm("Are you sure you want to delete this image?")&&D.delete(route("user.dashboard.hotels.images.destroy",g),{preserveScroll:!0})},u=g=>{D.post(route("user.dashboard.hotels.images.set-primary",g),{},{preserveScroll:!0})},o=()=>{n(null),t(!0)},x=()=>{t(!1),n(null)},b=r.find(g=>g.is_primary),v=r.filter(g=>!g.is_primary);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Hotel Gallery"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your hotel images and showcase your property"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Property Images"}),e.jsxs(k,{onClick:o,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),b&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-4 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Primary Image"})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-lg",children:[e.jsx("img",{src:b.image_path,alt:"Primary",className:"h-64 w-full object-cover transition-transform group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>l(b),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(Z,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>j(b.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(O,{className:"h-4 w-4 text-red-600"})})]})]})]}),v.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:v.map(g=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all hover:shadow-lg dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:g.image_path,alt:"Hotel",className:"h-full w-full object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>u(g.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Set as Primary",children:e.jsx(ee,{className:"h-4 w-4 text-yellow-400"})}),e.jsx("button",{onClick:()=>l(g),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(Z,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>j(g.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(O,{className:"h-4 w-4 text-red-600"})})]})]})},g.id))}):!b&&e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:[e.jsx($,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No images uploaded yet"}),e.jsxs(k,{onClick:o,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Add Your First Image"]})]}),s&&e.jsx(wa,{image:i,onClose:x})]})}function _a({profile:a}){var C,N;console.log("HotelProfile - profile:",a);const{errors:r}=B().props,s=((C=a==null?void 0:a.images)==null?void 0:C.find(c=>c.is_primary))||((N=a==null?void 0:a.images)==null?void 0:N[0]),[t,i]=S.useState((s==null?void 0:s.image_path)||null);if(!a||!a.id)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile..."})})});const{data:n,setData:l,post:j,processing:u,errors:o,recentlySuccessful:x}=H({_method:"PUT",name:(a==null?void 0:a.name)||"",type:(a==null?void 0:a.type)||"hotel",description:(a==null?void 0:a.description)||"",location:(a==null?void 0:a.location)||"",address:(a==null?void 0:a.address)||"",phone:(a==null?void 0:a.phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",price_per_night:(a==null?void 0:a.price_per_night)||"",rooms_count:(a==null?void 0:a.rooms_count)||"",check_in_time:(a==null?void 0:a.check_in_time)||"08:00",check_out_time:(a==null?void 0:a.check_out_time)||"20:00",is_active:(a==null?void 0:a.is_active)??!0,primary_image:null}),b=[{value:"hotel",label:"Hotel"},{value:"guest_house",label:"Guest House"},{value:"lodge",label:"Lodge"},{value:"short_stay",label:"Short Stay"}],v=c=>{const h=c.target.files[0];if(h){l("primary_image",h);const F=new FileReader;F.onloadend=()=>{i(F.result)},F.readAsDataURL(h)}},g=()=>{l("primary_image",null),i(null)},P=c=>{if(c.preventDefault(),!(a!=null&&a.id)){console.error("Profile ID is missing. Cannot submit form.");return}j(route("user.dashboard.hotels.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Hotel Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your hotel profile information"})]}),e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Hotel Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[t?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Hotel",className:"h-32 w-32 rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:g,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(L,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",children:e.jsx($,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{htmlFor:"primary_image",children:"Primary Image"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500 dark:text-gray-400",children:"This image will be displayed as your hotel thumbnail to visitors"}),e.jsxs("label",{htmlFor:"primary_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[var(--buame-border-light)] bg-white px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[e.jsx(V,{className:"h-4 w-4"}),t?"Change Image":"Upload Image"]}),e.jsx("input",{id:"primary_image",type:"file",className:"hidden",accept:"image/*",onChange:v}),e.jsx(p,{error:o.primary_image||(r==null?void 0:r.primary_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"name",children:"Hotel Name"}),e.jsx(f,{id:"name",value:n.name,onChange:c=>l("name",c.target.value),className:"mt-1",placeholder:"Royal Palm Hotel"}),e.jsx(p,{error:o.name||(r==null?void 0:r.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"type",children:"Property Type"}),e.jsxs(Y,{value:n.type,onValueChange:c=>l("type",c),children:[e.jsx(q,{className:"mt-1",children:e.jsx(J,{placeholder:"Select property type"})}),e.jsx(K,{children:b.map(c=>e.jsx(X,{value:c.value,children:c.label},c.value))})]}),e.jsx(p,{error:o.type||(r==null?void 0:r.type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"price_per_night",children:"Price per Night (GH₵)"}),e.jsx(f,{id:"price_per_night",type:"number",step:"0.01",value:n.price_per_night,onChange:c=>l("price_per_night",c.target.value),className:"mt-1",placeholder:"150.00"}),e.jsx(p,{error:o.price_per_night||(r==null?void 0:r.price_per_night),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"rooms_count",children:"Number of Rooms"}),e.jsx(f,{id:"rooms_count",type:"number",value:n.rooms_count,onChange:c=>l("rooms_count",c.target.value),className:"mt-1",placeholder:"25"}),e.jsx(p,{error:o.rooms_count||(r==null?void 0:r.rooms_count),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"About Your Property"}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"description",children:"Description"}),e.jsx(G,{id:"description",value:n.description,onChange:c=>l("description",c.target.value),className:"mt-1",rows:4,placeholder:"Describe your property, its unique features, and what makes it special..."}),e.jsx(p,{error:o.description||(r==null?void 0:r.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"location",children:"Location"}),e.jsx(f,{id:"location",value:n.location,onChange:c=>l("location",c.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(p,{error:o.location||(r==null?void 0:r.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"address",children:"Full Address"}),e.jsx(f,{id:"address",value:n.address,onChange:c=>l("address",c.target.value),className:"mt-1",placeholder:"Street address"}),e.jsx(p,{error:o.address||(r==null?void 0:r.address),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"phone",children:"Phone"}),e.jsx(f,{id:"phone",value:n.phone,onChange:c=>l("phone",c.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(p,{error:o.phone||(r==null?void 0:r.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"whatsapp",children:"WhatsApp"}),e.jsx(f,{id:"whatsapp",value:n.whatsapp,onChange:c=>l("whatsapp",c.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(p,{error:o.whatsapp||(r==null?void 0:r.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"email",children:"Email"}),e.jsx(f,{id:"email",type:"email",value:n.email,onChange:c=>l("email",c.target.value),className:"mt-1",placeholder:"info@royalpalmhotel.com"}),e.jsx(p,{error:o.email||(r==null?void 0:r.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Operating Hours"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:"Set the hours when your hotel reception is open and available for guests"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"check_in_time",children:"Opening Time"}),e.jsx(f,{id:"check_in_time",type:"time",value:n.check_in_time,onChange:c=>l("check_in_time",c.target.value),className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"When your reception opens"}),e.jsx(p,{error:o.check_in_time||(r==null?void 0:r.check_in_time),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"check_out_time",children:"Closing Time"}),e.jsx(f,{id:"check_out_time",type:"time",value:n.check_out_time,onChange:c=>l("check_out_time",c.target.value),className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"When your reception closes"}),e.jsx(p,{error:o.check_out_time||(r==null?void 0:r.check_out_time),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[x&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(k,{type:"submit",disabled:u,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:u?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4"}),"Save Profile"]})})]})]})]})}function Sa({profile:a}){var _;const{errors:r}=B().props,[s,t]=S.useState((a==null?void 0:a.amenities)||[]),[i,n]=S.useState(""),[l,j]=S.useState(((_=a==null?void 0:a.features)==null?void 0:_.map(w=>w.feature))||[]),[u,o]=S.useState(""),{data:x,setData:b,post:v,processing:g,errors:P,recentlySuccessful:C}=H({_method:"PUT",amenities:s,features:l}),N=["WiFi","Parking","Air Conditioning","Restaurant","Bar","Swimming Pool","Gym","Spa","Room Service","Laundry","Business Center","Conference Room","24/7 Reception","Security","Pet Friendly","Airport Shuttle","Breakfast Included","Kitchen","TV","Hot Water"],c=w=>{if(w&&!s.includes(w)){const I=[...s,w];t(I),b("amenities",I)}},h=w=>{const I=s.filter(E=>E!==w);t(I),b("amenities",I)},F=()=>{if(u.trim()&&!l.includes(u.trim())){const w=[...l,u.trim()];j(w),b("features",w),o("")}},M=w=>{const I=l.filter((E,W)=>W!==w);j(I),b("features",I)},d=w=>{if(w.preventDefault(),console.log("HotelSettings - Form submit started"),console.log("HotelSettings - Profile:",a),console.log("HotelSettings - Form data:",x),!(a!=null&&a.id)){console.error("Profile ID is missing. Cannot submit form.");return}console.log("HotelSettings - Submitting to:",route("user.dashboard.hotels.update",a.id)),v(route("user.dashboard.hotels.update",a.id),{preserveScroll:!0,onSuccess:I=>{console.log("HotelSettings - Success!",I)},onError:I=>{console.error("HotelSettings - Errors:",I)},onFinish:()=>{console.log("HotelSettings - Request finished")}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Hotel Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage amenities and features for your property"})]}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Amenities"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:"Select amenities available at your property. These help guests find your property."}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{className:"mb-2 block text-sm",children:"Quick Add"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:N.map(w=>e.jsxs("button",{type:"button",onClick:()=>c(w),disabled:s.includes(w),className:"rounded-md border border-[var(--buame-border-light)] bg-white px-3 py-1 text-xs font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] disabled:opacity-50 disabled:cursor-not-allowed dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[s.includes(w)?"✓ ":"+ ",w]},w))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{htmlFor:"custom_amenity",className:"mb-2 block text-sm",children:"Add Custom Amenity"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{id:"custom_amenity",value:i,onChange:w=>n(w.target.value),placeholder:"e.g., Rooftop Terrace",className:"flex-1"}),e.jsx(k,{type:"button",onClick:()=>{c(i),n("")},disabled:!i.trim()||s.includes(i.trim()),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:e.jsx(T,{className:"h-4 w-4"})})]})]}),s.length>0?e.jsxs("div",{children:[e.jsxs(m,{className:"mb-2 block text-sm",children:["Selected Amenities (",s.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.map(w=>e.jsxs("div",{className:"flex items-center gap-1 rounded-md bg-[var(--primary)]/10 px-3 py-1 text-sm text-white dark:text-white",children:[e.jsx("span",{children:w}),e.jsx("button",{type:"button",onClick:()=>h(w),className:"ml-1 text-red-600 hover:text-red-700",children:e.jsx(L,{className:"h-3 w-3"})})]},w))})]}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No amenities added yet"}),e.jsx(p,{error:P.amenities||(r==null?void 0:r.amenities),className:"mt-1"})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Features & Services"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:'Add special features or services your property offers (e.g., "24/7 Reception", "Room Service").'}),e.jsxs("div",{className:"mb-4",children:[e.jsx(m,{htmlFor:"new_feature",className:"mb-2 block text-sm",children:"Add Feature"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{id:"new_feature",value:u,onChange:w=>o(w.target.value),onKeyPress:w=>{w.key==="Enter"&&(w.preventDefault(),F())},placeholder:"e.g., 24/7 Reception",className:"flex-1"}),e.jsx(k,{type:"button",onClick:F,disabled:!u.trim(),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:e.jsx(T,{className:"h-4 w-4"})})]})]}),l.length>0?e.jsxs("div",{children:[e.jsxs(m,{className:"mb-2 block text-sm",children:["Features (",l.length,")"]}),e.jsx("div",{className:"space-y-2",children:l.map((w,I)=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border border-[var(--buame-border-light)] bg-white px-3 py-2 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("span",{className:"text-sm text-[var(--foreground)] dark:text-white",children:w}),e.jsx("button",{type:"button",onClick:()=>M(I),className:"text-red-600 hover:text-red-700",children:e.jsx(O,{className:"h-4 w-4"})})]},I))})]}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No features added yet"}),e.jsx(p,{error:P.features||(r==null?void 0:r.features),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[C&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Settings saved successfully"})]}),e.jsx(k,{type:"submit",disabled:g,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:g?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4"}),"Save Settings"]})})]})]})]})}function Ca({activeSection:a,profile:r}){switch(a){case"gallery":return e.jsx(ka,{profile:r});case"settings":return e.jsx(Sa,{profile:r});case"profile":default:return e.jsx(_a,{profile:r})}}function Pa({listings:a}){const r=()=>{D.visit(route("user.dashboard.jobs.create"))},s=t=>{D.visit(route("user.dashboard.jobs.edit",t))};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"My Job Postings"}),e.jsxs(k,{onClick:r,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Post Job"]})]}),a&&a.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(t=>e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] overflow-hidden transition-all hover:shadow-lg",children:e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-bold text-[var(--foreground)] dark:text-white",children:t.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:t.company_name}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(Ce,{className:"h-3 w-3"}),e.jsx("span",{children:t.location})]}),e.jsx("div",{className:"mt-4 flex items-center gap-2",children:e.jsxs(k,{onClick:()=>s(t.id),variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Z,{className:"mr-2 h-3 w-3"}),"Edit"]})})]})},t.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-12 text-center",children:[e.jsx(le,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No job postings yet"}),e.jsxs(k,{onClick:r,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Post Your First Job"]})]})]})}function Fa({activeTab:a,onTabChange:r,data:s}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Jobs Dashboard"}),e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Manage your job postings and applications"})]}),e.jsxs(Be,{value:a,onValueChange:r,className:"w-full",children:[e.jsxs(Ge,{className:"grid w-full grid-cols-2",children:[e.jsx(be,{value:"listings",activeValue:a,children:"My Jobs"}),e.jsx(be,{value:"applications",activeValue:a,children:"Applications"})]}),e.jsx(ve,{value:"listings",activeValue:a,className:"mt-6",children:e.jsx(Pa,{listings:(s==null?void 0:s.listings)||[]})}),e.jsx(ve,{value:"applications",activeValue:a,className:"mt-6",children:e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:e.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"Applications feature coming soon"})})})]})]})}function Ia({isOpen:a,onClose:r,product:s}){const{data:t,setData:i,post:n,processing:l,errors:j,reset:u,clearErrors:o}=H({_method:"put",title:(s==null?void 0:s.title)||"",category:(s==null?void 0:s.category)||"",price:(s==null?void 0:s.price)||"",price_type:(s==null?void 0:s.price_type)||"",condition:(s==null?void 0:s.condition)||"new",location:(s==null?void 0:s.location)||"",latitude:(s==null?void 0:s.latitude)||"",longitude:(s==null?void 0:s.longitude)||"",description:(s==null?void 0:s.description)||"",delivery_available:(s==null?void 0:s.delivery_available)||!1,warranty:(s==null?void 0:s.warranty)||"",images:[],remove_images:[],specifications:[],remove_specifications:[]}),[x,b]=S.useState([]),[v,g]=S.useState((s==null?void 0:s.images)||[]),[P,C]=S.useState((s==null?void 0:s.specifications)||[]),N=y=>{const A=Array.from(y.target.files);if(v.length-t.remove_images.length+t.images.length+A.length>10)return;const ie=[...t.images,...A];i("images",ie);const Re=A.map(de=>URL.createObjectURL(de));b(de=>[...de,...Re])},c=y=>{URL.revokeObjectURL(x[y]),i("images",t.images.filter((A,R)=>R!==y)),b(A=>A.filter((R,ie)=>ie!==y))},h=y=>{const A=t.remove_images.includes(y)?t.remove_images.filter(R=>R!==y):[...t.remove_images,y];i("remove_images",A)},F=()=>{i("specifications",[...t.specifications,""])},M=(y,A)=>{const R=[...t.specifications];R[y]=A,i("specifications",R)},d=y=>{i("specifications",t.specifications.filter((A,R)=>R!==y))},_=y=>{const A=t.remove_specifications.includes(y)?t.remove_specifications.filter(R=>R!==y):[...t.remove_specifications,y];i("remove_specifications",A)},w=y=>{y.preventDefault(),n(route("user.dashboard.marketplace.update",s.id),{preserveScroll:!0,onSuccess:()=>{I()}})},I=()=>{x.forEach(y=>URL.revokeObjectURL(y)),u(),o(),b([]),g([]),C([]),r()},E=[{value:"electronics",label:"Electronics"},{value:"furniture",label:"Furniture"},{value:"food",label:"Food"},{value:"agriculture",label:"Agriculture"},{value:"clothes",label:"Clothes"},{value:"others",label:"Others"}],W=[{value:"new",label:"New"},{value:"like_new",label:"Like New"},{value:"used",label:"Used"},{value:"refurbished",label:"Refurbished"}],Ae=v.filter(y=>!t.remove_images.includes(y.id)).length+t.images.length;return!a||!s?null:e.jsx(ne,{open:a,onOpenChange:I,children:e.jsxs(ce,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(oe,{children:e.jsx(me,{children:"Edit Product"})}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Product Images (Max 10)"}),e.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 sm:grid-cols-5",children:[v.map((y,A)=>{const R=t.remove_images.includes(y.id);return e.jsxs("div",{className:`group relative aspect-square ${R?"opacity-40":""}`,children:[e.jsx("img",{src:`/storage/${y.image_path}`,alt:`Product ${A+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>h(y.id),className:`absolute -top-2 -right-2 rounded-full p-1 text-white transition-opacity ${R?"bg-green-500 opacity-100":"bg-red-500 opacity-0 group-hover:opacity-100"}`,children:e.jsx(L,{className:"h-3 w-3"})}),y.is_primary&&!R&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-[var(--primary)] px-1.5 py-0.5 text-xs font-medium text-white",children:"Primary"}),R&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-red-500 px-1.5 py-0.5 text-xs font-medium text-white",children:"Remove"})]},`existing-${y.id}`)}),x.map((y,A)=>e.jsxs("div",{className:"group relative aspect-square",children:[e.jsx("img",{src:y,alt:`New ${A+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>c(A),className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx(L,{className:"h-3 w-3"})}),e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-blue-500 px-1.5 py-0.5 text-xs font-medium text-white",children:"New"})]},`new-${A}`)),Ae<10&&e.jsxs("label",{className:"flex aspect-square cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:border-[var(--primary)] dark:border-gray-600",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:N,className:"hidden"}),e.jsx(re,{className:"h-6 w-6 text-gray-400"})]})]}),e.jsx(p,{error:j.images})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"edit-title",children:"Product Title *"}),e.jsx(f,{id:"edit-title",value:t.title,onChange:y=>i("title",y.target.value),placeholder:"Enter product title",required:!0}),e.jsx(p,{error:j.title})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"edit-category",children:"Category *"}),e.jsxs(Y,{value:t.category,onValueChange:y=>i("category",y),children:[e.jsx(q,{children:e.jsx(J,{placeholder:"Select category"})}),e.jsx(K,{children:E.map(y=>e.jsx(X,{value:y.value,children:y.label},y.value))})]}),e.jsx(p,{error:j.category})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"edit-price",children:"Price (GH₵) *"}),e.jsx(f,{id:"edit-price",type:"number",step:"0.01",min:"0",value:t.price,onChange:y=>i("price",y.target.value),placeholder:"0.00",required:!0}),e.jsx(p,{error:j.price})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"edit-price_type",children:"Price Type"}),e.jsx(f,{id:"edit-price_type",value:t.price_type,onChange:y=>i("price_type",y.target.value),placeholder:"e.g., /kg, /bunch"})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"edit-condition",children:"Condition"}),e.jsxs(Y,{value:t.condition,onValueChange:y=>i("condition",y),children:[e.jsx(q,{children:e.jsx(J,{placeholder:"Select condition"})}),e.jsx(K,{children:W.map(y=>e.jsx(X,{value:y.value,children:y.label},y.value))})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"edit-location",children:"Location *"}),e.jsx(f,{id:"edit-location",value:t.location,onChange:y=>i("location",y.target.value),placeholder:"Enter location",required:!0}),e.jsx(p,{error:j.location})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"edit-description",children:"Description"}),e.jsx(G,{id:"edit-description",value:t.description,onChange:y=>i("description",y.target.value),placeholder:"Describe your product...",rows:4})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"edit-delivery_available",checked:t.delivery_available,onChange:y=>i("delivery_available",y.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(m,{htmlFor:"edit-delivery_available",className:"cursor-pointer",children:"Delivery Available"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"edit-warranty",children:"Warranty"}),e.jsx(f,{id:"edit-warranty",value:t.warranty,onChange:y=>i("warranty",y.target.value),placeholder:"e.g., 1 year warranty"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx(m,{children:"Specifications"}),e.jsxs(k,{type:"button",variant:"outline",size:"sm",onClick:F,className:"h-8 gap-1 text-xs",children:[e.jsx(T,{className:"h-3 w-3"}),"Add Specification"]})]}),e.jsxs("div",{className:"space-y-2",children:[P.map((y,A)=>{const R=t.remove_specifications.includes(y.id);return e.jsxs("div",{className:`flex gap-2 ${R?"opacity-40":""}`,children:[e.jsx(f,{value:y.specification,disabled:!0,className:`flex-1 ${R?"line-through":""}`}),e.jsx(k,{type:"button",variant:"outline",size:"sm",onClick:()=>_(y.id),className:`h-10 w-10 p-0 ${R?"bg-green-500 text-white hover:bg-green-600":""}`,children:e.jsx(L,{className:"h-4 w-4"})})]},`existing-spec-${y.id}`)}),t.specifications.map((y,A)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{value:y,onChange:R=>M(A,R.target.value),placeholder:"e.g., 128GB Storage, 8GB RAM",className:"flex-1"}),e.jsx(k,{type:"button",variant:"outline",size:"sm",onClick:()=>d(A),className:"h-10 w-10 p-0",children:e.jsx(L,{className:"h-4 w-4"})})]},`new-spec-${A}`)),P.length===0&&t.specifications.length===0&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add product specifications to help buyers understand your product better."})]})]}),e.jsxs(he,{children:[e.jsx(k,{type:"button",variant:"outline",onClick:I,disabled:l,children:"Cancel"}),e.jsx(k,{type:"submit",disabled:l,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:l?"Saving...":"Save Changes"})]})]})]})})}function Aa({products:a,store:r,tiers:s,onAddProduct:t}){const[i,n]=S.useState(null),[l,j]=S.useState(null),u=()=>{t?t():D.visit(route("user.dashboard.marketplace.create"))},o=N=>{j(N)},x=N=>{confirm("Are you sure you want to delete this product?")&&(n(N),D.delete(route("user.dashboard.marketplace.destroy",N),{preserveScroll:!0,onFinish:()=>n(null)}))},b=()=>{const N=["starter","professional","enterprise"].indexOf((r==null?void 0:r.tier)||"starter"),c=["starter","professional","enterprise"][N+1];c&&(s!=null&&s[c])&&D.post(route("user.dashboard.marketplace.store.upgrade"),{tier:c})},v=(r==null?void 0:r.remaining_slots)||0,g=(r==null?void 0:r.product_limit)||5,P=(a==null?void 0:a.length)||0,C=v>0&&(r==null?void 0:r.is_active);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"My Products"}),e.jsxs("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:[P," / ",g," products",v>0&&e.jsxs("span",{className:"ml-2 text-[var(--primary)]",children:["(",v," slots remaining)"]})]})]}),e.jsxs(k,{onClick:u,disabled:!C,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Add Product"]})]}),v===0&&e.jsx("div",{className:"rounded-xl border border-[var(--secondary)]/30 bg-[var(--secondary)]/10 dark:border-[var(--secondary)]/20 dark:bg-[var(--secondary)]/5 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Q,{className:"h-5 w-5 text-[var(--secondary)] dark:text-[var(--secondary)] flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--secondary)] dark:text-[var(--secondary)]",children:"Product Limit Reached"}),e.jsxs("p",{className:"mt-1 text-sm text-[var(--secondary)]/80 dark:text-[var(--secondary)]/70",children:["You've reached your limit of ",g," products. Upgrade to add more."]})]})]}),e.jsxs(k,{onClick:b,size:"sm",className:"bg-[var(--secondary)] text-[var(--secondary-foreground)] hover:bg-[var(--secondary)]/90 flex-shrink-0",children:[e.jsx(Pe,{className:"mr-2 h-4 w-4"}),"Upgrade"]})]})}),r&&!r.is_active&&e.jsx("div",{className:"rounded-xl border border-[var(--accent)]/30 bg-[var(--accent)]/10 dark:border-[var(--accent)]/20 dark:bg-[var(--accent)]/5 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Q,{className:"h-5 w-5 text-[var(--accent)] dark:text-[var(--accent)] flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--accent)] dark:text-[var(--accent)]",children:"Store Not Active"}),e.jsx("p",{className:"mt-1 text-sm text-[var(--accent)]/80 dark:text-[var(--accent)]/70",children:"Your store is hidden from visitors. Activate it to make your products visible."})]})]}),e.jsx(k,{onClick:()=>Ie("store"),variant:"outline",size:"sm",className:"border-[var(--accent)]/30 text-[var(--accent)] hover:bg-[var(--accent)]/10 dark:border-[var(--accent)]/20 dark:text-[var(--accent)] dark:hover:bg-[var(--accent)]/10 flex-shrink-0",children:"Store Settings"})]})}),a&&a.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(N=>{var h,F;const c=((h=N.images)==null?void 0:h.find(M=>M.is_primary))||((F=N.images)==null?void 0:F[0]);return e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] overflow-hidden transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"aspect-video w-full bg-gray-100 dark:bg-gray-800 relative overflow-hidden",children:[c?e.jsx("img",{src:`/storage/${c.image_path}`,alt:N.title,className:"h-full w-full object-cover"}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(te,{className:"h-12 w-12 text-gray-400"})}),!N.is_active&&e.jsx("div",{className:"absolute top-2 right-2 rounded bg-gray-900/70 px-2 py-1 text-xs text-white",children:"Inactive"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-bold text-[var(--foreground)] dark:text-white",children:N.title}),e.jsxs("p",{className:"mt-1 text-sm font-semibold text-[var(--primary)]",children:["GH₵ ",N.price]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(Ce,{className:"h-3 w-3"}),e.jsx("span",{children:N.location})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsxs(k,{onClick:()=>o(N),variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(Z,{className:"mr-2 h-3 w-3"}),"Edit"]}),e.jsxs(k,{onClick:()=>x(N.id),variant:"outline",size:"sm",className:"flex-1 text-red-600 hover:text-red-700",disabled:i===N.id,children:[e.jsx(O,{className:"mr-2 h-3 w-3"}),i===N.id?"Deleting...":"Delete"]})]})]})]},N.id)})}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-12 text-center",children:[e.jsx(te,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600 dark:text-gray-400",children:"No products yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Click "Add Product" above to add your first product'})]}),l&&e.jsx(Ia,{isOpen:!0,onClose:()=>j(null),product:l})]})}function Ra({checked:a,onCheckedChange:r,id:s,className:t="",...i}){return e.jsx("button",{type:"button",role:"switch","aria-checked":a,id:s,onClick:()=>r(!a),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-[var(--primary)] focus:ring-offset-2 ${a?"bg-[var(--primary)]":"bg-gray-300 dark:bg-gray-600"} ${t}`,...i,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a?"translate-x-6":"translate-x-1"}`})})}function Ma({store:a}){const[r,s]=S.useState((a==null?void 0:a.is_active)??!1),[t,i]=S.useState(!1),n=()=>{s(!r),i(!0),console.log("something happend"),D.post(route("user.dashboard.marketplace.store.toggle-active"),{},{preserveScroll:!0,preserveState:!0,only:["categoryData"],onFinish:()=>i(!1),onError:()=>s(r)})};return e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-[var(--buame-border-light)] bg-white px-3 py-1.5 md:px-4 md:py-2 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[r?e.jsx(ge,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(Se,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{className:"hidden flex-col md:flex",children:[e.jsx(m,{className:"cursor-pointer text-xs font-semibold text-[var(--foreground)] dark:text-white",children:r?"Visible":"Hidden"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Store"})]}),e.jsx(Ra,{checked:r,onCheckedChange:n,disabled:t,className:"ml-1 md:ml-2"})]})}function Da({store:a,tiers:r}){const[s,t]=S.useState(!1),[i,n]=S.useState((a==null?void 0:a.slug)||""),{data:l,setData:j,put:u,processing:o,errors:x,reset:b}=H({name:(a==null?void 0:a.name)||"",slug:(a==null?void 0:a.slug)||"",description:(a==null?void 0:a.description)||""});S.useEffect(()=>{a&&(j({name:a.name||"",slug:a.slug||"",description:a.description||""}),n(a.slug||""))},[a]);const v=d=>{const _=d.target.value;if(j("name",_),!i||i===(a==null?void 0:a.slug)){const w=_.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");j("slug",w),n(w)}},g=d=>{const _=d.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");j("slug",_),n(_)},P=d=>{d.preventDefault(),u(route("user.dashboard.marketplace.store.update"),{preserveScroll:!0,onSuccess:()=>{b()}})},C=()=>{const d=`${window.location.origin}/store/${l.slug||(a==null?void 0:a.slug)}`;navigator.clipboard.writeText(d),t(!0),setTimeout(()=>t(!1),2e3)},N=d=>{D.post(route("user.dashboard.marketplace.store.upgrade"),{tier:d})},c=`${window.location.origin}/store/${l.slug||(a==null?void 0:a.slug)||"your-store"}`,h=r==null?void 0:r[(a==null?void 0:a.tier)||"starter"],F=["starter","professional","enterprise"].indexOf((a==null?void 0:a.tier)||"starter"),M=Object.entries(r||{}).slice(F+1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Store Settings"}),e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Manage your store information and visibility"})]}),e.jsx("div",{className:`rounded-xl border-2 p-6 ${a!=null&&a.is_active?"border-[var(--primary)] bg-[var(--buame-border-light)] dark:bg-[#1a331a]":"border-[var(--accent)]/30 bg-[var(--accent)]/10 dark:border-[var(--accent)]/20 dark:bg-[var(--accent)]/5"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${a!=null&&a.is_active?"bg-[var(--primary)]/20":"bg-[var(--accent)]/20 dark:bg-[var(--accent)]/10"}`,children:a!=null&&a.is_active?e.jsx(ge,{className:"h-6 w-6 text-[var(--primary)]"}):e.jsx(Se,{className:"h-6 w-6 text-[var(--accent)] dark:text-[var(--accent)]"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:["Store is ",a!=null&&a.is_active?"Visible":"Hidden"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a!=null&&a.is_active?"Your store and products are visible to visitors":"Your store is hidden from visitors. Toggle to make it visible."})]})]}),e.jsx(Ma,{store:a})]})}),e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"name",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Store Name"}),e.jsx(f,{id:"name",value:l.name,onChange:v,placeholder:"Enter your store name",className:"w-full"}),e.jsx(p,{error:x.name})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"slug",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Store URL Slug"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm whitespace-nowrap text-gray-500",children:"/store/"}),e.jsx(f,{id:"slug",value:l.slug,onChange:g,placeholder:"your-store-name",className:"flex-1",pattern:"[a-z0-9-]+"})]}),e.jsx(p,{error:x.slug}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(m,{htmlFor:"description",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Store Description"}),e.jsx(G,{id:"description",value:l.description,onChange:d=>j("description",d.target.value),placeholder:"Tell customers about your store...",rows:4,className:"w-full"}),e.jsx(p,{error:x.description})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(m,{className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Your Store Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{value:c,readOnly:!0,className:"flex-1 text-sm"}),e.jsx(k,{onClick:C,variant:"outline",type:"button",size:"icon",children:s?e.jsx(z,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(ze,{className:"h-4 w-4"})}),e.jsx(k,{variant:"outline",asChild:!0,type:"button",size:"icon",children:e.jsx("a",{href:c,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Ve,{className:"h-4 w-4"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Share this link to let people view your products"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(k,{type:"submit",disabled:o,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:o?"Saving...":"Save Changes"})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[h&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h4",{className:"mb-3 font-semibold text-[var(--foreground)] dark:text-white",children:"Current Plan"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:h.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(a==null?void 0:a.products_count)||0," / ",(a==null?void 0:a.product_limit)||5," products used"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-2xl font-bold text-[var(--primary)]",children:["GH₵ ",h.price]})})]})]}),M.length>0&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h4",{className:"mb-3 font-semibold text-[var(--foreground)] dark:text-white",children:"Upgrade Your Store"}),e.jsx("div",{className:"space-y-3",children:M.map(([d,_])=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-3 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--foreground)] dark:text-white",children:_.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Up to ",_.product_limit," products"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-bold text-[var(--secondary)]",children:["GH₵ ",_.price]}),e.jsx(k,{onClick:()=>N(d),size:"sm",className:"bg-[var(--secondary)] text-[var(--secondary-foreground)] hover:bg-[var(--secondary)]/90",children:e.jsx(Pe,{className:"h-4 w-4"})})]})]},d))})]})]})]})}function La({isOpen:a,onClose:r,store:s}){const{data:t,setData:i,post:n,processing:l,errors:j,reset:u,clearErrors:o}=H({title:"",category:"",price:"",price_type:"",condition:"new",location:"",latitude:"",longitude:"",description:"",delivery_available:!1,warranty:"",images:[],specifications:[]}),[x,b]=S.useState([]),v=d=>{const _=Array.from(d.target.files);if(t.images.length+_.length>10)return;const I=[...t.images,..._];i("images",I);const E=_.map(W=>URL.createObjectURL(W));b(W=>[...W,...E])},g=d=>{URL.revokeObjectURL(x[d]),i("images",t.images.filter((_,w)=>w!==d)),b(_=>_.filter((w,I)=>I!==d))},P=()=>{i("specifications",[...t.specifications,""])},C=(d,_)=>{const w=[...t.specifications];w[d]=_,i("specifications",w)},N=d=>{i("specifications",t.specifications.filter((_,w)=>w!==d))},c=d=>{d.preventDefault(),n(route("user.dashboard.marketplace.store"),{preserveScroll:!0,onSuccess:()=>{h()}})},h=()=>{x.forEach(d=>URL.revokeObjectURL(d)),u(),o(),b([]),r()},F=[{value:"electronics",label:"Electronics"},{value:"furniture",label:"Furniture"},{value:"food",label:"Food"},{value:"agriculture",label:"Agriculture"},{value:"clothes",label:"Clothes"},{value:"others",label:"Others"}],M=[{value:"new",label:"New"},{value:"like_new",label:"Like New"},{value:"used",label:"Used"},{value:"refurbished",label:"Refurbished"}];return a?e.jsx(ne,{open:a,onOpenChange:h,children:e.jsxs(ce,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(oe,{children:e.jsx(me,{children:"Add New Product"})}),e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Product Images (Max 10)"}),e.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 sm:grid-cols-5",children:[x.map((d,_)=>e.jsxs("div",{className:"group relative aspect-square",children:[e.jsx("img",{src:d,alt:`Preview ${_+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>g(_),className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx(L,{className:"h-3 w-3"})}),_===0&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-[var(--primary)] px-1.5 py-0.5 text-xs font-medium text-white",children:"Primary"})]},_)),t.images.length<10&&e.jsxs("label",{className:"flex aspect-square cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:border-[var(--primary)] dark:border-gray-600",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:v,className:"hidden"}),e.jsx(re,{className:"h-6 w-6 text-gray-400"})]})]}),e.jsx(p,{error:j.images})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"title",children:"Product Title *"}),e.jsx(f,{id:"title",value:t.title,onChange:d=>i("title",d.target.value),placeholder:"Enter product title",required:!0}),e.jsx(p,{error:j.title})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"category",children:"Category *"}),e.jsxs(Y,{value:t.category,onValueChange:d=>i("category",d),children:[e.jsx(q,{children:e.jsx(J,{placeholder:"Select category"})}),e.jsx(K,{children:F.map(d=>e.jsx(X,{value:d.value,children:d.label},d.value))})]}),e.jsx(p,{error:j.category})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"price",children:"Price (GH₵) *"}),e.jsx(f,{id:"price",type:"number",step:"0.01",min:"0",value:t.price,onChange:d=>i("price",d.target.value),placeholder:"0.00",required:!0}),e.jsx(p,{error:j.price})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"price_type",children:"Price Type"}),e.jsx(f,{id:"price_type",value:t.price_type,onChange:d=>i("price_type",d.target.value),placeholder:"e.g., /kg, /bunch"})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"condition",children:"Condition"}),e.jsxs(Y,{value:t.condition,onValueChange:d=>i("condition",d),children:[e.jsx(q,{children:e.jsx(J,{placeholder:"Select condition"})}),e.jsx(K,{children:M.map(d=>e.jsx(X,{value:d.value,children:d.label},d.value))})]})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"location",children:"Location *"}),e.jsx(f,{id:"location",value:t.location,onChange:d=>i("location",d.target.value),placeholder:"Enter location",required:!0}),e.jsx(p,{error:j.location})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"description",children:"Description"}),e.jsx(G,{id:"description",value:t.description,onChange:d=>i("description",d.target.value),placeholder:"Describe your product...",rows:4})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"delivery_available",checked:t.delivery_available,onChange:d=>i("delivery_available",d.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(m,{htmlFor:"delivery_available",className:"cursor-pointer",children:"Delivery Available"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"warranty",children:"Warranty"}),e.jsx(f,{id:"warranty",value:t.warranty,onChange:d=>i("warranty",d.target.value),placeholder:"e.g., 1 year warranty"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx(m,{children:"Specifications"}),e.jsxs(k,{type:"button",variant:"outline",size:"sm",onClick:P,className:"h-8 gap-1 text-xs",children:[e.jsx(T,{className:"h-3 w-3"}),"Add Specification"]})]}),e.jsxs("div",{className:"space-y-2",children:[t.specifications.map((d,_)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{value:d,onChange:w=>C(_,w.target.value),placeholder:"e.g., 128GB Storage, 8GB RAM",className:"flex-1"}),e.jsx(k,{type:"button",variant:"outline",size:"sm",onClick:()=>N(_),className:"h-10 w-10 p-0",children:e.jsx(L,{className:"h-4 w-4"})})]},_)),t.specifications.length===0&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add product specifications to help buyers understand your product better."})]})]}),e.jsxs(he,{children:[e.jsx(k,{type:"button",variant:"outline",onClick:h,disabled:l,children:"Cancel"}),e.jsx(k,{type:"submit",disabled:l,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:l?"Adding...":"Add Product"})]})]})]})}):null}function Ta({activeTab:a,data:r}){const[s,t]=S.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[a==="store"?e.jsx(Da,{store:r==null?void 0:r.store,tiers:r==null?void 0:r.tiers}):e.jsx(Aa,{products:(r==null?void 0:r.products)||[],store:r==null?void 0:r.store,tiers:r==null?void 0:r.tiers,onAddProduct:()=>t(!0)}),e.jsx(La,{isOpen:s,onClose:()=>t(!1),store:r==null?void 0:r.store})]})}function ye({categoryData:a}){const r=(a==null?void 0:a.stats)||{total:0,active:0,views:0};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Overview"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Welcome to your dashboard. Select a category to get started."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[var(--primary)] dark:text-[#8fcc8f]",children:"Total Listings"}),e.jsx(te,{className:"h-5 w-5 text-[var(--primary)]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[var(--primary)] dark:text-white",children:r.total||0})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[var(--secondary)] dark:text-[var(--secondary)]",children:"Active"}),e.jsx(We,{className:"h-5 w-5 text-[var(--secondary)]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[var(--secondary)] dark:text-white",children:r.active||0})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[var(--accent)] dark:text-[var(--accent)]",children:"Total Views"}),e.jsx(ge,{className:"h-5 w-5 text-[var(--accent)]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[var(--accent)] dark:text-white",children:r.views||0})]})]})]})}function Ua({profile:a}){const[r,s]=S.useState("");if(!a)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center dark:border-gray-800 dark:bg-[var(--card)]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading features..."})});const t=(a==null?void 0:a.features)||[],i=l=>{l.preventDefault(),r.trim()&&D.post(route("user.dashboard.rentals.features.store",{rental:a.id}),{feature:r.trim()},{preserveScroll:!0,onSuccess:()=>{s("")}})},n=l=>{D.delete(route("user.dashboard.rentals.features.destroy",{rental:a.id,feature:l}),{preserveScroll:!0})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Rental Features"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add features that describe your rental (e.g., 2 Bedrooms, Air Conditioning, WiFi)"})]}),e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("form",{onSubmit:i,className:"flex gap-3",children:[e.jsx(f,{value:r,onChange:l=>s(l.target.value),placeholder:"Type a feature and press +",className:"flex-1"}),e.jsx(k,{type:"submit",disabled:!r.trim(),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:e.jsx(T,{className:"h-5 w-5"})})]})}),t.length>0?e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("h4",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Added Features (",t.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(l=>e.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-[var(--primary)]/10 px-4 py-2 text-sm font-medium text-white dark:bg-[var(--primary)]/20 dark:text-white",children:[e.jsx("span",{children:l.feature}),e.jsx("button",{onClick:()=>n(l.id),className:"rounded-full p-0.5 text-gray-500 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/30",children:e.jsx(O,{className:"h-3.5 w-3.5"})})]},l.id))})]}):e.jsx("div",{className:"rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 p-8 text-center dark:border-gray-700 dark:bg-gray-800/50",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No features added yet. Type a feature above and click + to add."})})]})}function Ha({rentalId:a,image:r,isOpen:s,onClose:t}){const[i,n]=S.useState((r==null?void 0:r.image_path)||null),l=S.useRef(null),{data:j,setData:u,post:o,processing:x,errors:b,reset:v}=H({image:null}),g=N=>{N.preventDefault(),r?o(route("user.dashboard.rentals.images.update",{rental:a,image:r.id}),{forceFormData:!0,onSuccess:()=>{v(),n(null),t()}}):o(route("user.dashboard.rentals.images.store",{rental:a}),{forceFormData:!0,onSuccess:()=>{v(),n(null),t()}})},P=N=>{const c=N.target.files[0];if(c){u("image",c);const h=new FileReader;h.onloadend=()=>{n(h.result)},h.readAsDataURL(c)}},C=()=>{v(),n((r==null?void 0:r.image_path)||null),t()};return s?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl bg-white p-6 dark:bg-[var(--card)]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:r?"Edit Image":"Add New Image"}),e.jsx("button",{onClick:C,className:"rounded-full p-1 hover:bg-gray-100 dark:hover:bg-gray-800",children:e.jsx(L,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Image"}),e.jsxs("div",{className:"mt-2 flex h-48 cursor-pointer items-center justify-center overflow-hidden rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 transition-colors hover:border-[var(--primary)] dark:border-gray-700 dark:bg-gray-800",onClick:()=>{var N;return(N=l.current)==null?void 0:N.click()},children:[i?e.jsx("img",{src:i,alt:"Preview",className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[e.jsx(V,{className:"mb-2 h-10 w-10"}),e.jsx("span",{className:"text-sm",children:"Click to upload"}),e.jsx("span",{className:"text-xs",children:"Max 5MB (JPEG, PNG, WebP)"})]}),e.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:P,className:"hidden"})]}),e.jsx(p,{error:b.image,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(k,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),e.jsx(k,{type:"submit",disabled:x||!r&&!j.image,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:x?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):r?"Update Image":"Add Image"})]})]})]})}):null}function $a({profile:a}){const[r,s]=S.useState(!1),[t,i]=S.useState(null);if(!a)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center dark:border-gray-800 dark:bg-[var(--card)]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading gallery..."})});const n=(a==null?void 0:a.images)||[],l=x=>{D.put(route("user.dashboard.rentals.images.primary",{rental:a.id,image:x}),{},{preserveScroll:!0})},j=x=>{confirm("Are you sure you want to delete this image?")&&D.delete(route("user.dashboard.rentals.images.destroy",{rental:a.id,image:x}),{preserveScroll:!0})},u=x=>{i(x),s(!0)},o=()=>{i(null),s(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Rental Gallery"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Manage images for your rental listing (",n.length," images)"]})]}),e.jsxs(k,{onClick:o,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),n.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4",children:n.map(x=>e.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-xl border-2 border-gray-100 bg-gray-100 dark:border-gray-800 dark:bg-gray-800",children:[e.jsx("img",{src:x.image_path,alt:"Rental",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),x.is_primary&&e.jsxs("div",{className:"absolute left-2 top-2 flex items-center gap-1 rounded-full bg-[var(--primary)] px-2 py-1 text-xs font-bold text-white",children:[e.jsx(ee,{className:"h-3 w-3 fill-current"}),"Primary"]}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-2 bg-black/50 opacity-0 transition-opacity group-hover:opacity-100",children:[!x.is_primary&&e.jsxs(k,{size:"sm",variant:"secondary",onClick:()=>l(x.id),className:"h-8",children:[e.jsx(ee,{className:"mr-1 h-3 w-3"}),"Set Primary"]}),e.jsx(k,{size:"sm",variant:"secondary",onClick:()=>u(x),className:"h-8",children:e.jsx(na,{className:"h-3 w-3"})}),e.jsx(k,{size:"sm",variant:"destructive",onClick:()=>j(x.id),className:"h-8",children:e.jsx(O,{className:"h-3 w-3"})})]})]},x.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 p-12 text-center dark:border-gray-700 dark:bg-gray-800/50",children:[e.jsx(re,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h4",{className:"mb-2 font-semibold text-gray-700 dark:text-gray-300",children:"No images yet"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:"Add images to showcase your rental listing"}),e.jsxs(k,{onClick:o,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),"Add First Image"]})]}),e.jsx(Ha,{rentalId:a.id,image:t,isOpen:r,onClose:()=>{s(!1),i(null)}})]})}function Oa({profile:a}){var N,c;const{errors:r}=B().props,[s,t]=S.useState(null),i=S.useRef(null);if(!a)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center dark:border-gray-800 dark:bg-[var(--card)]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading rental profile..."})});const{data:n,setData:l,post:j,processing:u,errors:o,recentlySuccessful:x}=H({_method:"PUT",name:(a==null?void 0:a.name)||"",type:(a==null?void 0:a.type)||"house",description:(a==null?void 0:a.description)||"",price:(a==null?void 0:a.price)||"",period:(a==null?void 0:a.period)||"month",location:(a==null?void 0:a.location)||"",phone:(a==null?void 0:a.phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",rental_terms:(a==null?void 0:a.rental_terms)||"",is_active:(a==null?void 0:a.is_active)??!0,primary_image:null}),b=[{value:"house",label:"House"},{value:"equipment",label:"Equipment"},{value:"tools",label:"Tools"},{value:"land",label:"Land"},{value:"commercial",label:"Commercial"},{value:"vehicle",label:"Vehicle"},{value:"store",label:"Store"}],v=[{value:"day",label:"Per Day"},{value:"week",label:"Per Week"},{value:"month",label:"Per Month"}],g=h=>{h.preventDefault(),j(route("user.dashboard.rentals.update",a.id),{forceFormData:!0})},P=h=>{const F=h.target.files[0];if(F){l("primary_image",F);const M=new FileReader;M.onloadend=()=>{t(M.result)},M.readAsDataURL(F)}},C=((N=a==null?void 0:a.images)==null?void 0:N.find(h=>h.is_primary))||((c=a==null?void 0:a.images)==null?void 0:c[0]);return e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Primary Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsxs("div",{className:"relative h-40 w-40 cursor-pointer overflow-hidden rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 transition-colors hover:border-[var(--primary)] dark:border-gray-700 dark:bg-gray-800",onClick:()=>{var h;return(h=i.current)==null?void 0:h.click()},children:[s||C!=null&&C.image_path?e.jsx("img",{src:s||(C==null?void 0:C.image_path),alt:"Rental preview",className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center text-gray-400",children:[e.jsx(V,{className:"mb-2 h-8 w-8"}),e.jsx("span",{className:"text-xs",children:"Click to upload"})]}),e.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:P,className:"hidden"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Upload a primary image for your rental listing. This will be the main image shown in search results."}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Recommended: 800x600px, max 5MB"}),e.jsx(p,{error:o.primary_image||(r==null?void 0:r.primary_image),className:"mt-2"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"name",children:"Rental Name"}),e.jsx(f,{id:"name",value:n.name,onChange:h=>l("name",h.target.value),className:"mt-1",placeholder:"2 Bedroom Apartment in Bekwai"}),e.jsx(p,{error:o.name||(r==null?void 0:r.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"type",children:"Rental Type"}),e.jsx("select",{id:"type",value:n.type,onChange:h=>l("type",h.target.value),className:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-[var(--primary)] focus:ring-[var(--primary)] dark:border-gray-700 dark:bg-[var(--foreground)] dark:text-white",children:b.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))}),e.jsx(p,{error:o.type||(r==null?void 0:r.type),className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(m,{htmlFor:"description",children:"Description"}),e.jsx(G,{id:"description",value:n.description,onChange:h=>l("description",h.target.value),className:"mt-1",rows:4,placeholder:"Describe your rental property or item..."}),e.jsx(p,{error:o.description||(r==null?void 0:r.description),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Pricing"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"price",children:"Price (GH₵)"}),e.jsx(f,{id:"price",type:"number",step:"0.01",min:"0",value:n.price,onChange:h=>l("price",h.target.value),className:"mt-1",placeholder:"500.00"}),e.jsx(p,{error:o.price||(r==null?void 0:r.price),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"period",children:"Rental Period"}),e.jsx("select",{id:"period",value:n.period,onChange:h=>l("period",h.target.value),className:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-[var(--primary)] focus:ring-[var(--primary)] dark:border-gray-700 dark:bg-[var(--foreground)] dark:text-white",children:v.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))}),e.jsx(p,{error:o.period||(r==null?void 0:r.period),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"location",children:"Location"}),e.jsx(f,{id:"location",value:n.location,onChange:h=>l("location",h.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(p,{error:o.location||(r==null?void 0:r.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"phone",children:"Phone"}),e.jsx(f,{id:"phone",value:n.phone,onChange:h=>l("phone",h.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(p,{error:o.phone||(r==null?void 0:r.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"whatsapp",children:"WhatsApp (optional)"}),e.jsx(f,{id:"whatsapp",value:n.whatsapp,onChange:h=>l("whatsapp",h.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(p,{error:o.whatsapp||(r==null?void 0:r.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"email",children:"Email (optional)"}),e.jsx(f,{id:"email",type:"email",value:n.email,onChange:h=>l("email",h.target.value),className:"mt-1",placeholder:"contact@example.com"}),e.jsx(p,{error:o.email||(r==null?void 0:r.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Rental Terms"}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"rental_terms",children:"Terms & Conditions (optional)"}),e.jsx(G,{id:"rental_terms",value:n.rental_terms,onChange:h=>l("rental_terms",h.target.value),className:"mt-1",rows:4,placeholder:"Minimum 6 months lease, 2 months advance required, no pets allowed..."}),e.jsx(p,{error:o.rental_terms||(r==null?void 0:r.rental_terms),className:"mt-1"})]})]}),e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:n.is_active,onChange:h=>l("is_active",h.target.checked),className:"h-5 w-5 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(m,{htmlFor:"is_active",className:"cursor-pointer",children:n.is_active?"Listing is Active":"Listing is Inactive"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[x&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(k,{type:"submit",disabled:u,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:u?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4"}),"Save Profile"]})})]})]})})]})}function Ba({activeTab:a,data:r}){const s=r==null?void 0:r.profile;switch(a){case"features":return e.jsx(Ua,{profile:s});case"gallery":return e.jsx($a,{profile:s});case"profile":default:return e.jsx(Oa,{profile:s})}}function Ga({subscription:a,category:r}){const[s,t]=S.useState(!1);if(!a)return null;const{subscription_status:i,days_until_expiry:n,expires_at:l,is_expiring_soon:j,is_in_grace_period:u}=a;if(i==="active"&&!j)return null;const o=g=>g?new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",b=(()=>{if(i==="cancelled")return{icon:Q,title:"Subscription Cancelled",message:"Your subscription has been cancelled. Your profile and listings are hidden from visitors, and editing is disabled. Subscribe again to restore access.",className:"bg-gray-50 border-gray-200 text-gray-800 dark:bg-gray-900/20 dark:border-gray-700 dark:text-gray-300",iconClassName:"text-gray-600 dark:text-gray-400"};if(i==="expired")return{icon:Q,title:"Subscription Expired",message:"Your subscription has expired. Your profile and listings are no longer visible to visitors, and editing is disabled. Renew now to restore full access.",className:"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-300",iconClassName:"text-red-600 dark:text-red-400"};if(u){const g=Math.abs(n);return{icon:_e,title:"Grace Period Active",message:`Your subscription has expired. You have ${g} day${g!==1?"s":""} left in your grace period before access is deactivated. Renew now to keep your services active.`,className:"bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-300",iconClassName:"text-yellow-600 dark:text-yellow-400"}}return j&&n>0?{icon:ue,title:"Subscription Expiring Soon",message:`Your subscription expires in ${n} day${n!==1?"s":""} (${o(l)}). Renew now to avoid service interruption.`,className:"bg-orange-50 border-orange-200 text-orange-800 dark:bg-orange-900/20 dark:border-orange-800 dark:text-orange-300",iconClassName:"text-orange-600 dark:text-orange-400"}:n===0?{icon:ue,title:"Subscription Expires Today",message:"Your subscription expires today! Renew now to avoid any interruption to your services.",className:"bg-orange-50 border-orange-200 text-orange-800 dark:bg-orange-900/20 dark:border-orange-800 dark:text-orange-300",iconClassName:"text-orange-600 dark:text-orange-400"}:null})();if(!b)return null;const v=b.icon;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`mb-6 rounded-lg border p-4 ${b.className}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(v,{className:`mt-0.5 h-5 w-5 shrink-0 ${b.iconClassName}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-1 font-bold",children:b.title}),e.jsx("p",{className:"text-sm",children:b.message}),e.jsx(k,{onClick:()=>t(!0),className:"mt-3 bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",size:"sm",children:"Renew Now"})]})]})}),e.jsx(Fe,{isOpen:s,onClose:()=>t(!1),category:r,subscription:a})]})}function za({image:a,onClose:r,profile:s}){const{errors:t}=B().props,[i,n]=S.useState((a==null?void 0:a.image_path)||null),l=!!a,{data:j,setData:u,post:o,put:x,processing:b,errors:v,reset:g}=H({image:null,is_primary:(a==null?void 0:a.is_primary)||!1,transport_id:s==null?void 0:s.id}),P=c=>{const h=c.target.files[0];if(h){u("image",h);const F=new FileReader;F.onloadend=()=>{n(F.result)},F.readAsDataURL(h)}},C=()=>{u("image",null),l||n(null)},N=c=>{c.preventDefault(),l?x(route("user.dashboard.transport.images.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{g(),r()}}):o(route("user.dashboard.transport.images.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{g(),n(null),r()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--foreground)] dark:text-white",children:l?"Edit Image":"Add Image"}),e.jsx("button",{onClick:r,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(L,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"image",children:"Vehicle Image"}),e.jsx("div",{className:"mt-2",children:i?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:i,alt:"Preview",className:"h-48 w-full rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:C,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(L,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(V,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:P})]})}),e.jsx(p,{error:v.image||(t==null?void 0:t.image),className:"mt-1"})]}),!l&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_primary",checked:j.is_primary,onChange:c=>u("is_primary",c.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(m,{htmlFor:"is_primary",className:"text-sm",children:"Set as primary image"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(k,{type:"button",variant:"outline",onClick:r,disabled:b,children:"Cancel"}),e.jsx(k,{type:"submit",disabled:b,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:b?"Saving...":l?"Update":"Add Image"})]})]})]})})}function Va({profile:a}){const r=(a==null?void 0:a.images)||[],[s,t]=S.useState(!1),[i,n]=S.useState(null),l=g=>{n(g),t(!0)},j=g=>{confirm("Are you sure you want to delete this image?")&&D.delete(route("user.dashboard.transport.images.destroy",g),{preserveScroll:!0})},u=g=>{D.post(route("user.dashboard.transport.images.set-primary",g),{},{preserveScroll:!0})},o=()=>{n(null),t(!0)},x=()=>{t(!1),n(null)},b=r.find(g=>g.is_primary),v=r.filter(g=>!g.is_primary);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Vehicle Gallery"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your vehicle images and showcase your service"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Vehicle Images"}),e.jsxs(k,{onClick:o,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),b&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-4 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Primary Image"})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-lg",children:[e.jsx("img",{src:b.image_path,alt:"Primary",className:"h-64 w-full object-cover transition-transform group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>l(b),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(Z,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>j(b.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(O,{className:"h-4 w-4 text-red-600"})})]})]})]}),v.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:v.map(g=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all hover:shadow-lg dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:g.image_path,alt:"Vehicle",className:"h-full w-full object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>u(g.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Set as Primary",children:e.jsx(ee,{className:"h-4 w-4 text-yellow-400"})}),e.jsx("button",{onClick:()=>l(g),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(Z,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>j(g.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(O,{className:"h-4 w-4 text-red-600"})})]})]})},g.id))}):!b&&e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:[e.jsx($,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No images uploaded yet"}),e.jsxs(k,{onClick:o,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Add Your First Image"]})]}),s&&e.jsx(za,{image:i,onClose:x,profile:a})]})}function Wa({profile:a}){var C,N;const{errors:r}=B().props,s=((C=a==null?void 0:a.images)==null?void 0:C.find(c=>c.is_primary))||((N=a==null?void 0:a.images)==null?void 0:N[0]),[t,i]=S.useState((s==null?void 0:s.image_path)||null);if(!a||!a.id)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile..."})})});const{data:n,setData:l,post:j,processing:u,errors:o,recentlySuccessful:x}=H({_method:"PUT",driver_name:(a==null?void 0:a.driver_name)||"",type:(a==null?void 0:a.type)||"okada",description:(a==null?void 0:a.description)||"",location:(a==null?void 0:a.location)||"",phone:(a==null?void 0:a.phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",price_per_seat:(a==null?void 0:a.price_per_seat)||"",seats_available:(a==null?void 0:a.seats_available)||"",operating_hours:(a==null?void 0:a.operating_hours)||"",is_active:(a==null?void 0:a.is_active)??!0,primary_image:null}),b=[{value:"okada",label:"Okada"},{value:"car",label:"Car"},{value:"taxi",label:"Taxi"},{value:"bus",label:"Bus"},{value:"cargo",label:"Cargo"},{value:"other",label:"Other"}],v=c=>{const h=c.target.files[0];if(h){l("primary_image",h);const F=new FileReader;F.onloadend=()=>{i(F.result)},F.readAsDataURL(h)}},g=()=>{l("primary_image",null),i(null)},P=c=>{if(c.preventDefault(),!(a!=null&&a.id)){console.error("Profile ID is missing. Cannot submit form.");return}j(route("user.dashboard.transport.update",a.id),{preserveScroll:!0,forceFormData:!0})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Transport Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your transport service information"})]}),e.jsxs("form",{onSubmit:P,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Vehicle Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[t?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Vehicle",className:"h-32 w-32 rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:g,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(L,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",children:e.jsx($,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{htmlFor:"primary_image",children:"Primary Image"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500 dark:text-gray-400",children:"This image will be displayed as your vehicle/service thumbnail to visitors"}),e.jsxs("label",{htmlFor:"primary_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[var(--buame-border-light)] bg-white px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[e.jsx(V,{className:"h-4 w-4"}),t?"Change Image":"Upload Image"]}),e.jsx("input",{id:"primary_image",type:"file",className:"hidden",accept:"image/*",onChange:v}),e.jsx(p,{error:o.primary_image||(r==null?void 0:r.primary_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"driver_name",children:"Driver/Rider Name"}),e.jsx(f,{id:"driver_name",value:n.driver_name,onChange:c=>l("driver_name",c.target.value),className:"mt-1",placeholder:"Kwame Asante"}),e.jsx(p,{error:o.driver_name||(r==null?void 0:r.driver_name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"type",children:"Service Type"}),e.jsxs(Y,{value:n.type,onValueChange:c=>l("type",c),children:[e.jsx(q,{className:"mt-1",children:e.jsx(J,{placeholder:"Select service type"})}),e.jsx(K,{children:b.map(c=>e.jsx(X,{value:c.value,children:c.label},c.value))})]}),e.jsx(p,{error:o.type||(r==null?void 0:r.type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"price_per_seat",children:"Price per Seat (GH₵)"}),e.jsx(f,{id:"price_per_seat",type:"number",step:"0.01",value:n.price_per_seat,onChange:c=>l("price_per_seat",c.target.value),className:"mt-1",placeholder:"15.00"}),e.jsx(p,{error:o.price_per_seat||(r==null?void 0:r.price_per_seat),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"seats_available",children:"Seats Available"}),e.jsx(f,{id:"seats_available",type:"number",value:n.seats_available,onChange:c=>l("seats_available",c.target.value),className:"mt-1",placeholder:"4"}),e.jsx(p,{error:o.seats_available||(r==null?void 0:r.seats_available),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"About Your Service"}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"description",children:"Description"}),e.jsx(G,{id:"description",value:n.description,onChange:c=>l("description",c.target.value),className:"mt-1",rows:4,placeholder:"Describe your transport service, vehicle condition, and what makes you stand out..."}),e.jsx(p,{error:o.description||(r==null?void 0:r.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(m,{htmlFor:"location",children:"Working Location"}),e.jsx(f,{id:"location",value:n.location,onChange:c=>l("location",c.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(p,{error:o.location||(r==null?void 0:r.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"phone",children:"Phone"}),e.jsx(f,{id:"phone",value:n.phone,onChange:c=>l("phone",c.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(p,{error:o.phone||(r==null?void 0:r.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"whatsapp",children:"WhatsApp"}),e.jsx(f,{id:"whatsapp",value:n.whatsapp,onChange:c=>l("whatsapp",c.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(p,{error:o.whatsapp||(r==null?void 0:r.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"email",children:"Email"}),e.jsx(f,{id:"email",type:"email",value:n.email,onChange:c=>l("email",c.target.value),className:"mt-1",placeholder:"contact@fastokada.com"}),e.jsx(p,{error:o.email||(r==null?void 0:r.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Operating Hours"}),e.jsxs("div",{children:[e.jsx(m,{htmlFor:"operating_hours",children:"Operating Hours"}),e.jsx(f,{id:"operating_hours",value:n.operating_hours,onChange:c=>l("operating_hours",c.target.value),className:"mt-1",placeholder:"Daily: 5:00 AM - 8:00 PM"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"When are you available for rides?"}),e.jsx(p,{error:o.operating_hours||(r==null?void 0:r.operating_hours),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[x&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(k,{type:"submit",disabled:u,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:u?e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"h-4 w-4"}),"Save Profile"]})})]})]})]})}function Ya({activeSection:a,profile:r}){switch(a){case"gallery":return e.jsx(Va,{profile:r});case"profile":default:return e.jsx(Wa,{profile:r})}}function qa({user:a,children:r,activeCategory:s,activeSection:t,categoryData:i}){var x;const[n,l]=S.useState(!1),u=(()=>{if(!s)return[];switch(s){case"artisans":return[{id:"profile",label:"Profile",icon:Qe},{id:"portfolio",label:"Portfolio",icon:$}];case"hotels":return[{id:"profile",label:"Profile",icon:Xe},{id:"gallery",label:"Gallery",icon:$}];case"transport":return[{id:"profile",label:"Profile",icon:Ke},{id:"gallery",label:"Gallery",icon:$}];case"rentals":return[{id:"profile",label:"Profile",icon:xe},{id:"features",label:"Features",icon:ta},{id:"gallery",label:"Gallery",icon:$}];case"marketplace":return[{id:"store",label:"Store Settings",icon:Je},{id:"products",label:"Products",icon:te}];default:return[]}})(),o=b=>{Ie(b)};return e.jsx($e,{children:e.jsxs("div",{className:"bg-background flex h-screen w-full overflow-hidden",children:[e.jsx("aside",{className:`bg-card border-border fixed inset-y-0 left-0 z-30 w-72 transform border-r transition-transform duration-300 md:relative md:translate-x-0 ${n?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex h-full flex-col justify-between p-5",children:[e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx("div",{className:"flex flex-col gap-2 px-2",children:e.jsx(Ye,{size:"lg",className:"justify-start",href:route("user.dashboard.index")})}),u.length>0&&e.jsx("nav",{className:"flex flex-col gap-2",children:u.map(b=>{const v=b.icon,g=t===b.id;return e.jsxs("button",{onClick:()=>o(b.id),className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors ${g?"bg-primary/10 text-foreground":"text-muted-foreground hover:bg-muted"}`,children:[e.jsx(v,{className:"h-5 w-5"}),e.jsx("span",{children:b.label})]},b.id)})})]}),e.jsxs("div",{className:"border-border flex flex-col gap-2 border-t pt-4",children:[e.jsxs("div",{className:"hover:bg-muted flex items-center gap-3 rounded-lg px-2 py-2 transition-colors",children:[e.jsx("div",{className:"bg-primary/20 flex h-10 w-10 items-center justify-center rounded-full",children:e.jsx("span",{className:"text-primary text-sm font-bold",children:((x=a==null?void 0:a.name)==null?void 0:x.charAt(0).toUpperCase())||"U"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-foreground truncate text-sm font-bold",children:a==null?void 0:a.name}),e.jsx("p",{className:"text-muted-foreground truncate text-xs",children:a==null?void 0:a.phone})]})]}),e.jsxs(Me,{href:route("user.logout"),method:"post",className:"text-destructive hover:bg-destructive/10 flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors",children:[e.jsx(ia,{className:"h-5 w-5"}),e.jsx("span",{children:"Log Out"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsxs("header",{className:"border-border bg-card flex h-16 items-center justify-between border-b px-4 md:hidden",children:[e.jsx("button",{onClick:()=>l(!n),className:"text-foreground",children:n?e.jsx(L,{className:"h-6 w-6"}):e.jsx(qe,{className:"h-6 w-6"})}),e.jsx("span",{className:"text-foreground text-lg font-bold",children:"2RBUAME"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{className:"hover:bg-muted relative rounded-full p-2 transition-colors",children:[e.jsx(pe,{className:"text-muted-foreground h-5 w-5"}),e.jsx("span",{className:"bg-destructive border-card absolute top-1 right-1 h-2 w-2 rounded-full border-2"})]})})]}),e.jsxs("header",{className:"border-border bg-card hidden h-16 items-center justify-between border-b px-6 md:flex",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("h2",{className:"text-foreground text-xl font-bold",children:s?s.charAt(0).toUpperCase()+s.slice(1):"Dashboard"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"hover:bg-muted relative rounded-full p-2 transition-colors",children:[e.jsx(pe,{className:"text-muted-foreground h-5 w-5"}),e.jsx("span",{className:"bg-destructive border-card absolute top-1 right-1 h-2 w-2 rounded-full border-2"})]}),e.jsx("div",{className:"border-border bg-card flex items-center gap-3 rounded-full border px-4 py-2",children:e.jsx("span",{className:"text-foreground text-sm font-bold",children:a==null?void 0:a.name})})]})]}),e.jsx("main",{className:"flex-1 overflow-y-auto",children:r})]}),n&&e.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 md:hidden",onClick:()=>l(!1)})]})})}function Ur({user:a,paidCategories:r,unpaidCategories:s,activeCategory:t,categoryData:i,payments:n,activeSection:l="profile"}){const j=r==null?void 0:r.find(o=>o.category===t),u=()=>{if(!t)return e.jsx(ye,{categoryData:i});switch(t){case"artisans":return e.jsx(va,{activeSection:l,profile:i==null?void 0:i.profile});case"marketplace":return e.jsx(Ta,{activeTab:l||"store",data:i});case"hotels":return e.jsx(Ca,{activeSection:l,profile:i==null?void 0:i.profile});case"transport":return e.jsx(Ya,{activeSection:l,profile:i==null?void 0:i.profile});case"rentals":return e.jsx(Ba,{activeTab:l,data:i});case"jobs":return e.jsx(Fa,{activeTab:l,data:i});default:return e.jsx(ye,{categoryData:i})}};return e.jsxs(qa,{user:a,activeCategory:t,activeSection:l,categoryData:i,children:[e.jsx(De,{title:`Dashboard - ${t?t.charAt(0).toUpperCase()+t.slice(1):"2RBUAME"}`}),e.jsxs("div",{className:"mx-auto w-full max-w-[1400px] p-4 md:p-6 lg:p-8",children:[e.jsx(fa,{paidCategories:r,activeCategory:t,unpaidCategories:s}),e.jsx(Ga,{subscription:j,category:t}),u()]})]})}export{Ur as default};
