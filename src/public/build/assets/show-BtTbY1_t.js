import{j as e,r as b,$ as y,L as H,S as k}from"./app-CBU6yRsz.js";import{S as F}from"./search-C9kORol8.js";import{c as N}from"./createLucideIcon-B_ll2QSU.js";import{P as w}from"./package-fXz2_3v_.js";import{S as L}from"./store-BpxyXl0u.js";import{P as M}from"./phone-D6I8yWrl.js";import{M as S}from"./message-circle-vYosUejn.js";import{C}from"./chevron-left-BvWy9726.js";import{C as P}from"./check-3SP8CHhH.js";import{C as R}from"./copy-rBqsiXS4.js";import{M as $}from"./map-pin-BwOn_SRG.js";import{T as _}from"./truck-uHshMX0b.js";import{E as U}from"./eye-C-0ZI7u-.js";import{C as E}from"./chevron-right-CpwhGd8g.js";import{G as D}from"./grid-3x3-DY2gcmLm.js";import{X as I}from"./x-BzB0ZjHx.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],z=N("LayoutList",V);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],G=N("RefreshCw",B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],A=N("Share2",T);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],q=N("SlidersHorizontal",W);function O({hasFilters:a,onClearFilters:l,storeName:r}){return a?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-gray-200 bg-white px-6 py-16 text-center dark:border-gray-700 dark:bg-[#162816]",children:[e.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-amber-100 dark:bg-amber-900/30",children:e.jsx(F,{className:"h-10 w-10 text-amber-600 dark:text-amber-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-bold text-[#0d1b0d] dark:text-white",children:"No products match your search"}),e.jsx("p",{className:"mb-6 max-w-md text-gray-600 dark:text-gray-400",children:"We couldn't find any products matching your current filters. Try adjusting your search criteria or browse all products."}),e.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-[#13ec13] px-6 py-3 font-semibold text-[#0d1b0d] transition-all hover:bg-[#0fdc0f] hover:shadow-lg hover:shadow-[#13ec13]/25",children:[e.jsx(G,{className:"h-4 w-4"}),"Clear all filters"]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-gray-200 bg-white px-6 py-16 text-center dark:border-gray-700 dark:bg-[#162816]",children:[e.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800",children:e.jsx(w,{className:"h-10 w-10 text-gray-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-bold text-[#0d1b0d] dark:text-white",children:"No products yet"}),e.jsxs("p",{className:"max-w-md text-gray-600 dark:text-gray-400",children:[r," hasn't added any products yet. Check back later for new arrivals!"]})]})}function Q({store:a}){var t;const l=typeof window<"u"?`${window.location.origin}/store/${a.slug}`:`/store/${a.slug}`,r=()=>{var i,c;const n=`Hi! I'm interested in your products on ${a.name}`,o=((c=(i=a.user)==null?void 0:i.phone)==null?void 0:c.replace(/[^0-9]/g,""))||"";window.open(`https://wa.me/${o}?text=${encodeURIComponent(n)}`,"_blank")},x=async()=>{if(navigator.share)try{await navigator.share({title:a.name,text:`Check out ${a.name} on BUAME 2R!`,url:l})}catch(n){console.error("Share failed:",n)}else navigator.clipboard.writeText(l)};return e.jsx("footer",{className:"border-t border-gray-200 bg-white dark:border-gray-800 dark:bg-[#0d1b0d]",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col items-center gap-6 text-center md:flex-row md:justify-between md:text-left",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-[#13ec13] to-[#0fdc0f]",children:e.jsx(L,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-[#0d1b0d] dark:text-white",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Powered by BUAME 2R"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[((t=a.user)==null?void 0:t.phone)&&e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:`tel:${a.user.phone}`,className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-gray-700 transition-all hover:border-[#13ec13] hover:bg-[#13ec13]/10 dark:border-gray-700 dark:bg-[#162816] dark:text-gray-300",children:[e.jsx(M,{className:"h-4 w-4"}),"Call Store"]}),e.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-lg bg-[#25D366] px-4 py-2 text-sm font-medium text-white transition-all hover:bg-[#20bd5a]",children:[e.jsx(S,{className:"h-4 w-4"}),"WhatsApp"]})]}),e.jsxs("button",{onClick:x,className:"flex items-center gap-2 rounded-lg bg-[#13ec13] px-4 py-2 text-sm font-medium text-[#0d1b0d] transition-all hover:bg-[#0fdc0f]",children:[e.jsx(A,{className:"h-4 w-4"}),"Share Store"]})]})]}),e.jsx("div",{className:"mt-6 border-t border-gray-200 pt-6 text-center dark:border-gray-800",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Want your own online store?"," ",e.jsx("a",{href:"/",className:"font-semibold text-[#13ec13] hover:underline",children:"Create one on BUAME 2R"})]})})]})})}function X({store:a}){var m,d;const[l,r]=b.useState(!1),[x,t]=b.useState(!1),n=typeof window<"u"?`${window.location.origin}/store/${a.slug}`:`/store/${a.slug}`,o=async()=>{try{await navigator.clipboard.writeText(n),r(!0),setTimeout(()=>r(!1),2e3)}catch(h){console.error("Failed to copy:",h)}},i=()=>{const h=`Check out ${a.name} on BUAME 2R! ${n}`;window.open(`https://wa.me/?text=${encodeURIComponent(h)}`,"_blank")},c=async()=>{if(navigator.share)try{await navigator.share({title:a.name,text:`Check out ${a.name} on BUAME 2R!`,url:n})}catch(h){console.error("Share failed:",h)}else t(!x)};return e.jsx("header",{className:"sticky top-0 z-50 border-b border-gray-200 bg-white/95 backdrop-blur-sm dark:border-gray-800 dark:bg-[#0d1b0d]/95",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(y,{href:route("marketplace"),className:"flex h-9 w-9 items-center justify-center rounded-full bg-gray-100 text-gray-600 transition-colors hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700",children:e.jsx(C,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-[#13ec13] to-[#0fdc0f]",children:e.jsx(L,{className:"h-4 w-4 text-white"})}),e.jsx("span",{className:"font-bold text-[#0d1b0d] dark:text-white",children:a.name})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[((m=a.user)==null?void 0:m.phone)&&e.jsx("a",{href:`tel:${a.user.phone}`,className:"flex h-9 w-9 items-center justify-center rounded-full bg-gray-100 text-gray-600 transition-colors hover:bg-[#13ec13]/10 hover:text-[#13ec13] dark:bg-gray-800 dark:text-gray-400",title:"Call store",children:e.jsx(M,{className:"h-4 w-4"})}),((d=a.user)==null?void 0:d.phone)&&e.jsx("a",{href:`https://wa.me/${a.user.phone.replace(/[^0-9]/g,"")}?text=Hi! I'm interested in your products on ${a.name}`,target:"_blank",rel:"noopener noreferrer",className:"flex h-9 w-9 items-center justify-center rounded-full bg-[#25D366]/10 text-[#25D366] transition-colors hover:bg-[#25D366]/20",title:"Chat on WhatsApp",children:e.jsx(S,{className:"h-4 w-4"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:c,className:"flex h-9 items-center gap-2 rounded-full bg-[#13ec13] px-4 font-semibold text-[#0d1b0d] transition-colors hover:bg-[#0fdc0f]",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),x&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-lg dark:border-gray-700 dark:bg-[#162816]",children:[e.jsxs("button",{onClick:o,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-800",children:[l?e.jsx(P,{className:"h-4 w-4 text-[#13ec13]"}):e.jsx(R,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"dark:text-white",children:l?"Copied!":"Copy link"})]}),e.jsxs("button",{onClick:i,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-800",children:[e.jsx(S,{className:"h-4 w-4 text-[#25D366]"}),e.jsx("span",{className:"dark:text-white",children:"Share on WhatsApp"})]})]})]})]})]})})})}function Z({store:a,productCount:l}){var c;const[r,x]=b.useState(!1),t=m=>m.split(" ").map(d=>d[0]).join("").substring(0,2).toUpperCase(),o=(m=>{const d=[{bg:"bg-emerald-600",text:"text-emerald-600"},{bg:"bg-teal-600",text:"text-teal-600"},{bg:"bg-green-600",text:"text-green-600"},{bg:"bg-cyan-600",text:"text-cyan-600"},{bg:"bg-lime-600",text:"text-lime-600"}],h=m.charCodeAt(0)%d.length;return d[h]})(a.name),i=a.thumbnail&&!r;return e.jsxs("div",{className:"relative border-b border-gray-200 bg-white dark:border-gray-800 dark:bg-[#0d1b0d]",children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.02] dark:opacity-[0.05]",children:e.jsx("div",{className:"h-full w-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),e.jsx("div",{className:"relative mx-auto max-w-7xl px-4 py-10 md:py-14",children:e.jsxs("div",{className:"flex flex-col items-center gap-6 md:flex-row md:items-center md:gap-8",children:[e.jsx("div",{className:"shrink-0",children:i?e.jsx("div",{className:"h-28 w-28 overflow-hidden rounded-2xl border-4 border-white shadow-lg dark:border-gray-800 md:h-36 md:w-36",children:e.jsx("img",{src:a.thumbnail,alt:a.name,className:"h-full w-full object-cover",onError:()=>x(!0)})}):e.jsx("div",{className:`flex h-28 w-28 items-center justify-center rounded-2xl border-4 border-white shadow-lg dark:border-gray-800 md:h-36 md:w-36 ${o.bg}`,children:e.jsx("span",{className:"text-4xl font-black text-white md:text-5xl",children:t(a.name)})})}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("div",{className:"mb-1 flex items-center justify-center gap-2 md:justify-start",children:e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),"Open"]})}),e.jsx("h1",{className:"mb-2 text-2xl font-black text-[#0d1b0d] md:text-3xl lg:text-4xl dark:text-white",children:a.name}),a.description&&e.jsx("p",{className:"mb-4 max-w-xl text-gray-600 dark:text-gray-400",children:a.description}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 md:justify-start",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[l," ",l===1?"product":"products"]})]}),((c=a.user)==null?void 0:c.name)&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:"â€¢"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Sold by ",e.jsx("span",{className:"font-medium text-[#0d1b0d] dark:text-white",children:a.user.name})]})]})]})]})]})})]})}function J({product:a,viewMode:l="grid"}){const[r,x]=b.useState(!1),[t,n]=b.useState(!1),o=d=>({electronics:"Electronics",furniture:"Furniture",food:"Food",agriculture:"Agriculture",clothes:"Clothes",others:"Others"})[d]||d,i=d=>({new:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",like_new:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",used:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",refurbished:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"})[d]||"bg-gray-100 text-gray-700",c=d=>({new:"New",like_new:"Like New",used:"Used",refurbished:"Refurbished"})[d]||"",m=d=>new Intl.NumberFormat("en-GH",{minimumFractionDigits:0,maximumFractionDigits:2}).format(d);return l==="list"?e.jsxs(y,{href:route("marketplace.view",a.id),className:"group flex gap-4 rounded-2xl border border-gray-200 bg-white p-4 transition-all hover:border-[#13ec13]/50 hover:shadow-lg dark:border-gray-800 dark:bg-[#162816] dark:hover:border-[#13ec13]/50",children:[e.jsxs("div",{className:"relative h-32 w-32 shrink-0 overflow-hidden rounded-xl bg-gray-100 dark:bg-gray-900",children:[a.image?e.jsxs(e.Fragment,{children:[!t&&e.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-200 dark:bg-gray-800"}),e.jsx("img",{src:a.image,alt:a.title,className:`h-full w-full object-cover transition-all duration-300 group-hover:scale-105 ${t?"opacity-100":"opacity-0"}`,onLoad:()=>n(!0)})]}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(w,{className:"h-10 w-10 text-gray-400"})}),a.condition&&e.jsx("span",{className:`absolute left-2 top-2 rounded-full px-2 py-0.5 text-xs font-semibold ${i(a.condition)}`,children:c(a.condition)})]}),e.jsxs("div",{className:"flex flex-1 flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 flex items-start justify-between gap-2",children:e.jsx("h3",{className:"font-bold text-[#0d1b0d] transition-colors group-hover:text-[#13ec13] dark:text-white",children:a.title})}),e.jsx("p",{className:"mb-2 text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400",children:o(a.category)})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-xl font-black text-[#13ec13]",children:["GHâ‚µ ",m(a.price)]}),a.price_type&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/",a.price_type]})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($,{className:"h-3 w-3"}),a.location]}),a.delivery_available&&e.jsxs("span",{className:"flex items-center gap-1 text-[#13ec13]",children:[e.jsx(_,{className:"h-3 w-3"}),"Delivery"]})]})]}),e.jsx("span",{className:"rounded-lg bg-[#13ec13]/10 px-3 py-1.5 text-sm font-semibold text-[#0d1b0d] transition-colors group-hover:bg-[#13ec13] dark:text-white",children:"View Details"})]})]})]}):e.jsxs(y,{href:route("marketplace.view",a.id),className:"group relative flex flex-col overflow-hidden rounded-2xl border border-gray-200 bg-white transition-all hover:border-[#13ec13]/50 hover:shadow-xl dark:border-gray-800 dark:bg-[#162816] dark:hover:border-[#13ec13]/50",onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-100 dark:bg-gray-900",children:[a.image?e.jsxs(e.Fragment,{children:[!t&&e.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-200 dark:bg-gray-800"}),e.jsx("img",{src:a.image,alt:a.title,className:`h-full w-full object-cover transition-all duration-500 group-hover:scale-110 ${t?"opacity-100":"opacity-0"}`,onLoad:()=>n(!0)})]}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(w,{className:"h-16 w-16 text-gray-400"})}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`}),e.jsxs("div",{className:"absolute left-3 top-3 flex flex-col gap-2",children:[a.condition&&e.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold shadow-sm ${i(a.condition)}`,children:c(a.condition)}),a.delivery_available&&e.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-[#13ec13] px-2.5 py-1 text-xs font-semibold text-[#0d1b0d] shadow-sm",children:[e.jsx(_,{className:"h-3 w-3"}),"Delivery"]})]}),e.jsx("div",{className:`absolute bottom-3 left-3 right-3 transition-all duration-300 ${r?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:e.jsxs("span",{className:"flex w-full items-center justify-center gap-2 rounded-xl bg-white py-2.5 font-semibold text-[#0d1b0d] shadow-lg transition-colors hover:bg-[#13ec13]",children:[e.jsx(U,{className:"h-4 w-4"}),"Quick View"]})})]}),e.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-[#13ec13]",children:o(a.category)}),e.jsx("h3",{className:"line-clamp-2 font-bold text-[#0d1b0d] transition-colors group-hover:text-[#13ec13] dark:text-white",children:a.title})]}),e.jsxs("div",{className:"mt-auto",children:[e.jsxs("div",{className:"mb-2 flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-2xl font-black text-[#0d1b0d] dark:text-white",children:["GHâ‚µ ",m(a.price)]}),a.price_type&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/",a.price_type]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx($,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:a.location})]})]})]})]})}function K({products:a,viewMode:l}){return e.jsxs("div",{children:[e.jsx("div",{className:l==="grid"?"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"flex flex-col gap-4",children:a.data.map(r=>e.jsx(J,{product:r,viewMode:l},r.id))}),a.last_page>1&&e.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",e.jsx("span",{className:"font-semibold",children:a.from})," to"," ",e.jsx("span",{className:"font-semibold",children:a.to})," of"," ",e.jsx("span",{className:"font-semibold",children:a.total})," products"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[a.prev_page_url?e.jsxs(y,{href:a.prev_page_url,className:"flex h-10 items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 text-sm font-medium text-gray-700 transition-all hover:border-[#13ec13] hover:bg-[#13ec13]/10 dark:border-gray-700 dark:bg-[#162816] dark:text-gray-300",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}):e.jsxs("span",{className:"flex h-10 cursor-not-allowed items-center gap-1 rounded-lg border border-gray-100 bg-gray-50 px-3 text-sm font-medium text-gray-400 dark:border-gray-800 dark:bg-[#0d1b0d]",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),e.jsx("div",{className:"flex items-center gap-1",children:a.links.slice(1,-1).map((r,x)=>{const t=x+1,n=a.current_page,o=a.last_page,i=t===1||t===o||Math.abs(t-n)<=1,c=t===2&&n>3,m=t===o-1&&n<o-2;return!i&&!c&&!m?null:c&&t===2||m&&t===o-1?e.jsx("span",{className:"px-2 text-gray-400",children:"..."},x):r.url===null?null:e.jsx(y,{href:r.url,className:`flex h-10 w-10 items-center justify-center rounded-lg text-sm font-semibold transition-all ${r.active?"bg-[#13ec13] text-[#0d1b0d] shadow-md shadow-[#13ec13]/25":"border border-gray-200 bg-white text-gray-700 hover:border-[#13ec13] hover:bg-[#13ec13]/10 dark:border-gray-700 dark:bg-[#162816] dark:text-gray-300"}`,children:r.label},x)})}),a.next_page_url?e.jsxs(y,{href:a.next_page_url,className:"flex h-10 items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 text-sm font-medium text-gray-700 transition-all hover:border-[#13ec13] hover:bg-[#13ec13]/10 dark:border-gray-700 dark:bg-[#162816] dark:text-gray-300",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx(E,{className:"h-4 w-4"})]}):e.jsxs("span",{className:"flex h-10 cursor-not-allowed items-center gap-1 rounded-lg border border-gray-100 bg-gray-50 px-3 text-sm font-medium text-gray-400 dark:border-gray-800 dark:bg-[#0d1b0d]",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx(E,{className:"h-4 w-4"})]})]})]})]})}function Y({searchQuery:a,setSearchQuery:l,location:r,setLocation:x,filters:t,categoryCounts:n,onSearch:o,onFilterChange:i,onClearFilters:c,viewMode:m,setViewMode:d}){const[h,v]=b.useState(!1),p=[{value:"electronics",label:"Electronics",icon:"ðŸ“±"},{value:"furniture",label:"Furniture",icon:"ðŸª‘"},{value:"food",label:"Food",icon:"ðŸŽ"},{value:"agriculture",label:"Agriculture",icon:"ðŸŒ¾"},{value:"clothes",label:"Clothes",icon:"ðŸ‘•"},{value:"others",label:"Others",icon:"ðŸ“¦"}],f=[{value:"newest",label:"Newest First"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"},{value:"name",label:"Name: A to Z"}],j=(t==null?void 0:t.category)||(t==null?void 0:t.sort)||a||r;return e.jsx("div",{className:"sticky top-[57px] z-40 border-b border-gray-200 bg-white/95 backdrop-blur-sm dark:border-gray-800 dark:bg-[#0d1b0d]/95",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-4",children:[e.jsxs("form",{onSubmit:o,className:"flex flex-col gap-3 md:flex-row",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(F,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:a,onChange:s=>l(s.target.value),placeholder:"Search products in this store...",className:"w-full rounded-xl border border-gray-200 bg-gray-50 py-3 pl-12 pr-4 text-sm transition-colors focus:border-[#13ec13] focus:bg-white focus:ring-2 focus:ring-[#13ec13]/20 focus:outline-none dark:border-gray-700 dark:bg-[#162816] dark:text-white dark:focus:bg-[#1a3a1a]"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 md:w-40 md:flex-none",children:[e.jsx($,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:r,onChange:s=>x(s.target.value),placeholder:"Location",className:"w-full rounded-xl border border-gray-200 bg-gray-50 py-3 pl-10 pr-4 text-sm transition-colors focus:border-[#13ec13] focus:bg-white focus:ring-2 focus:ring-[#13ec13]/20 focus:outline-none dark:border-gray-700 dark:bg-[#162816] dark:text-white"})]}),e.jsx("button",{type:"submit",className:"rounded-xl bg-[#13ec13] px-6 py-3 font-semibold text-[#0d1b0d] transition-all hover:bg-[#0fdc0f] hover:shadow-lg hover:shadow-[#13ec13]/25",children:"Search"}),e.jsxs("button",{type:"button",onClick:()=>v(!h),className:`flex items-center gap-2 rounded-xl border px-4 py-3 font-semibold transition-all ${h||j?"border-[#13ec13] bg-[#13ec13]/10 text-[#0d1b0d] dark:text-white":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 dark:border-gray-700 dark:bg-[#162816] dark:text-gray-400"}`,children:[e.jsx(q,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Filters"}),j&&e.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-[#13ec13] text-xs font-bold text-[#0d1b0d]",children:"!"})]})]})]}),h&&e.jsxs("div",{className:"mt-4 rounded-xl border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-[#162816]",children:[e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Categories"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(s=>{const g=(n==null?void 0:n[s.value])||0,u=(t==null?void 0:t.category)===s.value;return e.jsxs("button",{onClick:()=>i("category",u?null:s.value),className:`flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all ${u?"bg-[#13ec13] text-[#0d1b0d] shadow-md":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-[#0d1b0d] dark:text-gray-300 dark:hover:bg-gray-800"}`,children:[e.jsx("span",{children:s.icon}),e.jsx("span",{children:s.label}),g>0&&e.jsx("span",{className:`rounded-full px-1.5 py-0.5 text-xs ${u?"bg-[#0d1b0d]/20 text-[#0d1b0d]":"bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:g})]},s.value)})})]}),e.jsxs("div",{className:"flex flex-col gap-4 md:w-64",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Sort By"}),e.jsx("select",{value:(t==null?void 0:t.sort)||"newest",onChange:s=>i("sort",s.target.value),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-[#13ec13] focus:ring-2 focus:ring-[#13ec13]/20 focus:outline-none dark:border-gray-700 dark:bg-[#0d1b0d] dark:text-white",children:f.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"View"}),e.jsxs("div",{className:"flex rounded-lg border border-gray-200 bg-white p-1 dark:border-gray-700 dark:bg-[#0d1b0d]",children:[e.jsxs("button",{onClick:()=>d("grid"),className:`flex flex-1 items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium transition-all ${m==="grid"?"bg-[#13ec13] text-[#0d1b0d]":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"}`,children:[e.jsx(D,{className:"h-4 w-4"}),"Grid"]}),e.jsxs("button",{onClick:()=>d("list"),className:`flex flex-1 items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium transition-all ${m==="list"?"bg-[#13ec13] text-[#0d1b0d]":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"}`,children:[e.jsx(z,{className:"h-4 w-4"}),"List"]})]})]})]})]}),j&&e.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4 dark:border-gray-700",children:e.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-sm font-medium text-red-600 transition-colors hover:text-red-700",children:[e.jsx(I,{className:"h-4 w-4"}),"Clear all filters"]})})]}),!h&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 overflow-x-auto pb-1",children:[e.jsx("span",{className:"shrink-0 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Quick:"}),p.map(s=>{const g=(n==null?void 0:n[s.value])||0;if(g===0)return null;const u=(t==null?void 0:t.category)===s.value;return e.jsxs("button",{onClick:()=>i("category",u?null:s.value),className:`flex shrink-0 items-center gap-1.5 rounded-full px-3 py-1.5 text-xs font-medium transition-all ${u?"bg-[#13ec13] text-[#0d1b0d]":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:[e.jsx("span",{children:s.icon}),e.jsx("span",{children:s.label}),e.jsxs("span",{className:"opacity-60",children:["(",g,")"]})]},s.value)})]})]})})}function ue({store:a,products:l,filters:r,categoryCounts:x}){const[t,n]=b.useState((r==null?void 0:r.search)||""),[o,i]=b.useState((r==null?void 0:r.location)||""),[c,m]=b.useState("grid"),d=s=>{s.preventDefault(),k.get(route("store.show",a.slug),{search:t||void 0,location:o||void 0,category:r==null?void 0:r.category,sort:r==null?void 0:r.sort},{preserveState:!0,preserveScroll:!0})},h=(s,g)=>{k.get(route("store.show",a.slug),{search:t||void 0,location:o||void 0,[s]:g==="all"||g==="newest"?void 0:g,...s!=="category"&&(r==null?void 0:r.category)&&{category:r.category},...s!=="sort"&&(r==null?void 0:r.sort)&&r.sort!=="newest"&&{sort:r.sort}},{preserveState:!0,preserveScroll:!0})},v=()=>{n(""),i(""),k.get(route("store.show",a.slug),{},{preserveState:!0,preserveScroll:!0})},p=(r==null?void 0:r.category)||(r==null?void 0:r.sort)||t||o,f=(l==null?void 0:l.total)||0,j=(l==null?void 0:l.data)&&l.data.length>0;return e.jsxs("div",{className:"min-h-screen bg-[#f6f8f6] dark:bg-[#102210]",children:[e.jsx(H,{title:`${a.name} | BUAME 2R`}),e.jsx(X,{store:a}),e.jsx(Z,{store:a,productCount:f}),e.jsx(Y,{searchQuery:t,setSearchQuery:n,location:o,setLocation:i,filters:r,categoryCounts:x,onSearch:d,onFilterChange:h,onClearFilters:v,viewMode:c,setViewMode:m}),e.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-8",children:[e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsxs("h2",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:[p?"Search Results":"All Products",e.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",f," ",f===1?"item":"items",")"]})]})}),j?e.jsx(K,{products:l,viewMode:c}):e.jsx(O,{hasFilters:p,onClearFilters:v,storeName:a.name})]}),e.jsx(Q,{store:a})]})}export{ue as default};
