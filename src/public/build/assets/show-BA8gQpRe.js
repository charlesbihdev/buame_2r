import{j as e,r as b,$ as f,L as V,S as C}from"./app-BahYHO89.js";import{R as D}from"./review-section-DD3P4iaZ.js";import{C as G}from"./caution-banner-XSCs1p4t.js";import{V as F}from"./video-embed-DmNw1e3p.js";import{S as R}from"./search-DPtG06is.js";import{R as T}from"./refresh-cw-BwjZuriC.js";import{P as N}from"./package-SlQ2-c5T.js";import{S as H}from"./store-CjGuYCGx.js";import{P}from"./phone-DOdiF4e-.js";import{M as $}from"./message-circle-BkDKDdqN.js";import{S as U}from"./share-2-DW8d8k9r.js";import{C as _}from"./chevron-left-GfXQU5X0.js";import{C as z}from"./check-1iMGSydr.js";import{C as W}from"./copy-FfVsHqk2.js";import{M as E}from"./map-pin-KESgJTOw.js";import{T as L}from"./truck-C8qGP2s5.js";import{E as O}from"./eye-BnUmpV-b.js";import{C as B}from"./chevron-right-sTHNrTtP.js";import{S as Q}from"./sliders-horizontal-CsyMAaNr.js";import{G as q}from"./grid-3x3-CPtE15QU.js";import{c as K}from"./createLucideIcon-DJ63LDcK.js";import{X}from"./x-3J_FlUYp.js";import{A as Z}from"./arrow-left-DKUI1TVA.js";import"./button-DJ7986ST.js";import"./star-BaFtHLv7.js";import"./input-BKdPi7Pg.js";import"./label-CB3Dd6F5.js";import"./index-Crgxq2oX.js";import"./textarea-OgxlcFZ9.js";import"./camera-CeLL_lpz.js";import"./loader-circle-BTxZMNTK.js";import"./message-square-DuVzRQ8l.js";import"./index-CtrEU7yf.js";import"./chevron-down-BsCxxuTR.js";import"./shield-check-COXSbMsJ.js";import"./chevron-up-DxjIHR5T.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],Y=K("LayoutList",J);function ee({hasFilters:r,onClearFilters:s,storeName:a}){return r?e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-gray-200 bg-white px-6 py-16 text-center dark:border-gray-700 dark:bg-[var(--card)]",children:[e.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-amber-100 dark:bg-amber-900/30",children:e.jsx(R,{className:"h-10 w-10 text-amber-600 dark:text-amber-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-bold text-[var(--foreground)] dark:text-white",children:"No products match your search"}),e.jsx("p",{className:"mb-6 max-w-md text-gray-600 dark:text-gray-400",children:"We couldn't find any products matching your current filters. Try adjusting your search criteria or browse all products."}),e.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-[var(--primary)] px-6 py-3 font-semibold text-[var(--primary-foreground)] transition-all hover:bg-[var(--buame-primary-dark)] hover:shadow-lg hover:shadow-[var(--primary)]/25",children:[e.jsx(T,{className:"h-4 w-4"}),"Clear all filters"]})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center rounded-2xl border-2 border-dashed border-gray-200 bg-white px-6 py-16 text-center dark:border-gray-700 dark:bg-[var(--card)]",children:[e.jsx("div",{className:"mb-4 flex h-20 w-20 items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800",children:e.jsx(N,{className:"h-10 w-10 text-gray-400"})}),e.jsx("h3",{className:"mb-2 text-xl font-bold text-[var(--foreground)] dark:text-white",children:"No products yet"}),e.jsxs("p",{className:"max-w-md text-gray-600 dark:text-gray-400",children:[a," hasn't added any products yet. Check back later for new arrivals!"]})]})}function re({store:r}){var t;const s=typeof window<"u"?`${window.location.origin}/store/${r.slug}`:`/store/${r.slug}`,a=()=>{var g,i;const o=`Hi! I'm interested in your products on ${r.name}`,x=((i=(g=r.user)==null?void 0:g.phone)==null?void 0:i.replace(/[^0-9]/g,""))||"";window.open(`https://wa.me/${x}?text=${encodeURIComponent(o)}`,"_blank")},m=async()=>{if(navigator.share)try{await navigator.share({title:r.name,text:`Check out ${r.name} on 2RBUAME!`,url:s})}catch(o){console.error("Share failed:",o)}else navigator.clipboard.writeText(s)};return e.jsx("footer",{className:"border-t border-gray-200 bg-white dark:border-gray-800 dark:bg-background-dark",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col items-center gap-6 text-center md:flex-row md:justify-between md:text-left",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-primary to-primary-dark",children:e.jsx(H,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-foreground dark:text-white",children:r.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Powered by 2RBUAME"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[((t=r.user)==null?void 0:t.phone)&&e.jsxs(e.Fragment,{children:[e.jsxs("a",{href:`tel:${r.user.phone}`,className:"flex items-center gap-2 rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm font-medium text-gray-700 transition-all hover:border-primary hover:bg-primary/10 dark:border-gray-700 dark:bg-card dark:text-gray-300",children:[e.jsx(P,{className:"h-4 w-4"}),"Call Store"]}),e.jsxs("button",{onClick:a,className:"flex items-center gap-2 rounded-lg bg-[#25D366] px-4 py-2 text-sm font-medium text-white transition-all hover:bg-[#20bd5a]",children:[e.jsx($,{className:"h-4 w-4"}),"WhatsApp"]})]}),e.jsxs("button",{onClick:m,className:"flex items-center gap-2 rounded-lg bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-all hover:bg-primary-dark",children:[e.jsx(U,{className:"h-4 w-4"}),"Share Store"]})]})]}),e.jsx("div",{className:"mt-6 border-t border-gray-200 pt-6 text-center dark:border-gray-800",children:e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Want your own online store?"," ",e.jsx("a",{href:"/",className:"font-semibold text-primary hover:underline",children:"Create one on 2RBUAME"})]})})]})})}function ae({store:r}){var d,n;const[s,a]=b.useState(!1),[m,t]=b.useState(!1),o=typeof window<"u"?`${window.location.origin}/store/${r.slug}`:`/store/${r.slug}`,x=async()=>{try{await navigator.clipboard.writeText(o),a(!0),setTimeout(()=>a(!1),2e3)}catch(c){console.error("Failed to copy:",c)}},g=()=>{const c=`Check out ${r.name} on 2RBUAME! ${o}`;window.open(`https://wa.me/?text=${encodeURIComponent(c)}`,"_blank")},i=async()=>{if(navigator.share)try{await navigator.share({title:r.name,text:`Check out ${r.name} on 2RBUAME!`,url:o})}catch(c){console.error("Share failed:",c)}else t(!m)};return e.jsx("header",{className:"sticky top-0 z-50 border-b border-gray-200 bg-white/95 backdrop-blur-sm dark:border-gray-800 dark:bg-[var(--buame-background-dark)]/95",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(f,{href:route("marketplace"),className:"flex h-9 w-9 items-center justify-center rounded-full bg-gray-100 text-gray-600 transition-colors hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700",children:e.jsx(_,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-gradient-to-br from-[var(--primary)] to-[var(--buame-primary-dark)]",children:e.jsx(H,{className:"h-4 w-4 text-white"})}),e.jsx("span",{className:"font-bold text-[var(--foreground)] dark:text-white",children:r.name})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[((d=r.user)==null?void 0:d.phone)&&e.jsx("a",{href:`tel:${r.user.phone}`,className:"flex h-9 w-9 items-center justify-center rounded-full bg-gray-100 text-gray-600 transition-colors hover:bg-[var(--primary)]/10 hover:text-[var(--primary)] dark:bg-gray-800 dark:text-gray-400",title:"Call store",children:e.jsx(P,{className:"h-4 w-4"})}),((n=r.user)==null?void 0:n.phone)&&e.jsx("a",{href:`https://wa.me/${r.user.phone.replace(/[^0-9]/g,"")}?text=Hi! I'm interested in your products on ${r.name}`,target:"_blank",rel:"noopener noreferrer",className:"flex h-9 w-9 items-center justify-center rounded-full bg-[#25D366]/10 text-[#25D366] transition-colors hover:bg-[#25D366]/20",title:"Chat on WhatsApp",children:e.jsx($,{className:"h-4 w-4"})}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:i,className:"flex h-9 items-center gap-2 rounded-full bg-[var(--primary)] px-4 font-semibold text-[var(--primary-foreground)] transition-colors hover:bg-[var(--buame-primary-dark)]",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),m&&e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 rounded-xl border border-gray-200 bg-white p-2 shadow-lg dark:border-gray-700 dark:bg-[var(--card)]",children:[e.jsxs("button",{onClick:x,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-800",children:[s?e.jsx(z,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(W,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"dark:text-white",children:s?"Copied!":"Copy link"})]}),e.jsxs("button",{onClick:g,className:"flex w-full items-center gap-3 rounded-lg px-3 py-2 text-left text-sm transition-colors hover:bg-gray-100 dark:hover:bg-gray-800",children:[e.jsx($,{className:"h-4 w-4 text-[#25D366]"}),e.jsx("span",{className:"dark:text-white",children:"Share on WhatsApp"})]})]})]})]})]})})})}function te({store:r,productCount:s}){var i;const[a,m]=b.useState(!1),t=d=>d.split(" ").map(n=>n[0]).join("").substring(0,2).toUpperCase(),x=(d=>{const n=[{bg:"bg-emerald-600",text:"text-emerald-600"},{bg:"bg-teal-600",text:"text-teal-600"},{bg:"bg-green-600",text:"text-green-600"},{bg:"bg-cyan-600",text:"text-cyan-600"},{bg:"bg-lime-600",text:"text-lime-600"}],c=d.charCodeAt(0)%n.length;return n[c]})(r.name),g=r.thumbnail&&!a;return e.jsxs("div",{className:"dark:bg-background-dark relative border-b border-gray-200 bg-white dark:border-gray-800",children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.02] dark:opacity-[0.05]",children:e.jsx("div",{className:"h-full w-full",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23000000' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),e.jsx("div",{className:"relative mx-auto max-w-7xl px-4 py-10 md:py-14",children:e.jsxs("div",{className:"flex flex-col items-center gap-6 md:flex-row md:items-center md:gap-8",children:[e.jsx("div",{className:"shrink-0",children:g?e.jsx("div",{className:"h-28 w-28 overflow-hidden rounded-2xl border-4 border-white shadow-lg md:h-36 md:w-36 dark:border-gray-800",children:e.jsx("img",{src:r.thumbnail,alt:r.name,className:"h-full w-full object-cover",onError:()=>m(!0)})}):e.jsx("div",{className:`flex h-28 w-28 items-center justify-center rounded-2xl border-4 border-white shadow-lg md:h-36 md:w-36 dark:border-gray-800 ${x.bg}`,children:e.jsx("span",{className:"text-4xl font-black text-white md:text-5xl",children:t(r.name)})})}),e.jsxs("div",{className:"flex-1 text-center md:text-left",children:[e.jsx("div",{className:"mb-1 flex items-center justify-center gap-2 md:justify-start",children:e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-green-100 px-2.5 py-0.5 text-xs font-medium text-green-700 dark:bg-green-900/30 dark:text-green-400",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-green-500"}),"Open"]})}),e.jsx("h1",{className:"text-foreground mb-2 text-2xl font-black md:text-3xl lg:text-4xl dark:text-white",children:r.name}),r.description&&e.jsx("p",{className:"mb-4 max-w-xl text-gray-600 dark:text-gray-400",children:r.description}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 md:justify-start",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsxs("span",{className:"font-medium",children:[s," ",s===1?"product":"products"]})]}),((i=r.user)==null?void 0:i.name)&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:"â€¢"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Sold by ",e.jsx("span",{className:"text-foreground font-medium dark:text-white",children:r.user.name})]})]})]})]})]})})]})}function se({product:r,viewMode:s="grid"}){const[a,m]=b.useState(!1),[t,o]=b.useState(!1),x=n=>({mobile_phones:"Mobile Phones & Accessories",electronics:"Electronics & Appliances",computers:"Computers & Laptops",fashion:"Fashion & Apparel",footwear:"Footwear",health_beauty:"Health & Beauty",groceries:"Groceries & Food Items",home_living:"Home & Living",baby_kids:"Baby & Kids",sports_outdoor:"Sports & Outdoor",automotive:"Automotive",books_stationery:"Books & Stationery",building_hardware:"Building & Hardware",agriculture:"Agriculture & Farm Supplies",pet_supplies:"Pet Supplies",gifts:"Gifts & Occasion Items",others:"Others"})[n]||n,g=n=>({new:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",like_new:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",used:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",refurbished:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400"})[n]||"bg-gray-100 text-gray-700",i=n=>({new:"New",like_new:"Like New",used:"Used",refurbished:"Refurbished"})[n]||"",d=n=>new Intl.NumberFormat("en-GH",{minimumFractionDigits:0,maximumFractionDigits:2}).format(n);return s==="list"?e.jsxs(f,{href:route("marketplace.view",r.id),className:"group flex gap-4 rounded-2xl border border-gray-200 bg-white p-4 transition-all hover:border-[var(--primary)]/50 hover:shadow-lg dark:border-gray-800 dark:bg-[var(--card)] dark:hover:border-[var(--primary)]/50",children:[e.jsxs("div",{className:"relative h-32 w-32 shrink-0 overflow-hidden rounded-xl bg-gray-100 dark:bg-gray-900",children:[r.image?e.jsxs(e.Fragment,{children:[!t&&e.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-200 dark:bg-gray-800"}),e.jsx("img",{src:r.image,alt:r.title,className:`h-full w-full object-cover transition-all duration-300 group-hover:scale-105 ${t?"opacity-100":"opacity-0"}`,onLoad:()=>o(!0)})]}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(N,{className:"h-10 w-10 text-gray-400"})}),r.condition&&e.jsx("span",{className:`absolute left-2 top-2 rounded-full px-2 py-0.5 text-xs font-semibold ${g(r.condition)}`,children:i(r.condition)})]}),e.jsxs("div",{className:"flex flex-1 flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 flex items-start justify-between gap-2",children:e.jsx("h3",{className:"font-bold text-[var(--foreground)] transition-colors group-hover:text-[var(--primary)] dark:text-white",children:r.title})}),e.jsx("p",{className:"mb-2 text-xs font-medium uppercase tracking-wide text-gray-500 dark:text-gray-400",children:x(r.category)})]}),e.jsxs("div",{className:"flex items-end justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-xl font-black text-[var(--primary)]",children:r.price!==null?`GHâ‚µ ${d(r.price)}`:"Contact for price"}),r.price!==null&&r.price_type&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/",r.price_type]})]}),e.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(E,{className:"h-3 w-3"}),r.location]}),r.delivery_available&&e.jsxs("span",{className:"flex items-center gap-1 text-[var(--primary)]",children:[e.jsx(L,{className:"h-3 w-3"}),"Delivery"]})]})]}),e.jsx("span",{className:"rounded-lg bg-[var(--primary)]/10 px-3 py-1.5 text-sm font-semibold text-white transition-colors group-hover:bg-[var(--primary)] dark:text-white",children:"View Details"})]})]})]}):e.jsxs(f,{href:route("marketplace.view",r.id),className:"group relative flex flex-col overflow-hidden rounded-2xl border border-gray-200 bg-white transition-all hover:border-[var(--primary)]/50 hover:shadow-xl dark:border-gray-800 dark:bg-[var(--card)] dark:hover:border-[var(--primary)]/50",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[e.jsxs("div",{className:"relative aspect-square overflow-hidden bg-gray-100 dark:bg-gray-900",children:[r.image?e.jsxs(e.Fragment,{children:[!t&&e.jsx("div",{className:"absolute inset-0 animate-pulse bg-gray-200 dark:bg-gray-800"}),e.jsx("img",{src:r.image,alt:r.title,className:`h-full w-full object-cover transition-all duration-500 group-hover:scale-110 ${t?"opacity-100":"opacity-0"}`,onLoad:()=>o(!0)})]}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(N,{className:"h-16 w-16 text-gray-400"})}),e.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`}),e.jsxs("div",{className:"absolute left-3 top-3 flex flex-col gap-2",children:[r.condition&&e.jsx("span",{className:`rounded-full px-2.5 py-1 text-xs font-semibold shadow-sm ${g(r.condition)}`,children:i(r.condition)}),r.delivery_available&&e.jsxs("span",{className:"flex items-center gap-1 rounded-full bg-[var(--primary)] px-2.5 py-1 text-xs font-semibold text-[var(--primary-foreground)] shadow-sm",children:[e.jsx(L,{className:"h-3 w-3"}),"Delivery"]})]}),e.jsx("div",{className:`absolute bottom-3 left-3 right-3 transition-all duration-300 ${a?"translate-y-0 opacity-100":"translate-y-4 opacity-0"}`,children:e.jsxs("span",{className:"flex w-full items-center justify-center gap-2 rounded-xl bg-white py-2.5 font-semibold text-[var(--foreground)] shadow-lg transition-colors hover:bg-[var(--primary)]",children:[e.jsx(O,{className:"h-4 w-4"}),"Quick View"]})})]}),e.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"mb-1 text-xs font-semibold uppercase tracking-wide text-[var(--primary)]",children:x(r.category)}),e.jsx("h3",{className:"line-clamp-2 font-bold text-[var(--foreground)] transition-colors group-hover:text-[var(--primary)] dark:text-white",children:r.title})]}),e.jsxs("div",{className:"mt-auto",children:[e.jsxs("div",{className:"mb-2 flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-black text-[var(--foreground)] dark:text-white",children:r.price!==null?`GHâ‚µ ${d(r.price)}`:"Contact for price"}),r.price!==null&&r.price_type&&e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/",r.price_type]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400",children:[e.jsx(E,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate",children:r.location})]})]})]})]})}function le({products:r,viewMode:s}){return e.jsxs("div",{children:[e.jsx("div",{className:s==="grid"?"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"flex flex-col gap-4",children:r.data.map(a=>e.jsx(se,{product:a,viewMode:s},a.id))}),r.last_page>1&&e.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",e.jsx("span",{className:"font-semibold",children:r.from})," to"," ",e.jsx("span",{className:"font-semibold",children:r.to})," of"," ",e.jsx("span",{className:"font-semibold",children:r.total})," products"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[r.prev_page_url?e.jsxs(f,{href:r.prev_page_url,className:"flex h-10 items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 text-sm font-medium text-gray-700 transition-all hover:border-[var(--primary)] hover:bg-[var(--primary)]/10 dark:border-gray-700 dark:bg-[var(--card)] dark:text-gray-300",children:[e.jsx(_,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}):e.jsxs("span",{className:"flex h-10 cursor-not-allowed items-center gap-1 rounded-lg border border-gray-100 bg-gray-50 px-3 text-sm font-medium text-gray-400 dark:border-gray-800 dark:bg-[var(--buame-background-dark)]",children:[e.jsx(_,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Prev"})]}),e.jsx("div",{className:"flex items-center gap-1",children:r.links.slice(1,-1).map((a,m)=>{const t=m+1,o=r.current_page,x=r.last_page,g=t===1||t===x||Math.abs(t-o)<=1,i=t===2&&o>3,d=t===x-1&&o<x-2;return!g&&!i&&!d?null:i&&t===2||d&&t===x-1?e.jsx("span",{className:"px-2 text-gray-400",children:"..."},m):a.url===null?null:e.jsx(f,{href:a.url,className:`flex h-10 w-10 items-center justify-center rounded-lg text-sm font-semibold transition-all ${a.active?"bg-[var(--primary)] text-[var(--primary-foreground)] shadow-md shadow-[var(--primary)]/25":"border border-gray-200 bg-white text-gray-700 hover:border-[var(--primary)] hover:bg-[var(--primary)]/10 dark:border-gray-700 dark:bg-[var(--card)] dark:text-gray-300"}`,children:a.label},m)})}),r.next_page_url?e.jsxs(f,{href:r.next_page_url,className:"flex h-10 items-center gap-1 rounded-lg border border-gray-200 bg-white px-3 text-sm font-medium text-gray-700 transition-all hover:border-[var(--primary)] hover:bg-[var(--primary)]/10 dark:border-gray-700 dark:bg-[var(--card)] dark:text-gray-300",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx(B,{className:"h-4 w-4"})]}):e.jsxs("span",{className:"flex h-10 cursor-not-allowed items-center gap-1 rounded-lg border border-gray-100 bg-gray-50 px-3 text-sm font-medium text-gray-400 dark:border-gray-800 dark:bg-[var(--buame-background-dark)]",children:[e.jsx("span",{className:"hidden sm:inline",children:"Next"}),e.jsx(B,{className:"h-4 w-4"})]})]})]})]})}function oe({searchQuery:r,setSearchQuery:s,location:a,setLocation:m,filters:t,categoryCounts:o,onSearch:x,onFilterChange:g,onClearFilters:i,viewMode:d,setViewMode:n}){const[c,w]=b.useState(!1),k=[{value:"electronics",label:"Electronics",icon:"ðŸ“±"},{value:"furniture",label:"Furniture",icon:"ðŸª‘"},{value:"food",label:"Food",icon:"ðŸŽ"},{value:"agriculture",label:"Agriculture",icon:"ðŸŒ¾"},{value:"clothes",label:"Clothes",icon:"ðŸ‘•"},{value:"others",label:"Others",icon:"ðŸ“¦"}],S=[{value:"newest",label:"Newest First"},{value:"price_low",label:"Price: Low to High"},{value:"price_high",label:"Price: High to Low"},{value:"name",label:"Name: A to Z"}],j=(t==null?void 0:t.category)||(t==null?void 0:t.sort)||r||a;return e.jsx("div",{className:"sticky top-[57px] z-40 border-b border-gray-200 bg-white/95 backdrop-blur-sm dark:border-gray-800 dark:bg-[var(--background-dark)]/95",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-4",children:[e.jsxs("form",{onSubmit:x,className:"flex flex-col gap-3 md:flex-row",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(R,{className:"absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:r,onChange:l=>s(l.target.value),placeholder:"Search products in this store...",className:"w-full rounded-xl border border-gray-200 bg-gray-50 py-3 pl-12 pr-4 text-sm transition-colors focus:border-[var(--primary)] focus:bg-white focus:ring-2 focus:ring-[var(--primary)]/20 focus:outline-none dark:border-gray-700 dark:bg-[var(--card)] dark:text-white dark:focus:bg-[var(--card)]"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 md:w-40 md:flex-none",children:[e.jsx(E,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",value:a,onChange:l=>m(l.target.value),placeholder:"Location",className:"w-full rounded-xl border border-gray-200 bg-gray-50 py-3 pl-10 pr-4 text-sm transition-colors focus:border-[var(--primary)] focus:bg-white focus:ring-2 focus:ring-[var(--primary)]/20 focus:outline-none dark:border-gray-700 dark:bg-[var(--card)] dark:text-white"})]}),e.jsx("button",{type:"submit",className:"rounded-xl bg-[var(--primary)] px-6 py-3 font-semibold text-[var(--primary-foreground)] transition-all hover:bg-[var(--buame-primary-dark)] hover:shadow-lg hover:shadow-[var(--primary)]/25",children:"Search"}),e.jsxs("button",{type:"button",onClick:()=>w(!c),className:`flex items-center gap-2 rounded-xl border px-4 py-3 font-semibold transition-all ${c||j?"border-[var(--primary)] bg-[var(--primary)]/10 text-white dark:text-white":"border-gray-200 bg-white text-gray-600 hover:border-gray-300 dark:border-gray-700 dark:bg-[var(--card)] dark:text-gray-400"}`,children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Filters"}),j&&e.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-[var(--primary)] text-xs font-bold text-[var(--primary-foreground)]",children:"!"})]})]})]}),c&&e.jsxs("div",{className:"mt-4 rounded-xl border border-gray-200 bg-gray-50 p-4 dark:border-gray-700 dark:bg-[var(--card)]",children:[e.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Categories"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(l=>{const u=(o==null?void 0:o[l.value])||0,p=(t==null?void 0:t.category)===l.value;return e.jsxs("button",{onClick:()=>g("category",p?null:l.value),className:`flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-all ${p?"bg-[var(--primary)] text-[var(--primary-foreground)] shadow-md":"bg-white text-gray-700 hover:bg-gray-100 dark:bg-[var(--background-dark)] dark:text-gray-300 dark:hover:bg-gray-800"}`,children:[e.jsx("span",{children:l.icon}),e.jsx("span",{children:l.label}),u>0&&e.jsx("span",{className:`rounded-full px-1.5 py-0.5 text-xs ${p?"bg-[var(--foreground)]/20 text-[var(--foreground)]":"bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-400"}`,children:u})]},l.value)})})]}),e.jsxs("div",{className:"flex flex-col gap-4 md:w-64",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Sort By"}),e.jsx("select",{value:(t==null?void 0:t.sort)!=null?String(t.sort):"newest",onChange:l=>g("sort",l.target.value),className:"w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)]/20 focus:outline-none dark:border-gray-700 dark:bg-[var(--background-dark)] dark:text-white",children:S.map(l=>e.jsx("option",{value:l.value,children:l.label},l.value))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-sm font-semibold text-gray-700 dark:text-gray-300",children:"View"}),e.jsxs("div",{className:"flex rounded-lg border border-gray-200 bg-white p-1 dark:border-gray-700 dark:bg-[var(--background-dark)]",children:[e.jsxs("button",{onClick:()=>n("grid"),className:`flex flex-1 items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium transition-all ${d==="grid"?"bg-[var(--primary)] text-[var(--primary-foreground)]":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"}`,children:[e.jsx(q,{className:"h-4 w-4"}),"Grid"]}),e.jsxs("button",{onClick:()=>n("list"),className:`flex flex-1 items-center justify-center gap-2 rounded-md px-3 py-2 text-sm font-medium transition-all ${d==="list"?"bg-[var(--primary)] text-[var(--primary-foreground)]":"text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800"}`,children:[e.jsx(Y,{className:"h-4 w-4"}),"List"]})]})]})]})]}),j&&e.jsx("div",{className:"mt-4 border-t border-gray-200 pt-4 dark:border-gray-700",children:e.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-sm font-medium text-red-600 transition-colors hover:text-red-700",children:[e.jsx(X,{className:"h-4 w-4"}),"Clear all filters"]})})]}),!c&&e.jsxs("div",{className:"mt-3 flex items-center gap-2 overflow-x-auto pb-1",children:[e.jsx("span",{className:"shrink-0 text-xs font-medium text-gray-500 dark:text-gray-400",children:"Quick:"}),k.map(l=>{const u=(o==null?void 0:o[l.value])||0;if(u===0)return null;const p=(t==null?void 0:t.category)===l.value;return e.jsxs("button",{onClick:()=>g("category",p?null:l.value),className:`flex shrink-0 items-center gap-1.5 rounded-full px-3 py-1.5 text-xs font-medium transition-all ${p?"bg-[var(--primary)] text-[var(--primary-foreground)]":"bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700"}`,children:[e.jsx("span",{children:l.icon}),e.jsx("span",{children:l.label}),e.jsxs("span",{className:"opacity-60",children:["(",u,")"]})]},l.value)})]})]})})}function Te({store:r,products:s,filters:a,categoryCounts:m,reviews:t=[],average_rating:o=0,reviews_count:x=0,rating_breakdown:g={}}){const[i,d]=b.useState((a==null?void 0:a.search)||""),[n,c]=b.useState((a==null?void 0:a.location)||""),[w,k]=b.useState("grid"),S=y=>{y.preventDefault(),C.get(route("store.show",r.slug),{search:i||void 0,location:n||void 0,category:a==null?void 0:a.category,sort:a==null?void 0:a.sort},{preserveState:!0,preserveScroll:!0})},j=(y,v)=>{C.get(route("store.show",r.slug),{search:i||void 0,location:n||void 0,[y]:v==="all"||v==="newest"?void 0:v,...y!=="category"&&(a==null?void 0:a.category)&&{category:a.category},...y!=="sort"&&(a==null?void 0:a.sort)&&a.sort!=="newest"&&{sort:a.sort}},{preserveState:!0,preserveScroll:!0})},l=()=>{d(""),c(""),C.get(route("store.show",r.slug),{},{preserveState:!0,preserveScroll:!0})},u=(a==null?void 0:a.category)||(a==null?void 0:a.sort)||i||n,p=(s==null?void 0:s.total)||0,I=(s==null?void 0:s.data)&&s.data.length>0,A=r.description?r.description.substring(0,150):`Shop at ${r.name} - Browse ${p} products`;return e.jsxs("div",{className:"min-h-screen bg-[var(--background)] dark:bg-[var(--buame-background-dark)]",children:[e.jsxs(V,{title:r.name,children:[e.jsx("meta",{name:"description",content:`${r.name} - ${A}${A.length>=150?"...":""} Shop ${p} products on 2RBUAME marketplace.`}),e.jsx("meta",{name:"keywords",content:`${r.name}, marketplace, shop, products, buy, Ghana, 2RBUAME`}),e.jsx("meta",{property:"og:title",content:`${r.name} | 2RBUAME Marketplace`}),e.jsx("meta",{property:"og:description",content:`Shop at ${r.name}. Browse ${p} products on 2RBUAME.`}),e.jsx("meta",{property:"og:type",content:"website"}),r.logo&&e.jsx("meta",{property:"og:image",content:r.logo}),e.jsx("meta",{name:"twitter:title",content:`${r.name} | 2RBUAME Marketplace`}),e.jsx("meta",{name:"twitter:description",content:`Shop at ${r.name}. Browse ${p} products on 2RBUAME.`}),r.logo&&e.jsx("meta",{name:"twitter:image",content:r.logo})]}),e.jsx(ae,{store:r}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 pt-4",children:e.jsxs("button",{onClick:()=>window.history.length>1?window.history.back():window.location.href="/marketplace",className:"inline-flex items-center gap-2 text-sm font-semibold text-gray-600 transition-colors hover:text-[var(--primary)] dark:text-gray-400",children:[e.jsx(Z,{className:"h-4 w-4"}),"Back"]})}),e.jsx(te,{store:r,productCount:p}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-8",children:e.jsx(G,{type:"product"})}),e.jsx(oe,{searchQuery:i,setSearchQuery:d,location:n,setLocation:c,filters:a,categoryCounts:m,onSearch:S,onFilterChange:j,onClearFilters:l,viewMode:w,setViewMode:k}),e.jsxs("main",{className:"mx-auto max-w-7xl px-4 py-8",children:[e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsxs("h2",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:[u?"Search Results":"All Products",e.jsxs("span",{className:"ml-2 text-sm font-normal text-gray-500 dark:text-gray-400",children:["(",p," ",p===1?"item":"items",")"]})]})}),r.video_links&&r.video_links.length>0&&(()=>{const y=["tiktok","instagram"],v=r.video_links.filter(h=>y.includes(h.platform)),M=r.video_links.filter(h=>!y.includes(h.platform));return e.jsxs("div",{className:"mb-8 rounded-xl border border-gray-200 bg-white p-6 dark:border-gray-800 dark:bg-[var(--card)]",children:[e.jsx("h2",{className:"mb-4 text-xl font-bold text-[var(--foreground)] dark:text-white",children:"Store Videos"}),e.jsxs("div",{className:"space-y-4",children:[M.length>0&&e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:M.map(h=>e.jsx(F,{url:h.url,platform:h.platform,embedUrl:h.embed_url,tiktokVideoId:h.tiktok_video_id,title:h.title},h.id))}),v.length>0&&e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:v.map(h=>e.jsx("div",{className:"min-h-[480px]",style:{height:"480px"},children:e.jsx(F,{url:h.url,platform:h.platform,embedUrl:h.embed_url,tiktokVideoId:h.tiktok_video_id,title:h.title})},h.id))})]})]})})(),I?e.jsx(le,{products:s,viewMode:w}):e.jsx(ee,{hasFilters:u,onClearFilters:l,storeName:r.name}),e.jsx(D,{reviewableType:"store",reviewableId:r==null?void 0:r.id,reviews:t,averageRating:o,reviewsCount:x,ratingBreakdown:g})]}),e.jsx(re,{store:r})]})}export{Te as default};
