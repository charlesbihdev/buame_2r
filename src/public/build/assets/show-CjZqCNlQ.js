import{r as f,j as e,L as z,$ as S,S as B}from"./app-CB4Y48Cj.js";import{C as R}from"./ConfirmDialog-u3A1Kehd.js";import{S as D}from"./StatusBadge-j2j8w9Fm.js";import{B as r}from"./button-Bu6ntsRy.js";import{C as i,d as n,a as o,b as m,c as F}from"./card-DEeUntFj.js";import{A as H}from"./admin-layout-B_CgrRm_.js";import{A as M}from"./arrow-left-Cwd_nf3n.js";import{C as T}from"./check-du3S5VCS.js";import{X as U}from"./x-B3wVQUlu.js";import{P as E}from"./power-BIui6A5x.js";import{P as G}from"./package-Daxkc8Ky.js";import{M as V}from"./map-pin-B7rsVpSW.js";import{T as O}from"./truck-DQ_nUJMt.js";import{S as X}from"./store-CiIhFUl9.js";import"./dialog-B51Tzli2.js";import"./index-C05b6oiV.js";import"./index-DcD32h0u.js";import"./index-D6jb_xOU.js";import"./Combination-BbYOe0R7.js";import"./index-CCQS4NcM.js";import"./index-_WRVnTNa.js";import"./createLucideIcon-CWfIfJ-d.js";import"./app-logo-C-dAyDuh.js";import"./toast-provider-CQ3pJBAX.js";import"./users-D3GDZ0AJ.js";import"./star-CmTb7gDd.js";import"./credit-card-Cshc1v2w.js";import"./shield-FjmdJgkm.js";import"./message-square-CQ12bS1q.js";import"./log-out-D2dvUC39.js";import"./menu-B8iJSbMU.js";function Ae({product:s}){var p,u,g,v,N,w,b,y,C,A,k;const[l,d]=f.useState({open:!1,action:null}),[P,h]=f.useState(!1),[j,_]=f.useState(0),$=t=>new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS"}).format(t||0),L=t=>t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",x=t=>{d({open:!0,action:t})},I=()=>{h(!0);let t;switch(l.action){case"approve":t="admin.marketplace.approve";break;case"reject":t="admin.marketplace.reject";break;case"toggle":t="admin.marketplace.toggle-active";break}B.post(route(t,s.id),{},{preserveScroll:!0,onFinish:()=>{h(!1),d({open:!1,action:null})}})},c=(()=>{switch(l.action){case"approve":return{title:"Approve Product",description:`Are you sure you want to approve "${s.title}"? It will be visible to all users.`,confirmLabel:"Approve",variant:"default"};case"reject":return{title:"Reject Product",description:`Are you sure you want to reject "${s.title}"? It will be hidden from users.`,confirmLabel:"Reject",variant:"destructive"};case"toggle":const t=s.is_active;return{title:t?"Deactivate Product":"Activate Product",description:t?`Are you sure you want to deactivate "${s.title}"?`:`Are you sure you want to activate "${s.title}"?`,confirmLabel:t?"Deactivate":"Activate",variant:t?"destructive":"default"};default:return{}}})();return e.jsxs(H,{children:[e.jsx(z,{title:`Product: ${s.title}`}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(S,{href:route("admin.marketplace.index"),children:e.jsxs(r,{variant:"ghost",size:"sm",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-foreground text-2xl font-bold",children:s.title}),e.jsx("p",{className:"text-muted-foreground",children:"Product Details"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[!s.is_approved&&e.jsxs(e.Fragment,{children:[e.jsxs(r,{onClick:()=>x("approve"),children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Approve"]}),e.jsxs(r,{variant:"destructive",onClick:()=>x("reject"),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Reject"]})]}),s.is_approved&&e.jsxs(r,{variant:s.is_active?"destructive":"default",onClick:()=>x("toggle"),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),s.is_active?"Deactivate":"Activate"]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[e.jsx(i,{className:"lg:col-span-2",children:e.jsxs(n,{className:"p-4",children:[e.jsx("div",{className:"bg-muted mb-4 aspect-video overflow-hidden rounded-lg",children:((p=s.images)==null?void 0:p.length)>0?e.jsx("img",{src:`/storage/${(u=s.images[j])==null?void 0:u.image_path}`,alt:s.title,className:"h-full w-full object-contain"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center",children:e.jsx(G,{className:"text-muted-foreground h-16 w-16"})})}),((g=s.images)==null?void 0:g.length)>1&&e.jsx("div",{className:"flex gap-2 overflow-x-auto",children:s.images.map((t,a)=>e.jsx("button",{onClick:()=>_(a),className:`h-16 w-16 flex-shrink-0 overflow-hidden rounded-lg border-2 ${j===a?"border-primary":"border-transparent"}`,children:e.jsx("img",{src:`/storage/${t.image_path}`,alt:`${s.title} ${a+1}`,className:"h-full w-full object-cover"})},a))})]})}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(m,{children:"Product Information"})}),e.jsxs(n,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(D,{status:s.is_approved,type:"approval"}),e.jsx(D,{status:s.is_active,type:"user"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Price"}),e.jsx("span",{className:"text-foreground text-xl font-bold",children:$(s.price)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Condition"}),e.jsx("span",{className:"text-foreground capitalize",children:(v=s.condition)==null?void 0:v.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Category"}),e.jsx("span",{className:"text-foreground capitalize",children:(N=s.category)==null?void 0:N.replace("_"," ")})]}),s.location&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Location"}),e.jsxs("span",{className:"text-foreground flex items-center gap-1",children:[e.jsx(V,{className:"h-4 w-4"}),s.location]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Delivery"}),e.jsxs("span",{className:"text-foreground flex items-center gap-1",children:[e.jsx(O,{className:"h-4 w-4"}),s.delivery_available?"Available":"Not Available"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Views"}),e.jsx("span",{className:"text-foreground",children:s.views_count||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Created"}),e.jsx("span",{className:"text-foreground",children:L(s.created_at)})]})]})]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(m,{children:"Description"})}),e.jsx(n,{children:e.jsx("p",{className:"text-foreground whitespace-pre-wrap",children:s.description||"No description provided"})})]}),e.jsxs(i,{children:[e.jsx(o,{children:e.jsx(m,{children:"Specifications"})}),e.jsx(n,{children:((w=s.specifications)==null?void 0:w.length)>0?e.jsx("ul",{className:"space-y-2",children:s.specifications.map((t,a)=>e.jsxs("li",{className:"text-foreground flex items-start gap-2",children:[e.jsx("span",{className:"bg-primary mt-1.5 h-1.5 w-1.5 flex-shrink-0 rounded-full"}),t.specification]},a))}):e.jsx("p",{className:"text-muted-foreground",children:"No specifications provided"})})]})]}),e.jsxs(i,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Seller Information"}),e.jsx(F,{children:"Details about the product seller"})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-primary/10 flex h-12 w-12 items-center justify-center rounded-full",children:e.jsx("span",{className:"text-primary text-lg font-bold",children:(y=(b=s.user)==null?void 0:b.name)==null?void 0:y.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-foreground font-medium",children:(C=s.user)==null?void 0:C.name}),e.jsx("p",{className:"text-muted-foreground text-sm",children:(A=s.user)==null?void 0:A.phone})]})]}),s.store&&e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"bg-muted flex h-12 w-12 items-center justify-center rounded-lg",children:e.jsx(X,{className:"text-muted-foreground h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-foreground font-medium",children:s.store.name}),e.jsxs("p",{className:"text-muted-foreground text-sm capitalize",children:[s.store.tier," tier â€¢ ",s.store.is_active?"Active":"Inactive"]})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx(S,{href:route("admin.users.show",(k=s.user)==null?void 0:k.id),children:e.jsx(r,{variant:"outline",children:"View User Profile"})})})]})]})]}),e.jsx(R,{open:l.open,onOpenChange:t=>d({...l,open:t}),title:c.title,description:c.description,confirmLabel:c.confirmLabel,variant:c.variant,onConfirm:I,loading:P})]})}export{Ae as default};
