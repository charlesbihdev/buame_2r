import{j as e,$ as d,r as m,L as N,S as p}from"./app-CBU6yRsz.js";import{V as _}from"./visitor-layout-DcMpbCEM.js";import{B as n}from"./button-RGfC6CUc.js";import{B as w}from"./badge-check-CdRS6-kc.js";import{S}from"./star-hQg1Df92.js";import{M as g}from"./map-pin-BwOn_SRG.js";import{P as C}from"./phone-D6I8yWrl.js";import{X as P}from"./x-BzB0ZjHx.js";import{H as A}from"./hammer-CtCQc2F6.js";import{H as M}from"./house-DC0pJWiK.js";import{c as x}from"./createLucideIcon-B_ll2QSU.js";import{S as L}from"./search-C9kORol8.js";import"./sheet-DRH6yzRA.js";import"./index-D2gyRKpy.js";import"./index-C6Zws6Ft.js";import"./index-CBKDD4aV.js";import"./menu-Ccn4YGT2.js";import"./message-circle-vYosUejn.js";import"./mail-N0aKiy7Z.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],$=x("Droplets",z);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],E=x("Flame",B);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],u=x("Paintbrush",F);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],H=x("Scissors",f);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],I=x("Zap",T);function R({artisan:r}){return e.jsxs(d,{href:`/artisans/${r.id}`,className:"group flex flex-col rounded-xl border-2 border-gray-100 bg-white p-5 transition-all hover:border-[#13ec13]/50 hover:shadow-lg dark:border-gray-800 dark:bg-[#162816]",children:[e.jsxs("div",{className:"relative mb-4 h-40 w-full overflow-hidden rounded-xl bg-gray-100 dark:bg-gray-800",children:[r.profile_image?e.jsx("div",{className:"h-full w-full bg-cover bg-center transition-transform duration-500 group-hover:scale-110",style:{backgroundImage:`url("${r.profile_image}")`}}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gradient-to-br from-[#13ec13]/10 to-[#13ec13]/5",children:e.jsx("span",{className:"text-4xl font-bold text-[#13ec13]",children:r.name.charAt(0).toUpperCase()})}),r.is_verified&&e.jsx("div",{className:"absolute right-2 top-2",children:e.jsx(w,{className:"h-5 w-5 fill-[#13ec13] text-white"})}),r.is_available&&e.jsx("div",{className:"absolute left-2 top-2 rounded-full bg-green-500 px-2 py-1 text-xs font-bold text-white",children:"Available"})]}),e.jsxs("div",{className:"flex flex-1 flex-col",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-[#0d1b0d] dark:text-white",children:r.name}),e.jsx("p",{className:"text-sm font-medium text-[#13ec13]",children:r.skill})]}),e.jsx("div",{className:"mb-3 flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-bold",children:r.rating}),e.jsxs("span",{className:"text-gray-400",children:["(",r.reviews_count,")"]})]})}),e.jsxs("div",{className:"mb-3 flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(g,{className:"h-3 w-3"}),r.location]}),r.specialties&&r.specialties.length>0&&e.jsx("div",{className:"mb-3 flex flex-wrap gap-1",children:r.specialties.map((t,a)=>e.jsx("span",{className:"rounded-md bg-[#13ec13]/10 px-2 py-0.5 text-xs font-semibold text-[#0d1b0d] dark:text-[#13ec13]",children:t},a))}),e.jsxs("div",{className:"mt-auto space-y-2 border-t border-gray-100 pt-3 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-xl font-black text-[#0d1b0d] dark:text-[#13ec13]",children:["GH₵",r.price_per_day]}),e.jsx("div",{className:"text-xs text-gray-500",children:"/day"})]}),r.experience_years&&e.jsxs("div",{className:"text-xs text-gray-500",children:[r.experience_years," years"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{asChild:!0,variant:"outline",className:"flex-1 border-[#13ec13] text-xs text-[#13ec13] hover:bg-[#13ec13] hover:text-[#0d1b0d]",children:e.jsx(d,{href:`/artisans/${r.id}`,children:"View"})}),r.phone&&e.jsx(n,{asChild:!0,className:"bg-[#13ec13] text-xs text-[#0d1b0d] hover:bg-[#0fdc0f]",children:e.jsx("a",{href:`tel:${r.phone}`,children:e.jsx(C,{className:"h-3 w-3"})})})]})]})]})]})}function U({filters:r,totalCount:t,onFilterChange:a,onClearFilters:l}){const c=(r==null?void 0:r.skill_type)||(r==null?void 0:r.experience_level)||(r==null?void 0:r.sort)&&r.sort!=="rating";return e.jsxs("div",{className:"mb-8 flex flex-wrap items-center gap-3",children:[e.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Filter by:"}),e.jsxs("select",{value:(r==null?void 0:r.skill_type)||"all",onChange:s=>a("skill_type",s.target.value),className:"rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm focus:border-[#13ec13] focus:ring-[#13ec13] dark:border-gray-700 dark:bg-[#162816] dark:text-white",children:[e.jsx("option",{value:"all",children:"All Skills"}),e.jsx("option",{value:"carpenter",children:"Carpenter"}),e.jsx("option",{value:"mason",children:"Mason"}),e.jsx("option",{value:"electrician",children:"Electrician"}),e.jsx("option",{value:"plumber",children:"Plumber"}),e.jsx("option",{value:"tiler",children:"Tiler"}),e.jsx("option",{value:"tailor",children:"Tailor"}),e.jsx("option",{value:"welder",children:"Welder"}),e.jsx("option",{value:"painter",children:"Painter"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsxs("select",{value:(r==null?void 0:r.experience_level)||"all",onChange:s=>a("experience_level",s.target.value),className:"rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm focus:border-[#13ec13] focus:ring-[#13ec13] dark:border-gray-700 dark:bg-[#162816] dark:text-white",children:[e.jsx("option",{value:"all",children:"All Experience Levels"}),e.jsx("option",{value:"beginner",children:"Beginner"}),e.jsx("option",{value:"intermediate",children:"Intermediate"}),e.jsx("option",{value:"expert",children:"Expert"})]}),e.jsxs("select",{value:(r==null?void 0:r.sort)||"rating",onChange:s=>a("sort",s.target.value),className:"rounded-lg border border-gray-200 bg-white px-4 py-2 text-sm focus:border-[#13ec13] focus:ring-[#13ec13] dark:border-gray-700 dark:bg-[#162816] dark:text-white",children:[e.jsx("option",{value:"rating",children:"Sort: Top Rated"}),e.jsx("option",{value:"experience",children:"Most Experienced"}),e.jsx("option",{value:"price_low",children:"Price: Low to High"}),e.jsx("option",{value:"price_high",children:"Price: High to Low"}),e.jsx("option",{value:"newest",children:"Newest First"})]}),c&&e.jsxs(n,{onClick:l,variant:"outline",size:"sm",className:"gap-1 text-xs",children:[e.jsx(P,{className:"h-3 w-3"}),"Clear Filters"]}),e.jsxs("div",{className:"ml-auto text-sm text-gray-600 dark:text-gray-400",children:[e.jsx("span",{className:"font-bold text-[#0d1b0d] dark:text-white",children:t})," artisans found"]})]})}function D({artisans:r,filters:t}){if(r.last_page<=1)return null;const a=l=>{const c=new URLSearchParams;return c.set("page",l),t!=null&&t.search&&c.set("search",t.search),t!=null&&t.location&&c.set("location",t.location),t!=null&&t.skill_type&&c.set("skill_type",t.skill_type),t!=null&&t.experience_level&&c.set("experience_level",t.experience_level),t!=null&&t.sort&&c.set("sort",t.sort),`/artisans?${c.toString()}`};return e.jsxs("div",{className:"mt-12 flex items-center justify-center gap-2",children:[r.prev_page_url?e.jsx(n,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(d,{href:r.prev_page_url,preserveState:!0,preserveScroll:!0,children:"Previous"})}):e.jsx(n,{variant:"outline",size:"sm",disabled:!0,children:"Previous"}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:r.last_page},(l,c)=>c+1).map(l=>{if(!(l===1||l===r.last_page||l>=r.current_page-1&&l<=r.current_page+1))return l===r.current_page-2||l===r.current_page+2?e.jsx("span",{className:"px-3 py-1 text-sm text-gray-500",children:"..."},l):null;const s=l===r.current_page;return e.jsx(n,{asChild:!s,variant:s?"default":"outline",size:"sm",className:s?"bg-[#13ec13] text-[#0d1b0d] hover:bg-[#0fdc0f]":"",children:s?e.jsx("span",{children:l}):e.jsx(d,{href:a(l),preserveState:!0,preserveScroll:!0,children:l})},l)})}),r.next_page_url?e.jsx(n,{asChild:!0,variant:"outline",size:"sm",children:e.jsx(d,{href:r.next_page_url,preserveState:!0,preserveScroll:!0,children:"Next"})}):e.jsx(n,{variant:"outline",size:"sm",disabled:!0,children:"Next"})]})}const Q=[{icon:A,label:"Carpenter",key:"carpenter"},{icon:M,label:"Mason",key:"mason"},{icon:I,label:"Electrician",key:"electrician"},{icon:$,label:"Plumber",key:"plumber"},{icon:u,label:"Tiler",key:"tiler"},{icon:H,label:"Tailor",key:"tailor"},{icon:E,label:"Welder",key:"welder"},{icon:u,label:"Painter",key:"painter"}];function V({categoryCounts:r,activeSkillType:t,onCategoryClick:a}){return e.jsx("div",{className:"mt-8 flex flex-wrap justify-center gap-3",children:Q.map(l=>{const c=(r==null?void 0:r[l.key])||0,s=t===l.key;return e.jsxs("button",{onClick:()=>a(l.key),className:`flex items-center gap-2 rounded-full border-2 px-5 py-2.5 font-semibold transition-all ${s?"border-[#13ec13] bg-[#13ec13]/10":"border-[#13ec13]/30 bg-white hover:border-[#13ec13] hover:bg-[#13ec13]/10"} dark:bg-[#162816]`,children:[e.jsx(l.icon,{className:"h-5 w-5 text-[#13ec13]"}),e.jsx("span",{className:"text-sm dark:text-white",children:l.label}),e.jsx("span",{className:"rounded-full bg-[#13ec13]/20 px-2 py-0.5 text-xs font-bold text-[#0d1b0d] dark:text-[#13ec13]",children:c})]},l.key)})})}function q({searchQuery:r,setSearchQuery:t,location:a,setLocation:l,onSubmit:c}){return e.jsxs("form",{onSubmit:c,className:"mx-auto flex max-w-3xl flex-col gap-3 rounded-xl bg-white p-4 shadow-lg dark:bg-[#162816] md:flex-row",children:[e.jsxs("div",{className:"flex flex-1 items-center gap-3 rounded-lg border border-gray-200 px-4 py-3 dark:border-gray-700",children:[e.jsx(L,{className:"h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:r,onChange:s=>t(s.target.value),placeholder:"Search for carpenters, electricians...",className:"w-full border-none bg-transparent p-0 text-sm focus:outline-none focus:ring-0 dark:text-white"})]}),e.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-gray-200 px-4 py-3 dark:border-gray-700 md:w-48",children:[e.jsx(g,{className:"h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",value:a,onChange:s=>l(s.target.value),placeholder:"Location",className:"w-full border-none bg-transparent p-0 text-sm focus:outline-none focus:ring-0 dark:text-white"})]}),e.jsx(n,{type:"submit",className:"h-12 bg-[#13ec13] px-8 font-bold text-[#0d1b0d] hover:bg-[#0fdc0f]",children:"Search"})]})}function xe({artisans:r,categoryCounts:t,filters:a}){const l=r.total||0,[c,s]=m.useState((a==null?void 0:a.search)||""),[i,v]=m.useState((a==null?void 0:a.location)||""),b=o=>{o.preventDefault(),p.get("/artisans",{search:c,location:i,skill_type:a==null?void 0:a.skill_type,experience_level:a==null?void 0:a.experience_level,sort:a==null?void 0:a.sort},{preserveState:!0,preserveScroll:!0})},j=(o,h)=>{p.get("/artisans",{search:c,location:i,[o]:h==="all"?null:h,...o!=="skill_type"&&(a==null?void 0:a.skill_type)&&{skill_type:a.skill_type},...o!=="experience_level"&&(a==null?void 0:a.experience_level)&&{experience_level:a.experience_level},...o!=="sort"&&(a==null?void 0:a.sort)&&{sort:a.sort}},{preserveState:!0,preserveScroll:!0})},y=o=>{p.get("/artisans",{skill_type:o,search:c,location:i,experience_level:a==null?void 0:a.experience_level,sort:a==null?void 0:a.sort},{preserveState:!0,preserveScroll:!1})},k=()=>{p.get("/artisans",{search:c,location:i},{preserveState:!0,preserveScroll:!0})};return e.jsxs(_,{children:[e.jsx(N,{title:"Skilled Artisans | BUAME 2R"}),e.jsx("div",{className:"w-full bg-gradient-to-br from-[#13ec13]/10 via-white to-[#13ec13]/5 dark:from-[#13ec13]/5 dark:via-[#0d1b0d] dark:to-[#13ec13]/5",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12 md:px-8 lg:px-12",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"mb-3 text-4xl font-black text-[#0d1b0d] dark:text-white md:text-5xl",children:"Find Expert Artisans"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Connect with verified skilled workers in Sefwi Bekwai"})]}),e.jsx(q,{searchQuery:c,setSearchQuery:s,location:i,setLocation:v,onSubmit:b}),e.jsx(V,{categoryCounts:t,activeSkillType:a==null?void 0:a.skill_type,onCategoryClick:y})]})}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12 md:px-8 lg:px-12",children:[e.jsx(U,{filters:a,totalCount:l,onFilterChange:j,onClearFilters:k}),e.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:r.data&&r.data.length>0?r.data.map(o=>e.jsx(R,{artisan:o},o.id)):e.jsxs("div",{className:"col-span-full py-12 text-center",children:[e.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:"No artisans found. Be the first to join!"}),e.jsx(d,{href:"/join-as-provider",className:"mt-4 inline-block text-[#13ec13] hover:underline",children:"Join as Provider →"})]})}),e.jsx(D,{artisans:r,filters:a})]})]})}export{xe as default};
