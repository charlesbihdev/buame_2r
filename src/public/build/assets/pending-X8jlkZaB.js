import{r as u,j as e,L as _,$ as l,S as A}from"./app-CXk3mNX-.js";import{C as k}from"./ConfirmDialog-DwY7nN1V.js";import{B as a}from"./button-CsQubiIe.js";import{C as h,a as L,b as z,c as S,d as j}from"./card-CVTo-DHr.js";import{A as D}from"./admin-layout-B5Q1f-Q8.js";import{A as $}from"./arrow-left-DrUsf0Tl.js";import{P as g}from"./package-B3J1kEZE.js";import{E}from"./eye-Bh78g8JN.js";import{C as R}from"./check-Dy0PirfO.js";import{X as B}from"./x-C4HrDuJO.js";import{C as v}from"./chevron-left-D1JQz_fO.js";import{C as N}from"./chevron-right-C0LViMQF.js";import"./dialog-Erv2-Rp2.js";import"./index-B1jA7zD4.js";import"./index-Z_m_YEK-.js";import"./index-B7kh8nrV.js";import"./Combination-DpFNale2.js";import"./index-Ciwv7gjO.js";import"./index-Fzuoi4Tp.js";import"./createLucideIcon--pz34LtR.js";import"./app-logo-xcBZdjT2.js";import"./toast-provider-zg-QLiuD.js";import"./users-CEP0zxHA.js";import"./star-BG10g08H.js";import"./credit-card-B6LvTQWb.js";import"./shield-36M6EOkn.js";import"./message-square-OhzhyR7r.js";import"./log-out-CQXhEQds.js";import"./menu-DflnmokY.js";function xe({products:r}){var d;const[t,o]=u.useState({open:!1,product:null,action:null}),[w,c]=u.useState(!1),C=s=>new Intl.NumberFormat("en-GH",{style:"currency",currency:"GHS"}).format(s||0),m=(s,n)=>{o({open:!0,product:s,action:n})},b=()=>{if(!t.product||!t.action)return;c(!0);const s=t.action==="approve"?"admin.marketplace.approve":"admin.marketplace.reject";A.post(route(s,t.product.id),{},{preserveScroll:!0,onFinish:()=>{c(!1),o({open:!1,product:null,action:null})}})},i=!t.product||!t.action?{}:t.action==="approve"?{title:"Approve Product",description:`Are you sure you want to approve "${t.product.title}"? It will be visible to all users.`,confirmLabel:"Approve",variant:"default"}:{title:"Reject Product",description:`Are you sure you want to reject "${t.product.title}"? It will be hidden from users.`,confirmLabel:"Reject",variant:"destructive"};return e.jsxs(D,{children:[e.jsx(_,{title:"Pending Products"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(l,{href:route("admin.marketplace.index"),children:e.jsxs(a,{variant:"ghost",size:"sm",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Back"]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-foreground text-2xl font-bold",children:"Pending Products"}),e.jsx("p",{className:"text-muted-foreground",children:"Products awaiting approval"})]})]}),((d=r.data)==null?void 0:d.length)>0?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:r.data.map(s=>{var n,p,x,f;return e.jsxs(h,{className:"overflow-hidden",children:[e.jsx("div",{className:"aspect-video overflow-hidden",children:(n=s.images)!=null&&n[0]?e.jsx("img",{src:`/storage/${s.images[0].image_path}`,alt:s.title,className:"h-full w-full object-cover"}):e.jsx("div",{className:"bg-muted flex h-full w-full items-center justify-center",children:e.jsx(g,{className:"text-muted-foreground h-12 w-12"})})}),e.jsxs(L,{className:"pb-2",children:[e.jsx(z,{className:"line-clamp-1 text-lg",children:s.title}),e.jsxs(S,{children:["by ",(p=s.user)==null?void 0:p.name," ",s.store&&`â€¢ ${s.store.name}`]})]}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-foreground text-lg font-bold",children:C(s.price)}),e.jsx("span",{className:"text-muted-foreground text-sm capitalize",children:(x=s.condition)==null?void 0:x.replace("_"," ")})]}),s.description&&e.jsx("p",{className:"text-muted-foreground line-clamp-2 text-sm",children:s.description}),((f=s.specifications)==null?void 0:f.length)>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.specifications.slice(0,3).map((y,P)=>e.jsx("span",{className:"bg-muted text-muted-foreground rounded px-2 py-0.5 text-xs",children:y.specification},P)),s.specifications.length>3&&e.jsxs("span",{className:"text-muted-foreground text-xs",children:["+",s.specifications.length-3," more"]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(l,{href:route("admin.marketplace.show",s.id),className:"flex-1",children:e.jsxs(a,{variant:"outline",className:"w-full",children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"View"]})}),e.jsx(a,{variant:"default",size:"icon",onClick:()=>m(s,"approve"),children:e.jsx(R,{className:"h-4 w-4"})}),e.jsx(a,{variant:"destructive",size:"icon",onClick:()=>m(s,"reject"),children:e.jsx(B,{className:"h-4 w-4"})})]})]})]},s.id)})}):e.jsx(h,{children:e.jsxs(j,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(g,{className:"text-muted-foreground mb-4 h-12 w-12"}),e.jsx("p",{className:"text-muted-foreground text-lg",children:"No pending products"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"All products have been reviewed"})]})}),r.last_page>1&&e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.prev_page_url?e.jsx(l,{href:r.prev_page_url,preserveScroll:!0,children:e.jsxs(a,{variant:"outline",size:"sm",children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Previous"]})}):e.jsxs(a,{variant:"outline",size:"sm",disabled:!0,children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Previous"]}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["Page ",r.current_page," of ",r.last_page]}),r.next_page_url?e.jsx(l,{href:r.next_page_url,preserveScroll:!0,children:e.jsxs(a,{variant:"outline",size:"sm",children:["Next",e.jsx(N,{className:"ml-2 h-4 w-4"})]})}):e.jsxs(a,{variant:"outline",size:"sm",disabled:!0,children:["Next",e.jsx(N,{className:"ml-2 h-4 w-4"})]})]})]}),e.jsx(k,{open:t.open,onOpenChange:s=>o({...t,open:s}),title:i.title,description:i.description,confirmLabel:i.confirmLabel,variant:i.variant,onConfirm:b,loading:w})]})}export{xe as default};
