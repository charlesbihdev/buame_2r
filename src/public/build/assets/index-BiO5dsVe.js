import{r as h,j as e,K as E,S as j,$ as w,L as R}from"./app-Dxpbdbp-.js";import{V as A}from"./visitor-layout-BehJoTA_.js";import{B}from"./back-to-home-CUUYDCkh.js";import{B as g}from"./button-Ddh2pgYs.js";import{I as N}from"./input-WeaLLMUP.js";import{M as _}from"./map-pin-C6w3GtCR.js";import{S as U}from"./search-DvN8X0mW.js";import{C as S}from"./checkbox-BWi7p-ei.js";import{L as C}from"./label-M45-zaR6.js";import{S as L,a as P,b as F,c as z,d as v}from"./select-wf2yveV_.js";import{G as x}from"./grid-3x3-B_ePhCLJ.js";import{F as D}from"./filter-wM-5ZP7f.js";import{c as $}from"./createLucideIcon-zv5RrChz.js";import{b as O}from"./toast-provider-DUdhWUAF.js";import{S as q}from"./store-zsT2h9mW.js";import{A as G}from"./arrow-right-Bck_sz6e.js";import{C as I}from"./chevron-left-um5H2WIP.js";import{C as K}from"./chevron-right-BtAw8our.js";import"./sheet-Cq8tO_dt.js";import"./index-DWxDVpG3.js";import"./index-DmPNOzho.js";import"./index-B_H47deK.js";import"./Combination-m3aLTxiZ.js";import"./index-Kgqb1zqS.js";import"./index-_E8f7xb7.js";import"./x-B0uux2HT.js";import"./app-logo-C3sRPIHp.js";import"./menu-BUhNRGva.js";import"./phone-DfRwKCYJ.js";import"./mail-DE1ydpJI.js";import"./message-circle-HdbkwQdP.js";import"./arrow-left-1dvwvpAM.js";import"./index-B3rIy2zH.js";import"./index-trczTq3b.js";import"./check-CgK6jj3H.js";import"./index-D974EI9O.js";import"./chevron-down-dZktRGef.js";import"./chevron-up-Dr9AnH_t.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],T=$("List",V);function H(){const a=new URLSearchParams(window.location.search),[s,n]=h.useState(a.get("search")||""),[d,u]=h.useState(a.get("location")||""),i=()=>{const l=new URLSearchParams;s.trim()&&l.set("search",s.trim()),d.trim()&&l.set("location",d.trim());const t=l.toString();t?window.location.href=`/marketplace?${t}`:window.location.href="/marketplace"};return e.jsx("div",{className:"w-full border-b border-[var(--buame-border-light)] bg-white",children:e.jsx("div",{className:"mx-auto max-w-[1440px]",children:e.jsxs("div",{className:"p-4 @[480px]:p-6",children:[e.jsx("div",{className:"relative mb-6",children:e.jsx(B,{})}),"         ",e.jsxs("div",{className:"relative flex flex-col items-center justify-center overflow-hidden rounded-xl bg-cover bg-center bg-no-repeat p-8 py-12",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.7) 100%), url(/assets/visitors/bekwai.jpg)"},children:[e.jsxs("div",{className:"z-10 flex max-w-2xl flex-col gap-3 text-center",children:[e.jsx("h1",{className:"text-3xl leading-tight font-black tracking-[-0.033em] text-white md:text-5xl",children:"Find what you need"}),e.jsx("p",{className:"text-sm font-normal text-gray-200 md:text-base",children:"Connecting local artisans, traders, and businesses with residents."})]}),e.jsx("div",{className:"z-10 mt-2 flex w-full max-w-[600px] flex-col",children:e.jsxs("div",{className:"flex w-full flex-col overflow-hidden rounded-lg shadow-xl sm:flex-row sm:items-stretch",children:[e.jsxs("div",{className:"relative flex w-full items-center border-b border-gray-200 bg-white px-4 py-3 sm:w-1/3 sm:border-r sm:border-b-0 sm:py-0",children:[e.jsx(_,{className:"absolute left-4 h-5 w-5 text-gray-400"}),e.jsx(N,{type:"text",value:d,onChange:l=>u(l.target.value),onKeyDown:l=>l.key==="Enter"&&i(),placeholder:"Location (e.g., Western North)",className:"h-12 border-none bg-transparent pr-4 pl-12 text-sm placeholder:text-gray-400 focus:ring-0 sm:h-14"})]}),e.jsxs("div",{className:"relative flex-1 bg-white",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4",children:e.jsx(U,{className:"h-5 w-5 text-gray-400"})}),e.jsx(N,{type:"text",value:s,onChange:l=>n(l.target.value),onKeyDown:l=>l.key==="Enter"&&i(),placeholder:"Search for services, goods, or jobs...",className:"h-12 border-none bg-transparent pr-4 pl-12 text-sm placeholder:text-gray-400 focus:ring-0 sm:h-14"})]}),e.jsx(g,{onClick:i,className:"flex h-12 w-full items-center justify-center gap-2 bg-[var(--primary)] px-8 font-bold text-[var(--primary-foreground)] transition-colors hover:bg-[var(--buame-primary-dark)] sm:h-14 sm:w-auto",children:"Search"})]})})]})]})})})}function M({filters:a={},isMobile:s=!1}){const{marketplaceCategories:n={}}=E().props,d=[{id:"all",label:"All Categories"},...Object.entries(n).map(([r,p])=>({id:r,label:p}))],u=[{id:"all",label:"All Conditions"},{id:"new",label:"New"},{id:"like_new",label:"Like New"},{id:"used",label:"Used"},{id:"refurbished",label:"Refurbished"}],[i,l]=h.useState(a.price_min||""),[t,o]=h.useState(a.price_max||""),[m,c]=h.useState(a.location||""),f=h.useCallback((r,p)=>{const k=new URLSearchParams(window.location.search);p==="all"||p===""||p===null?k.delete(r):k.set(r,p),k.delete("page"),j.get("/marketplace",Object.fromEntries(k),{preserveState:!0,preserveScroll:!0})},[]),b=h.useCallback(()=>{const r=new URLSearchParams(window.location.search);i?r.set("price_min",i):r.delete("price_min"),t?r.set("price_max",t):r.delete("price_max"),r.delete("page"),j.get("/marketplace",Object.fromEntries(r),{preserveState:!0,preserveScroll:!0})},[i,t]),y=h.useCallback(()=>{const r=new URLSearchParams(window.location.search);m.trim()?r.set("location",m.trim()):r.delete("location"),r.delete("page"),j.get("/marketplace",Object.fromEntries(r),{preserveState:!0,preserveScroll:!0})},[m]);return e.jsxs("aside",{className:`min-h-[calc(100vh-80px)] w-full shrink-0 flex-col gap-8 border-r border-[var(--buame-border-light)] bg-white p-6 ${s?"flex":"hidden lg:flex lg:w-80"}`,children:[a.category&&a.category!=="all"||a.location||a.price_min||a.price_max||a.condition&&a.condition!=="all"||a.delivery_available?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsx("h3",{className:"text-sm font-bold tracking-wider text-gray-500 uppercase",children:"Active Filters"}),e.jsx("button",{onClick:()=>j.get("/marketplace"),className:"text-xs text-[var(--primary)] hover:underline",children:"Clear All"})]}),e.jsxs("div",{className:"bg-background-light grid grid-cols-1 overflow-hidden rounded-lg border border-[var(--buame-border-light)]",children:[a.category&&a.category!=="all"&&e.jsxs("div",{className:"flex items-center justify-between border-b border-[var(--buame-border-light)] p-3",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Category"}),e.jsx("span",{className:"text-sm font-medium capitalize",children:a.category})]}),a.location&&e.jsxs("div",{className:"flex items-center justify-between border-b border-[var(--buame-border-light)] p-3",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Location"}),e.jsx("span",{className:"text-sm font-medium",children:a.location})]}),(a.price_min||a.price_max)&&e.jsxs("div",{className:"flex items-center justify-between border-b border-[var(--buame-border-light)] p-3",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Price"}),e.jsxs("span",{className:"text-sm font-medium",children:["₵",a.price_min||0," - ₵",a.price_max||"∞"]})]}),a.condition&&a.condition!=="all"&&e.jsxs("div",{className:"flex items-center justify-between border-b border-[var(--buame-border-light)] p-3",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Condition"}),e.jsx("span",{className:"text-sm font-medium capitalize",children:a.condition.replace("_"," ")})]}),a.delivery_available&&e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Delivery"}),e.jsx("span",{className:"text-sm font-medium",children:"Available"})]})]})]}):null,e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold",children:"Categories"}),e.jsx("div",{className:"flex flex-col gap-3",children:d.map(r=>e.jsxs(C,{className:"group flex cursor-pointer items-center gap-3",children:[e.jsx(S,{checked:a.category===r.id||!a.category&&r.id==="all",onCheckedChange:p=>{p&&f("category",r.id)},className:"rounded border-gray-300 bg-transparent text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx("span",{className:"text-sm font-medium transition-colors group-hover:text-[var(--primary)]",children:r.label})]},r.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold",children:"Price Range (₵)"}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{type:"number",placeholder:"Min",value:i,onChange:r=>l(r.target.value),onBlur:b,onKeyDown:r=>r.key==="Enter"&&b(),className:"h-9"}),e.jsx(N,{type:"number",placeholder:"Max",value:t,onChange:r=>o(r.target.value),onBlur:b,onKeyDown:r=>r.key==="Enter"&&b(),className:"h-9"})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold",children:"Condition"}),e.jsxs(L,{value:a.condition||"all",onValueChange:r=>f("condition",r),children:[e.jsx(P,{className:"h-10",children:e.jsx(F,{})}),e.jsx(z,{children:u.map(r=>e.jsx(v,{value:r.id,children:r.label},r.id))})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold",children:"Location"}),e.jsx(N,{type:"text",placeholder:"e.g., Western North, Bibiani",value:m,onChange:r=>c(r.target.value),onBlur:y,onKeyDown:r=>r.key==="Enter"&&y(),className:"h-10"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-base font-bold",children:"Delivery"}),e.jsxs(C,{className:"group flex cursor-pointer items-center gap-3",children:[e.jsx(S,{checked:a.delivery_available==="1",onCheckedChange:r=>f("delivery_available",r?"1":""),className:"rounded border-gray-300 bg-transparent text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx("span",{className:"text-sm font-medium transition-colors group-hover:text-[var(--primary)]",children:"Delivery Available"})]})]})]})}function Q({filters:a={},pagination:s={},onFilterToggle:n}){const d=[{name:"All",category:"all",icon:x},{name:"Phones",category:"mobile_phones",icon:x},{name:"Computers",category:"computers",icon:x},{name:"Electronics",category:"electronics",icon:x},{name:"Furniture",category:"home_living",icon:x},{name:"Fashion",category:"fashion",icon:x},{name:"Automotive",category:"automotive",icon:x},{name:"Others",category:"others",icon:x}],u=t=>{const o=new URLSearchParams(window.location.search);t==="all"?o.delete("category"):o.set("category",t),o.delete("page"),j.get("/marketplace",Object.fromEntries(o),{preserveState:!0,preserveScroll:!0})},i=t=>{const o=new URLSearchParams(window.location.search);o.set("sort",t),o.delete("page"),j.get("/marketplace",Object.fromEntries(o),{preserveState:!0,preserveScroll:!0})},l=a.category||"all";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"scrollbar-hide mb-6 flex gap-3 overflow-x-auto pb-2",children:d.map(t=>{const o=t.icon,m=l===t.category;return e.jsxs(g,{variant:m?"default":"outline",onClick:()=>u(t.category),className:`flex h-9 shrink-0 items-center justify-center gap-x-2 rounded-full px-4 text-sm font-bold shadow-sm transition-shadow ${m?"bg-[var(--primary)] text-[var(--primary-foreground)] hover:shadow-md":"border border-[var(--buame-border-light)] bg-white hover:border-[var(--primary)]/50"}`,children:[e.jsx(o,{className:"h-5 w-5"}),e.jsx("span",{children:t.name})]},t.name)})}),e.jsxs("div",{className:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:s.total?e.jsxs(e.Fragment,{children:["Showing ",e.jsx("span",{className:"font-bold text-[var(--foreground)]",children:s.from||0})," -"," ",e.jsx("span",{className:"font-bold text-[var(--foreground)]",children:s.to||0})," of"," ",e.jsx("span",{className:"font-bold text-[var(--foreground)]",children:s.total})," results"]}):"No results found"}),e.jsxs("div",{className:"flex w-full items-center gap-3 sm:w-auto",children:[e.jsx(g,{variant:"outline",size:"icon",onClick:n,className:"flex size-10 items-center justify-center rounded-lg border border-[var(--buame-border-light)] bg-white lg:hidden",children:e.jsx(D,{className:"h-5 w-5"})}),e.jsxs(L,{value:a.sort||"recommended",onValueChange:i,children:[e.jsx(P,{className:"h-10 cursor-pointer rounded-lg border border-[var(--buame-border-light)] bg-white pr-8 pl-3 text-sm focus:border-[var(--primary)] focus:ring-[var(--primary)]",children:e.jsx(F,{})}),e.jsxs(z,{children:[e.jsx(v,{value:"recommended",children:"Recommended"}),e.jsx(v,{value:"price-low",children:"Price: Low to High"}),e.jsx(v,{value:"price-high",children:"Price: High to Low"}),e.jsx(v,{value:"newest",children:"Newest First"}),e.jsx(v,{value:"oldest",children:"Oldest First"})]})]}),e.jsxs("div",{className:"flex rounded-lg border border-[var(--buame-border-light)] bg-white p-1",children:[e.jsx(g,{variant:"ghost",size:"icon",className:"flex size-8 items-center justify-center rounded bg-[var(--primary)]/20 text-[var(--primary)]",children:e.jsx(x,{className:"h-5 w-5"})}),e.jsx(g,{variant:"ghost",size:"icon",className:"flex size-8 items-center justify-center rounded text-gray-400 hover:text-gray-600",children:e.jsx(T,{className:"h-5 w-5"})})]})]})]})]})}function W({products:a=[]}){return a.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-gray-600",children:"No products found"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Try adjusting your filters or check back later."})]}):e.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 xl:grid-cols-3",children:a.map(s=>e.jsxs(w,{href:`/marketplace/${s.id}`,className:"group flex flex-col overflow-hidden rounded-2xl border border-gray-200 bg-white transition-all duration-300 hover:shadow-xl",children:[e.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-gray-100",children:[e.jsx("div",{className:"h-full w-full bg-cover bg-center transition-transform duration-500 group-hover:scale-105",style:{backgroundImage:`url(${s.image})`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),e.jsx("div",{className:"absolute top-3 left-3 z-10 rounded-full bg-white/95 px-2.5 py-0.5 text-[10px] font-bold tracking-wider text-gray-700 uppercase shadow-sm backdrop-blur-sm",children:s.category}),s.verified&&e.jsx("div",{className:"absolute top-3 right-3 z-10",children:e.jsx(O,{className:"h-5 w-5 text-white drop-shadow-md",fill:"var(--primary)"})})]}),e.jsxs("div",{className:"flex flex-1 flex-col px-4 pt-3 pb-4",children:[e.jsx("h3",{className:"line-clamp-2 text-sm font-bold text-[var(--foreground)] transition-colors group-hover:text-[var(--primary)]",children:s.title}),s.store&&s.store.is_active&&e.jsxs("div",{onClick:n=>n.stopPropagation(),className:"mt-1 flex items-center gap-1 text-[11px] font-medium text-[var(--primary)]",children:[e.jsx(q,{className:"h-3 w-3 shrink-0"}),e.jsx(w,{href:`/store/${s.store.slug}`,className:"truncate hover:underline",children:s.store.name})]}),(s==null?void 0:s.description)&&e.jsx("p",{className:"mt-2 line-clamp-2 text-xs leading-relaxed text-gray-500",children:s.description}),e.jsxs("div",{className:"mt-auto flex items-center gap-1 pt-2 text-[11px] text-gray-400",children:[e.jsx(_,{className:"h-3 w-3 shrink-0"}),e.jsx("span",{className:"truncate",children:s.location})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-gray-100 pt-3",children:[e.jsx("span",{className:"text-base font-black text-[var(--foreground)]",children:s.price||"Contact for price"}),e.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-[var(--primary)] opacity-0 transition-opacity duration-300 group-hover:opacity-100",children:["View",e.jsx(G,{className:"h-3.5 w-3.5"})]})]})]})]},s.id))})}function Re({products:a=[],pagination:s={},filters:n={}}){var i,l,t,o,m;const[d,u]=h.useState(!1);return e.jsxs(A,{children:[e.jsxs(R,{title:"Marketplace",children:[e.jsx("meta",{name:"description",content:"Shop the 2RBUAME marketplace for new and used products in Ghana. Find electronics, fashion, home goods, and more from trusted sellers."}),e.jsx("meta",{name:"keywords",content:"2RBUAME marketplace, buy and sell Ghana, online shopping, products Ghana, electronics, fashion, home goods"}),e.jsx("meta",{property:"og:title",content:"Marketplace - Buy & Sell on 2RBUAME"}),e.jsx("meta",{property:"og:description",content:"Discover amazing products from trusted sellers across Ghana. Shop electronics, fashion, home goods, and more."}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{name:"twitter:title",content:"Marketplace - Buy & Sell on 2RBUAME"}),e.jsx("meta",{name:"twitter:description",content:"Discover amazing products from trusted sellers across Ghana."})]}),e.jsx(H,{}),e.jsxs("div",{className:"flex grow flex-col lg:flex-row",children:[e.jsx(M,{filters:n,isMobile:!1}),d&&e.jsx("div",{className:"lg:hidden",children:e.jsx(M,{filters:n,isMobile:!0})}),e.jsxs("main",{className:"flex flex-1 flex-col bg-background-light p-4 md:p-6 lg:p-8",children:[e.jsx(Q,{filters:n,pagination:s,onFilterToggle:()=>u(!d)}),e.jsx(W,{products:a}),s.last_page>1&&e.jsxs("div",{className:"mt-12 flex items-center justify-center gap-2",children:[e.jsx(g,{asChild:!0,variant:"outline",disabled:s.current_page===1,className:"h-10 rounded-lg border border-[var(--buame-border-light)] bg-white px-4 disabled:opacity-50",children:e.jsx(w,{href:((l=(i=s.links)==null?void 0:i.find(c=>c.label==="&laquo; Previous"))==null?void 0:l.url)||"#",preserveState:!0,preserveScroll:!0,children:e.jsx(I,{className:"h-4 w-4"})})}),e.jsx("div",{className:"flex gap-1",children:(t=s.links)==null?void 0:t.map((c,f)=>{if(c.label==="&laquo; Previous"||c.label==="Next &raquo;")return null;const b=c.label,y=c.active;return e.jsx(g,{asChild:!0,variant:y?"default":"outline",className:`h-10 min-w-10 rounded-lg px-4 ${y?"bg-[var(--primary)] text-white":"border border-[var(--buame-border-light)] bg-white"}`,children:e.jsx(w,{href:c.url||"#",preserveState:!0,preserveScroll:!0,children:b})},f)})}),e.jsx(g,{asChild:!0,variant:"outline",disabled:s.current_page===s.last_page,className:"h-10 rounded-lg border border-[var(--buame-border-light)] bg-white px-4 disabled:opacity-50",children:e.jsx(w,{href:((m=(o=s.links)==null?void 0:o.find(c=>c.label==="Next &raquo;"))==null?void 0:m.url)||"#",preserveState:!0,preserveScroll:!0,children:e.jsx(K,{className:"h-4 w-4"})})})]})]})]})]})}export{Re as default};
