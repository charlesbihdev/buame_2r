import{j as e,r as F,S as M,K as q,m as $,$ as Ve,L as Je}from"./app-PqdBg5cK.js";import{B as S}from"./button-Nzd8UvdP.js";import{c as se}from"./createLucideIcon-B8eLY3Eh.js";import{I as y}from"./input-DWqTumvJ.js";import{L as i}from"./label-DlPPOKZS.js";import{S as W,a as z,b as V,c as J,d as Y,e as Ae,f as Re}from"./select-Cto8Sobr.js";import{T}from"./textarea-CEmGBSjX.js";import{E}from"./eye-B1_IwPaZ.js";import{E as ve}from"./eye-off-DDrnCXfa.js";import{L as je}from"./loader-circle-DCj0xGg3.js";import{C as X}from"./circle-check-big-BUPI2cXT.js";import{a as Ye}from"./artisan-skills-CG4pv5k_.js";import{X as U,T as fe}from"./x-CFX3SZRV.js";import{I as B}from"./image-BpNBRDrM.js";import{P as H,S as ee}from"./square-pen-C79WPW_W.js";import{T as K}from"./trash-2-DaFcGeip.js";import{D as de,a as oe,b as ce,c as me,d as Ke,e as ge}from"./dialog-BErDWW0Y.js";import{G as we,B as Xe}from"./BillingCycleSelector-BSpCscmI.js";import{B as he}from"./briefcase-D-YuEgWp.js";import{S as ye}from"./shopping-bag-DjPr_nth.js";import{H as Ne}from"./house-D59dYER_.js";import{B as De}from"./bike-YilMXtpE.js";import{H as Le}from"./hotel-BG9EqpLZ.js";import{H as Oe}from"./hammer-Dh24HioK.js";import{L as Qe,a as Ze}from"./log-out-4yelobI2.js";import{U as ke}from"./users-D0xHUrXv.js";import{P as te}from"./phone-CYAm8T35.js";import{M as Ee}from"./message-square-DNXVByeh.js";import{S as Te}from"./store-ZdmARWYo.js";import{C as _e}from"./camera-CasbToOT.js";import{M as ie}from"./map-pin-14LeLPHY.js";import{S as Q}from"./star-B1fzKOXY.js";import{C as ea}from"./credit-card-CG4FlDji.js";import{C as aa,T as sa}from"./toast-provider-CneetJtP.js";import{C as Me}from"./clock-BahjQkUG.js";import{L as ra}from"./lock-BoLbNWm_.js";import{j as xe}from"./job-categories-DGN67Cpr.js";import{C as Ue}from"./copy-CaCafoda.js";import{E as $e}from"./external-link-OCnr3IL5.js";import{P as ue}from"./package-DRYagiNK.js";import{T as ta}from"./trending-up-CULFKzfk.js";import{A as la}from"./app-logo-Dx1gr6jK.js";import{M as ia}from"./menu-DKRtO50S.js";import{B as Ce}from"./bell-B4tri6qU.js";import{U as Se}from"./user-a7c-n9U2.js";import{C as na}from"./car-_pnFYVpd.js";import{B as da}from"./building-2-BFkUNHeA.js";import"./index-BZOzmQlM.js";import"./index-S2U6HrOL.js";import"./index-QSB-GsJ6.js";import"./Combination-DRncUWQS.js";import"./index-Dwf6sNAO.js";import"./index-B1-mkZZ3.js";import"./index-CCH6_Cv3.js";import"./chevron-down-IVo-Wz4A.js";import"./check-C0U2uqrC.js";import"./chevron-up-DrC3uQr-.js";import"./index-C8-f4pJ6.js";import"./index-vr7T2rmt.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],He=se("ArrowUpRight",oa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ae=se("CircleAlert",ca);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],ne=se("ImagePlus",ma);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],xa=se("ListChecks",ha);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ga=se("Pen",ua);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Be=se("Save",pa);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Z=se("Upload",ba);function h({error:a,className:s=""}){if(!a)return null;const r=Array.isArray(a)?a[0]:a;return e.jsxs("div",{className:`flex items-center gap-2 text-sm text-red-600 dark:text-red-400 ${s}`,children:[e.jsx(ae,{className:"h-4 w-4 shrink-0"}),e.jsx("span",{children:r})]})}function va({checked:a,onCheckedChange:s,id:r,className:t="",...l}){return e.jsx("button",{type:"button",role:"switch","aria-checked":a,id:r,onClick:()=>s(!a),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-[var(--primary)] focus:ring-offset-2 ${a?"bg-[var(--primary)]":"bg-gray-300 dark:bg-gray-600"} ${t}`,...l,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a?"translate-x-6":"translate-x-1"}`})})}function ja({listing:a,routeName:s,label:r="Listing",onBeforeToggle:t}){const[l,p]=F.useState((a==null?void 0:a.is_active)??!1),[c,n]=F.useState(!1);F.useEffect(()=>{p((a==null?void 0:a.is_active)??!1)},[a==null?void 0:a.is_active]);const o=()=>{if(t&&t()===!1)return;const j=l;p(!l),n(!0),M.post(route(s),{},{preserveScroll:!0,preserveState:!0,only:["categoryData","flash"],onFinish:()=>n(!1),onError:()=>{p(j),n(!1)}})};return e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-[var(--buame-border-light)] bg-white px-3 py-1.5 md:px-4 md:py-2 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[l?e.jsx(E,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(ve,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{className:"hidden flex-col md:flex",children:[e.jsx(i,{className:"cursor-pointer text-xs font-semibold text-[var(--foreground)] dark:text-white",children:l?"Visible":"Hidden"}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r})]}),e.jsx(va,{checked:l,onCheckedChange:o,disabled:c,className:"ml-1 md:ml-2"})]})}function re({isProcessing:a,isDirty:s,onClick:r,position:t="bottom"}){return e.jsx(S,{type:"button",onClick:r,disabled:!s||a,variant:s?"default":"ghost",className:"gap-2",children:a?e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):s?e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4"}),"Save Changes"]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4"}),"Saved"]})})}function le({listing:a,routeName:s,label:r="Listing",onBeforeToggle:t,saveButton:l}){const p=(a==null?void 0:a.is_active)??!1;return e.jsx("div",{className:`rounded-xl border-2 p-6 ${p?"border-[var(--primary)] bg-[var(--buame-border-light)] dark:bg-[#1a331a]":"border-[var(--accent)]/30 bg-[var(--accent)]/10 dark:border-[var(--accent)]/20 dark:bg-[var(--accent)]/5"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${p?"bg-[var(--primary)]/20":"bg-[var(--accent)]/20 dark:bg-[var(--accent)]/10"}`,children:p?e.jsx(E,{className:"h-6 w-6 text-[var(--primary)]"}):e.jsx(ve,{className:"h-6 w-6 text-[var(--accent)] dark:text-[var(--accent)]"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:[r," is ",p?"Visible":"Hidden"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:p?`Your ${r.toLowerCase()} is visible to visitors`:`Your ${r.toLowerCase()} is hidden from visitors. Toggle to make it visible.`})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2 sm:flex-row sm:items-center",children:[l&&e.jsx(re,{isProcessing:l.isProcessing,isDirty:l.isDirty,onClick:l.onClick,position:"top"}),e.jsx(ja,{listing:a,routeName:s,label:r,onBeforeToggle:t})]})]})})}function ya({profile:a}){var u;const{errors:s}=q().props,[r,t]=F.useState(((u=a==null?void 0:a.specialties)==null?void 0:u.map(m=>m.specialty))||[]),[l,p]=F.useState(""),[c,n]=F.useState((a==null?void 0:a.profile_image)||null),{data:o,setData:j,post:v,processing:x,errors:b,recentlySuccessful:d,isDirty:g}=$({_method:"PUT",name:(a==null?void 0:a.name)||"",company_name:(a==null?void 0:a.company_name)||"",skill_type:(a==null?void 0:a.skill_type)||"",description:(a==null?void 0:a.description)||"",experience_years:(a==null?void 0:a.experience_years)||"",experience_level:(a==null?void 0:a.experience_level)||"expert",price_per_day:(a==null?void 0:a.price_per_day)||"",show_price:(a==null?void 0:a.show_price)??!1,location:(a==null?void 0:a.location)||"",address:(a==null?void 0:a.address)||"",phone:(a==null?void 0:a.phone)||"",phone_2:(a==null?void 0:a.phone_2)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",working_hours:(a==null?void 0:a.working_hours)||"",is_available:(a==null?void 0:a.is_available)??!0,specialties:r,profile_image:null}),P=()=>{if(l.trim()&&!r.includes(l.trim())){const m=[...r,l.trim()];t(m),j("specialties",m),p("")}},C=m=>{const N=r.filter((k,I)=>I!==m);t(N),j("specialties",N)},w=m=>{const N=m.target.files[0];if(N){j("profile_image",N);const k=new FileReader;k.onloadend=()=>{n(k.result)},k.readAsDataURL(N)}},f=()=>{j("profile_image",null),n(null)},A=m=>{m==null||m.preventDefault(),a!=null&&a.id?v(route("user.dashboard.artisans.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}}):(o._method=void 0,v(route("user.dashboard.artisans.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}}))};return F.useEffect(()=>{j("specialties",r)},[r,j]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Artisan Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your artisan profile information"})]}),a&&e.jsx(le,{listing:a,routeName:"user.dashboard.artisans.toggle-active",label:"Profile",saveButton:{isProcessing:x,isDirty:g,onClick:A}}),e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Profile Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[c?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:c,alt:"Profile",className:"h-32 w-32 rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:f,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(U,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",children:e.jsx(B,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{htmlFor:"profile_image",children:"Profile Image (Thumbnail)"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500 dark:text-gray-400",children:"This image will be displayed as your thumbnail to visitors"}),e.jsxs("label",{htmlFor:"profile_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[var(--buame-border-light)] bg-white px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[e.jsx(Z,{className:"h-4 w-4"}),c?"Change Image":"Upload Image"]}),e.jsx("input",{id:"profile_image",type:"file",className:"hidden",accept:"image/*",onChange:w}),e.jsx(h,{error:b.profile_image||(s==null?void 0:s.profile_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",children:"Full Name"}),e.jsx(y,{id:"name",value:o.name,onChange:m=>j("name",m.target.value),className:"mt-1",placeholder:"Kwame Mensah"}),e.jsx(h,{error:b.name||(s==null?void 0:s.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"skill_type",children:"Skill Type"}),e.jsxs(W,{value:o.skill_type,onValueChange:m=>j("skill_type",m),children:[e.jsx(z,{className:"mt-1",children:e.jsx(V,{placeholder:"Select skill type"})}),e.jsx(J,{className:"max-h-[300px]",children:Ye.map(m=>e.jsx(Y,{value:m.id,children:m.label},m.id))})]}),e.jsx(h,{error:b.skill_type||(s==null?void 0:s.skill_type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"company_name",children:["Company/Business Name ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"company_name",value:o.company_name,onChange:m=>j("company_name",m.target.value),className:"mt-1",placeholder:"Mensah's Carpentry Works"}),e.jsx(h,{error:b.company_name||(s==null?void 0:s.company_name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"experience_years",children:["Years of Experience ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"experience_years",type:"number",value:o.experience_years,onChange:m=>j("experience_years",m.target.value),className:"mt-1",placeholder:"12"}),e.jsx(h,{error:b.experience_years||(s==null?void 0:s.experience_years),className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"checkbox",id:"show_price",checked:o.show_price,onChange:m=>j("show_price",m.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(i,{htmlFor:"show_price",className:"cursor-pointer",children:"Show average price per day to visitors"})]}),o.show_price&&e.jsxs("div",{children:[e.jsx(i,{htmlFor:"price_per_day",children:"Average Price per Day (GH₵)"}),e.jsx(y,{id:"price_per_day",type:"number",step:"0.01",value:o.price_per_day,onChange:m=>j("price_per_day",m.target.value),className:"mt-1",placeholder:"80.00"}),e.jsx(h,{error:b.price_per_day||(s==null?void 0:s.price_per_day),className:"mt-1"})]})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"About"}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"description",children:["Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"description",value:o.description,onChange:m=>j("description",m.target.value),className:"mt-1",rows:4,placeholder:"Experienced master carpenter with over 12 years of expertise..."}),e.jsx(h,{error:b.description||(s==null?void 0:s.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Specialties"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{value:l,onChange:m=>p(m.target.value),onKeyPress:m=>m.key==="Enter"&&(m.preventDefault(),P()),placeholder:"Add specialty (e.g., Furniture)",className:"flex-1"}),e.jsx(S,{type:"button",onClick:P,variant:"outline",children:"Add"})]}),r.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:r.map((m,N)=>e.jsxs("span",{className:"flex items-center gap-2 rounded-md bg-[var(--primary)]/10 px-3 py-1 text-sm font-semibold text-[var(--primary)] dark:text-[var(--primary)]",children:[m,e.jsx("button",{type:"button",onClick:()=>C(N),className:"text-red-600 hover:text-red-800",children:"×"})]},N))})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"location",children:"Location"}),e.jsx(y,{id:"location",value:o.location,onChange:m=>j("location",m.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(h,{error:b.location||(s==null?void 0:s.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"address",children:["Full Address ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"address",value:o.address,onChange:m=>j("address",m.target.value),className:"mt-1",placeholder:"Street address"}),e.jsx(h,{error:b.address||(s==null?void 0:s.address),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"phone",children:"Phone"}),e.jsx(y,{id:"phone",value:o.phone,onChange:m=>j("phone",m.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(h,{error:b.phone||(s==null?void 0:s.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"phone_2",children:["Phone 2 ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"phone_2",value:o.phone_2,onChange:m=>j("phone_2",m.target.value),className:"mt-1",placeholder:"+233 24 987 6543"}),e.jsx(h,{error:b.phone_2||(s==null?void 0:s.phone_2),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"whatsapp",children:["WhatsApp ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"whatsapp",value:o.whatsapp,onChange:m=>j("whatsapp",m.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(h,{error:b.whatsapp||(s==null?void 0:s.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"email",type:"email",value:o.email,onChange:m=>j("email",m.target.value),className:"mt-1",placeholder:"kwame.mensah@example.com"}),e.jsx(h,{error:b.email||(s==null?void 0:s.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Working Hours"}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"working_hours",children:["Working Hours ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"working_hours",value:o.working_hours,onChange:m=>j("working_hours",m.target.value),className:"mt-1",placeholder:"Mon-Sat: 7:00 AM - 6:00 PM"}),e.jsx(h,{error:b.working_hours||(s==null?void 0:s.working_hours),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[d&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(re,{isProcessing:x,isDirty:g,onClick:A,position:"bottom"})]})]})]})}function Na({portfolio:a,onClose:s}){const{errors:r}=q().props,[t,l]=F.useState((a==null?void 0:a.image_path)||null),p=!!a,{data:c,setData:n,post:o,put:j,processing:v,errors:x,reset:b}=$({item:(a==null?void 0:a.item)||"",image:null}),d=C=>{const w=C.target.files[0];if(w){n("image",w);const f=new FileReader;f.onloadend=()=>{l(f.result)},f.readAsDataURL(w)}},g=()=>{n("image",null),l(null)},P=C=>{C.preventDefault(),p?j(route("user.dashboard.artisans.portfolio.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{b(),s()}}):o(route("user.dashboard.artisans.portfolio.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{b(),l(null),s()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--foreground)] dark:text-white",children:p?"Edit Portfolio Item":"Add Portfolio Item"}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(U,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"item",children:"Work Description"}),e.jsx(y,{id:"item",value:c.item,onChange:C=>n("item",C.target.value),className:"mt-1",placeholder:"e.g., Custom dining tables",required:!0}),e.jsx(h,{error:x.item||(r==null?void 0:r.item),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"image",children:"Image (Optional)"}),e.jsx("div",{className:"mt-2",children:t?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Preview",className:"h-48 w-full rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:g,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(U,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Z,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:d})]})}),e.jsx(h,{error:x.image||(r==null?void 0:r.image),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(S,{type:"button",variant:"outline",onClick:s,disabled:v,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:v,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:v?"Saving...":p?"Update":"Add Item"})]})]})]})})}function fa({profile:a}){const s=(a==null?void 0:a.portfolio)||[],[r,t]=F.useState(!1),[l,p]=F.useState(null),c=v=>{p(v),t(!0)},n=v=>{confirm("Are you sure you want to delete this portfolio item?")&&M.delete(route("user.dashboard.artisans.portfolio.destroy",v),{preserveScroll:!0})},o=()=>{p(null),t(!0)},j=()=>{t(!1),p(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Portfolio"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Showcase your completed work"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"My Portfolio"}),e.jsxs(S,{onClick:o,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Work"]})]}),s.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s.map(v=>e.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all hover:shadow-lg dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-800",children:[v.image_path?e.jsx("img",{src:v.image_path,alt:v.item,className:"h-full w-full object-cover"}):e.jsx(B,{className:"h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>c(v),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(ee,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>n(v.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(K,{className:"h-4 w-4 text-red-600"})})]})]}),e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"font-semibold text-[var(--foreground)] dark:text-white",children:v.item||"Work Item"})})]},v.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:[e.jsx(B,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No portfolio items yet"}),e.jsxs(S,{onClick:o,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Your First Work"]})]}),r&&e.jsx(Na,{portfolio:l,onClose:j})]})}function wa({activeSection:a,profile:s}){return a==="portfolio"?e.jsx(fa,{profile:s}):e.jsx(ya,{profile:s})}const ka={artisans:Oe,hotels:Le,transport:De,rentals:Ne,marketplace:ye,jobs:he},Pe={artisans:[{icon:E,text:"Your profile visible to customers searching for your skill"},{icon:B,text:"Upload photos of your past work as a portfolio"},{icon:te,text:"Customers contact you directly via call or WhatsApp"},{icon:Q,text:"Collect reviews and build your reputation"}],hotels:[{icon:_e,text:"Show off your hotel with a beautiful photo gallery"},{icon:ie,text:"Appear in local search so guests find you first"},{icon:te,text:"Guests reach you directly to book rooms"},{icon:Q,text:"Build trust with guest ratings and reviews"}],transport:[{icon:E,text:"Get listed so passengers can find and call you"},{icon:te,text:"Your number, your passengers, no middleman"},{icon:ie,text:"Show your service area so nearby people find you"},{icon:Q,text:"Build a trusted name with rider reviews"}],rentals:[{icon:_e,text:"Upload property photos that attract tenants fast"},{icon:E,text:"Your listing seen by hundreds of people searching"},{icon:te,text:"Tenants contact you direct, no agent wahala"},{icon:ie,text:"Show your property location for easy discovery"}],marketplace:[{icon:Te,text:"Your own seller profile, like a shop that never closes"},{icon:ye,text:"List all your products with photos and prices"},{icon:te,text:"Buyers call or WhatsApp you to purchase directly"},{icon:ke,text:"Reach more buyers than word of mouth ever could"}],jobs:[{icon:Qe,text:"Post job openings and manage listings easily"},{icon:ke,text:"Skilled local workers see your posting and reach out"},{icon:te,text:"Candidates contact you directly to apply"},{icon:Ee,text:"Describe exactly what you need, attract the right fit"}]};function qe({isOpen:a,onClose:s,category:r,subscription:t,isFreeAccess:l=!1,freeAccessDays:p=30}){const[c,n]=F.useState(!1),[o,j]=F.useState("starter"),v=t&&(t.subscription_status==="expired"||t.subscription_status==="grace_period"||t.is_expiring_soon),[x,b]=F.useState((t==null?void 0:t.billing_cycle)||"monthly"),{categories:d}=q().props,g=d==null?void 0:d[r];if(!g)return null;const P=ka[r]||he,C=g.tiers,w=r==="marketplace",f=Pe[r]||Pe.artisans,u=(()=>{var I;return w&&C&&((I=C[o])!=null&&I.pricing)?C[o].pricing:g.pricing||{monthly:g.price,biannually:g.price*5.4,annual:g.price*9.6}})(),m=u[x]||g.price,N=()=>{switch(x){case"biannually":return"6 months";case"annual":return"12 months";default:return"1 month"}},k=()=>{n(!0);const I={category:r};if(w&&(I.tier=o),l){M.post(route("user.dashboard.free-access"),I,{onFinish:()=>{n(!1),s()},onError:()=>n(!1)});return}I.billing_cycle=x,M.post(route("user.dashboard.payment.initialize"),I,{onFinish:()=>n(!1),onError:()=>n(!1)})};return e.jsx(de,{open:a,onOpenChange:s,children:e.jsxs(oe,{className:"flex max-h-[90vh] flex-col gap-0 overflow-hidden p-0 sm:max-w-lg",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-[var(--primary)] to-[var(--primary)]/80 px-6 pb-5 pt-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-white/20 backdrop-blur-sm",children:e.jsx(P,{className:"h-5 w-5 text-white"})}),e.jsx("div",{children:e.jsxs(ce,{className:"space-y-0",children:[e.jsx(me,{className:"text-lg font-bold text-white",children:v?`Renew ${g.label}`:`Get ${g.label}`}),e.jsx(Ke,{className:"text-sm text-white/70",children:v?"Continue where you left off":`Unlock your ${g.label.toLowerCase()} presence`})]})})]}),l&&e.jsxs("div",{className:"mt-4 flex items-center gap-2.5 rounded-lg bg-white/15 px-3.5 py-2.5 backdrop-blur-sm",children:[e.jsx(we,{className:"h-5 w-5 shrink-0 text-green-300"}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("span",{className:"text-sm font-semibold text-white",children:[p," days free"]}),e.jsx("span",{className:"ml-1.5 text-xs text-white/70",children:"No payment needed to start"})]})]})]}),e.jsxs("div",{className:"flex-1 space-y-5 overflow-y-auto px-6 py-5",children:[w&&C&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2.5 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Choose your plan"}),e.jsx("div",{className:"space-y-2",children:Object.entries(C).map(([I,R])=>e.jsx("button",{type:"button",onClick:()=>j(I),className:`w-full rounded-xl border-2 p-3.5 text-left transition-all ${o===I?"border-[var(--primary)] bg-[var(--primary)]/5 ring-1 ring-[var(--primary)]/20":"border-border bg-card hover:border-[var(--primary)]/40"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-bold text-foreground",children:R.name}),o===I&&e.jsx(X,{className:"h-4 w-4 text-[var(--primary)]"})]}),e.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:R.description})]}),e.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Up to ",R.product_limit," products"]})]})},I))})]}),!l&&e.jsx(Xe,{selected:x,onChange:b,pricing:u}),!l&&e.jsxs("div",{className:"flex items-baseline gap-2 rounded-xl bg-muted/50 px-4 py-3",children:[e.jsxs("span",{className:"text-3xl font-black text-foreground",children:["GH₵ ",(m==null?void 0:m.toFixed(2))||"0.00"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",N()]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"What you get"}),e.jsx("div",{className:"grid grid-cols-1 gap-2.5",children:f.map((I,R)=>{const D=I.icon;return e.jsxs("div",{className:"flex items-start gap-3 rounded-lg",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-[var(--primary)]/10",children:e.jsx(D,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("span",{className:"pt-1 text-sm text-foreground",children:I.text})]},R)})})]}),!l&&e.jsxs("div",{className:"flex items-start gap-2.5 rounded-xl border border-amber-200 bg-amber-50 p-3 dark:border-amber-900/50 dark:bg-amber-950/30",children:[e.jsx(ae,{className:"mt-0.5 h-4 w-4 shrink-0 text-amber-600 dark:text-amber-400"}),e.jsxs("p",{className:"text-xs leading-relaxed text-amber-700 dark:text-amber-300",children:["You'll be redirected to Paystack for secure payment. Active for ",N(),", with reminders before expiry."]})]})]}),e.jsx("div",{className:"border-t border-border px-6 py-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(S,{type:"button",variant:"outline",onClick:s,disabled:c,className:"flex-1",children:"Cancel"}),e.jsx(S,{type:"button",onClick:k,disabled:c,className:"flex-[2] cursor-pointer gap-2 bg-[var(--primary)] font-semibold text-white hover:bg-[var(--primary)]/90",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Processing..."]}):l?e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"h-4 w-4"}),"Start ",p,"-Day Free Trial"]}):e.jsxs(e.Fragment,{children:[e.jsx(ea,{className:"h-4 w-4"}),v?"Renew":"Pay"," GH₵ ",(m==null?void 0:m.toFixed(2))||"0.00"]})})]})})]})})}const Fe={active:{icon:X,label:"Active",className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"},grace_period:{icon:Me,label:"Grace Period",className:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400"},expired:{icon:aa,label:"Expired",className:"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"},cancelled:{icon:ae,label:"Cancelled",className:"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}};function _a({status:a,expiresAt:s,showExpiry:r=!0,size:t="default"}){const l=Fe[a]||Fe.expired,p=l.icon,c=j=>j?new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",n={small:"px-2 py-0.5 text-[10px]",default:"px-3 py-1 text-xs",large:"px-4 py-1.5 text-sm"},o={small:"h-3 w-3",default:"h-3.5 w-3.5",large:"h-4 w-4"};return e.jsxs("div",{className:`inline-flex items-center gap-1.5 rounded-full font-semibold ${l.className} ${n[t]}`,children:[e.jsx(p,{className:o[t]}),e.jsx("span",{children:l.label}),r&&s&&e.jsxs("span",{className:"opacity-75",children:["(",a==="active"?"Expires":"Expired",": ",c(s),")"]})]})}function Ca(a,s=null){const r={category:a};s&&(r.section=s),M.get(route("user.dashboard.index"),r,{preserveScroll:!0,preserveState:!1})}function Ge(a,s=null){const r={section:a};if(s)r.category=s;else{const l=new URLSearchParams(window.location.search).get("category");l&&(r.category=l)}M.get(route("user.dashboard.index"),r,{preserveScroll:!0,preserveState:!0})}const Sa={artisans:{label:"Artisans",icon:Oe,color:"blue"},hotels:{label:"Hotel",icon:Le,color:"green"},transport:{label:"Okada/Car",icon:De,color:"orange"},rentals:{label:"Rentals",icon:Ne,color:"purple"},marketplace:{label:"Marketplace",icon:ye,color:"pink"},jobs:{label:"Jobs",icon:he,color:"gray"}};function Pa({paidCategories:a,activeCategory:s,unpaidCategories:r,isFreeAccess:t=!1,freeAccessDays:l=30}){const[p,c]=F.useState(!1),[n,o]=F.useState(null),j=b=>{Ca(b)},v=b=>{o(b),c(!0)},x=()=>{c(!1),o(null)};return e.jsxs("div",{className:"mb-6 rounded-xl border border-[var(--buame-border-light)] bg-white p-4 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-sm font-bold tracking-wide text-[#4c9a4c] uppercase dark:text-[#8fcc8f]",children:"Your Categories"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-6",children:Object.entries(Sa).map(([b,d])=>{const g=d.icon,P=a==null?void 0:a.find(f=>f.category===b),C=!!P,w=s===b;return C?e.jsxs("button",{onClick:()=>!w&&j(b),className:`flex cursor-pointer flex-col items-center gap-2 rounded-lg border-2 p-3 transition-all ${w?"border-[var(--primary)] bg-[var(--primary)]/10":"border-[var(--buame-border-light)] hover:border-[var(--primary)]/50 dark:border-[#2a4d2a]"}`,children:[e.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${w?"bg-[var(--primary)] text-white":"bg-[var(--primary)]/10 text-[var(--primary)]"}`,children:e.jsx(g,{className:"h-5 w-5"})}),e.jsx("span",{className:`text-xs font-semibold ${w?"text-[var(--foreground)] dark:text-white":"text-[#4c9a4c] dark:text-[#8fcc8f]"}`,children:d.label}),P&&e.jsx(_a,{status:P.subscription_status,expiresAt:P.expires_at,showExpiry:!1,size:"small"})]},b):e.jsxs("button",{onClick:()=>v(b),className:"flex cursor-pointer flex-col items-center gap-2 rounded-lg border-2 border-dashed border-gray-300 p-3 opacity-60 transition-opacity hover:opacity-100 dark:border-gray-600",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100 text-gray-400 dark:bg-gray-800",children:e.jsx(ra,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400",children:d.label})]},b)})}),e.jsx(qe,{isOpen:p,onClose:x,category:n,isFreeAccess:t,freeAccessDays:l})]})}function Fa({image:a,onClose:s}){const{errors:r}=q().props,[t,l]=F.useState((a==null?void 0:a.image_path)||null),p=!!a,{data:c,setData:n,post:o,put:j,processing:v,errors:x,reset:b}=$({image:null,is_primary:(a==null?void 0:a.is_primary)||!1}),d=C=>{const w=C.target.files[0];if(w){n("image",w);const f=new FileReader;f.onloadend=()=>{l(f.result)},f.readAsDataURL(w)}},g=()=>{n("image",null),p||l(null)},P=C=>{C.preventDefault(),p?j(route("user.dashboard.hotels.images.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{b(),s()}}):o(route("user.dashboard.hotels.images.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{b(),l(null),s()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--foreground)] dark:text-white",children:p?"Edit Image":"Add Image"}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(U,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:P,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"image",children:"Hotel Image"}),e.jsx("div",{className:"mt-2",children:t?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Preview",className:"h-48 w-full rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:g,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(U,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Z,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:d})]})}),e.jsx(h,{error:x.image||(r==null?void 0:r.image),className:"mt-1"})]}),!p&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_primary",checked:c.is_primary,onChange:C=>n("is_primary",C.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(i,{htmlFor:"is_primary",className:"text-sm",children:"Set as primary image"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(S,{type:"button",variant:"outline",onClick:s,disabled:v,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:v,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:v?"Saving...":p?"Update":"Add Image"})]})]})]})})}function Ia({profile:a}){const s=(a==null?void 0:a.images)||[],[r,t]=F.useState(!1),[l,p]=F.useState(null),c=d=>{p(d),t(!0)},n=d=>{confirm("Are you sure you want to delete this image?")&&M.delete(route("user.dashboard.hotels.images.destroy",d),{preserveScroll:!0})},o=d=>{M.post(route("user.dashboard.hotels.images.set-primary",d),{},{preserveScroll:!0})},j=()=>{p(null),t(!0)},v=()=>{t(!1),p(null)},x=s.find(d=>d.is_primary),b=s.filter(d=>!d.is_primary);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Hotel Gallery"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your hotel images and showcase your property"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Property Images"}),e.jsxs(S,{onClick:j,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),x&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-4 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Primary Image"})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-lg",children:[e.jsx("img",{src:x.image_path,alt:"Primary",className:"h-64 w-full object-cover transition-transform group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>c(x),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(ee,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>n(x.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(K,{className:"h-4 w-4 text-red-600"})})]})]})]}),b.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:b.map(d=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all hover:shadow-lg dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:d.image_path,alt:"Hotel",className:"h-full w-full object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>o(d.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Set as Primary",children:e.jsx(Q,{className:"h-4 w-4 text-yellow-400"})}),e.jsx("button",{onClick:()=>c(d),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(ee,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>n(d.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(K,{className:"h-4 w-4 text-red-600"})})]})]})},d.id))}):!x&&e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:[e.jsx(B,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No images uploaded yet"}),e.jsxs(S,{onClick:j,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Your First Image"]})]}),r&&e.jsx(Fa,{image:l,onClose:v})]})}function Aa({profile:a}){var f,A;console.log("HotelProfile - profile:",a);const{errors:s}=q().props,r=((f=a==null?void 0:a.images)==null?void 0:f.find(u=>u.is_primary))||((A=a==null?void 0:a.images)==null?void 0:A[0]),[t,l]=F.useState((r==null?void 0:r.image_path)||null),[p,c]=F.useState(!!(a!=null&&a.price_per_night));if(!a||!a.id)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile..."})})});const{data:n,setData:o,post:j,processing:v,errors:x,recentlySuccessful:b,isDirty:d}=$({_method:"PUT",name:(a==null?void 0:a.name)||"",type:(a==null?void 0:a.type)||"hotel",description:(a==null?void 0:a.description)||"",location:(a==null?void 0:a.location)||"",address:(a==null?void 0:a.address)||"",phone:(a==null?void 0:a.phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",price_per_night:(a==null?void 0:a.price_per_night)||"",rooms_count:(a==null?void 0:a.rooms_count)||"",phone_2:(a==null?void 0:a.phone_2)||"",operating_hours_mode:(a==null?void 0:a.operating_hours_mode)||"disabled",check_in_time:(a==null?void 0:a.check_in_time)||"08:00",check_out_time:(a==null?void 0:a.check_out_time)||"20:00",primary_image:null}),g=[{value:"hotel",label:"Hotel"},{value:"guest_house",label:"Guest House"},{value:"lodge",label:"Lodge"},{value:"short_stay",label:"Short Stay"}],P=u=>{const m=u.target.files[0];if(m){o("primary_image",m);const N=new FileReader;N.onloadend=()=>{l(N.result)},N.readAsDataURL(m)}},C=()=>{o("primary_image",null),l(null)},w=u=>{if(u==null||u.preventDefault(),!(a!=null&&a.id)){console.error("Profile ID is missing. Cannot submit form.");return}j(route("user.dashboard.hotels.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Hotel Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your hotel profile information"})]}),a&&e.jsx(le,{listing:a,routeName:"user.dashboard.hotels.toggle-active",label:"Hotel",saveButton:{isProcessing:v,isDirty:d,onClick:w}}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Hotel Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[t?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Hotel",className:"h-32 w-32 rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:C,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(U,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",children:e.jsx(B,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{htmlFor:"primary_image",children:"Primary Image"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500 dark:text-gray-400",children:"This image will be displayed as your hotel thumbnail to visitors"}),e.jsxs("label",{htmlFor:"primary_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[var(--buame-border-light)] bg-white px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[e.jsx(Z,{className:"h-4 w-4"}),t?"Change Image":"Upload Image"]}),e.jsx("input",{id:"primary_image",type:"file",className:"hidden",accept:"image/*",onChange:P}),e.jsx(h,{error:x.primary_image||(s==null?void 0:s.primary_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",children:"Hotel Name"}),e.jsx(y,{id:"name",value:n.name,onChange:u=>o("name",u.target.value),className:"mt-1",placeholder:"Royal Palm Hotel"}),e.jsx(h,{error:x.name||(s==null?void 0:s.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"type",children:"Property Type"}),e.jsxs(W,{value:n.type,onValueChange:u=>o("type",u),children:[e.jsx(z,{className:"mt-1",children:e.jsx(V,{placeholder:"Select property type"})}),e.jsx(J,{children:g.map(u=>e.jsx(Y,{value:u.value,children:u.label},u.value))})]}),e.jsx(h,{error:x.type||(s==null?void 0:s.type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"rooms_count",children:["Number of Rooms ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"rooms_count",type:"number",value:n.rooms_count,onChange:u=>o("rooms_count",u.target.value),className:"mt-1",placeholder:"25"}),e.jsx(h,{error:x.rooms_count||(s==null?void 0:s.rooms_count),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Pricing"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showPricing",checked:p,onChange:u=>c(u.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(i,{htmlFor:"showPricing",className:"cursor-pointer text-sm text-gray-600 dark:text-gray-400",children:"Show pricing"})]})]}),p&&e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:e.jsxs("div",{children:[e.jsx(i,{htmlFor:"price_per_night",children:"Price per Night (GH₵)"}),e.jsx(y,{id:"price_per_night",type:"number",step:"0.01",value:n.price_per_night,onChange:u=>o("price_per_night",u.target.value),className:"mt-1",placeholder:"150.00"}),e.jsx(h,{error:x.price_per_night||(s==null?void 0:s.price_per_night),className:"mt-1"})]})})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"About Your Property"}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"description",children:["Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"description",value:n.description,onChange:u=>o("description",u.target.value),className:"mt-1",rows:4,placeholder:"Describe your property, its unique features, and what makes it special..."}),e.jsx(h,{error:x.description||(s==null?void 0:s.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"location",children:"Location"}),e.jsx(y,{id:"location",value:n.location,onChange:u=>o("location",u.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(h,{error:x.location||(s==null?void 0:s.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"address",children:["Full Address ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"address",value:n.address,onChange:u=>o("address",u.target.value),className:"mt-1",placeholder:"Street address"}),e.jsx(h,{error:x.address||(s==null?void 0:s.address),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"phone",children:"Phone"}),e.jsx(y,{id:"phone",value:n.phone,onChange:u=>o("phone",u.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(h,{error:x.phone||(s==null?void 0:s.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"phone_2",children:["Phone 2 ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"phone_2",value:n.phone_2,onChange:u=>o("phone_2",u.target.value),className:"mt-1",placeholder:"+233 24 987 6543"}),e.jsx(h,{error:x.phone_2||(s==null?void 0:s.phone_2),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"whatsapp",children:["WhatsApp ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"whatsapp",value:n.whatsapp,onChange:u=>o("whatsapp",u.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(h,{error:x.whatsapp||(s==null?void 0:s.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"email",type:"email",value:n.email,onChange:u=>o("email",u.target.value),className:"mt-1",placeholder:"info@royalpalmhotel.com"}),e.jsx(h,{error:x.email||(s==null?void 0:s.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:["Operating Hours ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:"Set the hours when your hotel reception is open and available for guests"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex cursor-pointer items-center gap-3",children:[e.jsx("input",{type:"radio",name:"operating_hours_mode",value:"disabled",checked:n.operating_hours_mode==="disabled",onChange:u=>o("operating_hours_mode",u.target.value),className:"h-4 w-4 border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"No operating hours"})]}),e.jsxs("label",{className:"flex cursor-pointer items-center gap-3",children:[e.jsx("input",{type:"radio",name:"operating_hours_mode",value:"24_7",checked:n.operating_hours_mode==="24_7",onChange:u=>o("operating_hours_mode",u.target.value),className:"h-4 w-4 border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Open 24/7"})]}),e.jsxs("label",{className:"flex cursor-pointer items-center gap-3",children:[e.jsx("input",{type:"radio",name:"operating_hours_mode",value:"custom",checked:n.operating_hours_mode==="custom",onChange:u=>o("operating_hours_mode",u.target.value),className:"h-4 w-4 border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Custom hours"})]})]}),n.operating_hours_mode==="custom"&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"check_in_time",children:"Opening Time"}),e.jsx(y,{id:"check_in_time",type:"time",value:n.check_in_time,onChange:u=>o("check_in_time",u.target.value),className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"When your reception opens"}),e.jsx(h,{error:x.check_in_time||(s==null?void 0:s.check_in_time),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"check_out_time",children:"Closing Time"}),e.jsx(y,{id:"check_out_time",type:"time",value:n.check_out_time,onChange:u=>o("check_out_time",u.target.value),className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"When your reception closes"}),e.jsx(h,{error:x.check_out_time||(s==null?void 0:s.check_out_time),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[b&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(re,{isProcessing:v,isDirty:d,onClick:w,position:"bottom"})]})]})]})}function Ra({profile:a}){var N;const{errors:s}=q().props,[r,t]=F.useState((a==null?void 0:a.amenities)||[]),[l,p]=F.useState(""),[c,n]=F.useState(((N=a==null?void 0:a.features)==null?void 0:N.map(k=>k.feature))||[]),[o,j]=F.useState(""),{data:v,setData:x,post:b,processing:d,errors:g,recentlySuccessful:P}=$({_method:"PUT",amenities:r,features:c}),C=["WiFi","Parking","Air Conditioning","Restaurant","Bar","Swimming Pool","Gym","Spa","Room Service","Laundry","Business Center","Conference Room","24/7 Reception","Security","Pet Friendly","Airport Shuttle","Breakfast Included","Kitchen","TV","Hot Water"],w=k=>{if(k&&!r.includes(k)){const I=[...r,k];t(I),x("amenities",I)}},f=k=>{const I=r.filter(R=>R!==k);t(I),x("amenities",I)},A=()=>{if(o.trim()&&!c.includes(o.trim())){const k=[...c,o.trim()];n(k),x("features",k),j("")}},u=k=>{const I=c.filter((R,D)=>D!==k);n(I),x("features",I)},m=k=>{if(k.preventDefault(),console.log("HotelSettings - Form submit started"),console.log("HotelSettings - Profile:",a),console.log("HotelSettings - Form data:",v),!(a!=null&&a.id)){console.error("Profile ID is missing. Cannot submit form.");return}console.log("HotelSettings - Submitting to:",route("user.dashboard.hotels.update",a.id)),b(route("user.dashboard.hotels.update",a.id),{preserveScroll:!0,onSuccess:I=>{console.log("HotelSettings - Success!",I)},onError:I=>{console.error("HotelSettings - Errors:",I)},onFinish:()=>{console.log("HotelSettings - Request finished")}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Hotel Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage amenities and features for your property"})]}),e.jsxs("form",{onSubmit:m,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Amenities"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:"Select amenities available at your property. These help guests find your property."}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{className:"mb-2 block text-sm",children:"Quick Add"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(k=>e.jsxs("button",{type:"button",onClick:()=>w(k),disabled:r.includes(k),className:"rounded-md border border-[var(--buame-border-light)] bg-white px-3 py-1 text-xs font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] disabled:opacity-50 disabled:cursor-not-allowed dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[r.includes(k)?"✓ ":"+ ",k]},k))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"custom_amenity",className:"mb-2 block text-sm",children:"Add Custom Amenity"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{id:"custom_amenity",value:l,onChange:k=>p(k.target.value),placeholder:"e.g., Rooftop Terrace",className:"flex-1"}),e.jsx(S,{type:"button",onClick:()=>{w(l),p("")},disabled:!l.trim()||r.includes(l.trim()),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:e.jsx(H,{className:"h-4 w-4"})})]})]}),r.length>0?e.jsxs("div",{children:[e.jsxs(i,{className:"mb-2 block text-sm",children:["Selected Amenities (",r.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(k=>e.jsxs("div",{className:"flex items-center gap-1 rounded-md bg-[var(--primary)]/10 px-3 py-1 text-sm text-white dark:text-white",children:[e.jsx("span",{children:k}),e.jsx("button",{type:"button",onClick:()=>f(k),className:"ml-1 text-red-600 hover:text-red-700",children:e.jsx(U,{className:"h-3 w-3"})})]},k))})]}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No amenities added yet"}),e.jsx(h,{error:g.amenities||(s==null?void 0:s.amenities),className:"mt-1"})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Features & Services"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600 dark:text-gray-400",children:'Add special features or services your property offers (e.g., "24/7 Reception", "Room Service").'}),e.jsxs("div",{className:"mb-4",children:[e.jsx(i,{htmlFor:"new_feature",className:"mb-2 block text-sm",children:"Add Feature"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{id:"new_feature",value:o,onChange:k=>j(k.target.value),onKeyPress:k=>{k.key==="Enter"&&(k.preventDefault(),A())},placeholder:"e.g., 24/7 Reception",className:"flex-1"}),e.jsx(S,{type:"button",onClick:A,disabled:!o.trim(),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:e.jsx(H,{className:"h-4 w-4"})})]})]}),c.length>0?e.jsxs("div",{children:[e.jsxs(i,{className:"mb-2 block text-sm",children:["Features (",c.length,")"]}),e.jsx("div",{className:"space-y-2",children:c.map((k,I)=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border border-[var(--buame-border-light)] bg-white px-3 py-2 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("span",{className:"text-sm text-[var(--foreground)] dark:text-white",children:k}),e.jsx("button",{type:"button",onClick:()=>u(I),className:"text-red-600 hover:text-red-700",children:e.jsx(K,{className:"h-4 w-4"})})]},I))})]}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No features added yet"}),e.jsx(h,{error:g.features||(s==null?void 0:s.features),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[P&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Settings saved successfully"})]}),e.jsx(S,{type:"submit",disabled:d,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:d?e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4"}),"Save Settings"]})})]})]})]})}function Da({activeSection:a,profile:s}){switch(a){case"gallery":return e.jsx(Ia,{profile:s});case"settings":return e.jsx(Ra,{profile:s});case"profile":default:return e.jsx(Aa,{profile:s})}}function La({isOpen:a,onClose:s,job:r}){const{data:t,setData:l,put:p,processing:c,errors:n,reset:o,clearErrors:j}=$({_method:"put",title:(r==null?void 0:r.title)||"",company:(r==null?void 0:r.company)||"",type:(r==null?void 0:r.type)||"",category:(r==null?void 0:r.category)||"",sub_category:(r==null?void 0:r.sub_category)||"",salary:(r==null?void 0:r.salary)||"",location:(r==null?void 0:r.location)||"",address:(r==null?void 0:r.address)||"",latitude:(r==null?void 0:r.latitude)||"",longitude:(r==null?void 0:r.longitude)||"",phone:(r==null?void 0:r.phone)||"",phone_2:(r==null?void 0:r.phone_2)||"",whatsapp:(r==null?void 0:r.whatsapp)||"",email:(r==null?void 0:r.email)||"",description:(r==null?void 0:r.description)||"",requirements:(r==null?void 0:r.requirements)||"",responsibilities:(r==null?void 0:r.responsibilities)||"",benefits:(r==null?void 0:r.benefits)||"",application_link:(r==null?void 0:r.application_link)||"",application_instructions:(r==null?void 0:r.application_instructions)||"",is_urgent:(r==null?void 0:r.is_urgent)||!1}),v=g=>{g.preventDefault(),p(route("user.dashboard.jobs.update",r.id),{preserveScroll:!0,onSuccess:()=>{x()}})},x=()=>{o(),j(),s()},b=g=>{const P=xe.find(C=>C.subRoles&&C.subRoles.some(w=>w.id===g));P?l(C=>({...C,sub_category:g,category:P.id})):l("sub_category",g)},d=[{value:"full_time",label:"Full Time"},{value:"part_time",label:"Part Time"},{value:"contract",label:"Contract"},{value:"internship",label:"Internship"},{value:"daily_wage",label:"Daily Wage"},{value:"apprenticeship",label:"Apprenticeship"}];return!a||!r?null:e.jsx(de,{open:a,onOpenChange:x,children:e.jsxs(oe,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(ce,{children:e.jsx(me,{children:"Edit Job"})}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-title",children:"Job Title *"}),e.jsx(y,{id:"edit-title",value:t.title,onChange:g=>l("title",g.target.value),placeholder:"Enter job title",required:!0}),e.jsx(h,{error:n.title})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-company",children:"Company Name *"}),e.jsx(y,{id:"edit-company",value:t.company,onChange:g=>l("company",g.target.value),placeholder:"Enter company name",required:!0}),e.jsx(h,{error:n.company})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-type",children:"Job Type *"}),e.jsxs(W,{value:t.type,onValueChange:g=>l("type",g),children:[e.jsx(z,{children:e.jsx(V,{placeholder:"Select type"})}),e.jsx(J,{children:d.map(g=>e.jsx(Y,{value:g.value,children:g.label},g.value))})]}),e.jsx(h,{error:n.type})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-sub_category",children:"Job Role / Category *"}),e.jsxs(W,{value:t.sub_category,onValueChange:b,children:[e.jsx(z,{children:e.jsx(V,{placeholder:"Select job role"})}),e.jsx(J,{children:xe.map(g=>e.jsxs(Ae,{children:[e.jsx(Re,{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:g.label}),g.subRoles&&g.subRoles.map(P=>e.jsx(Y,{value:P.id,children:P.label},P.id))]},g.id))})]}),e.jsx(h,{error:n.sub_category}),e.jsx(h,{error:n.category})]})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-salary",children:["Salary ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"edit-salary",value:t.salary,onChange:g=>l("salary",g.target.value),placeholder:"e.g., GH₵ 2,000 - 3,000/month"}),e.jsx(h,{error:n.salary})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-location",children:"Location *"}),e.jsx(y,{id:"edit-location",value:t.location,onChange:g=>l("location",g.target.value),placeholder:"Enter location",required:!0}),e.jsx(h,{error:n.location})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-address",children:["Address ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"edit-address",value:t.address,onChange:g=>l("address",g.target.value),placeholder:"Enter full address (optional)",rows:2}),e.jsx(h,{error:n.address})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-phone",children:"Phone *"}),e.jsx(y,{id:"edit-phone",value:t.phone,onChange:g=>l("phone",g.target.value),placeholder:"Phone number",required:!0}),e.jsx(h,{error:n.phone})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-phone_2",children:["Phone 2 ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"edit-phone_2",value:t.phone_2,onChange:g=>l("phone_2",g.target.value),placeholder:"Second phone number"}),e.jsx(h,{error:n.phone_2})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-whatsapp",children:["WhatsApp ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"edit-whatsapp",value:t.whatsapp,onChange:g=>l("whatsapp",g.target.value),placeholder:"WhatsApp number"}),e.jsx(h,{error:n.whatsapp})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-email",children:["Email ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"edit-email",type:"email",value:t.email,onChange:g=>l("email",g.target.value),placeholder:"Email address"}),e.jsx(h,{error:n.email})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-description",children:"Job Description *"}),e.jsx(T,{id:"edit-description",value:t.description,onChange:g=>l("description",g.target.value),placeholder:"Describe the job position...",rows:4,required:!0}),e.jsx(h,{error:n.description})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-requirements",children:["Requirements ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"edit-requirements",value:t.requirements,onChange:g=>l("requirements",g.target.value),placeholder:"List job requirements (one per line or as paragraphs)",rows:4}),e.jsx(h,{error:n.requirements})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-responsibilities",children:["Responsibilities ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"edit-responsibilities",value:t.responsibilities,onChange:g=>l("responsibilities",g.target.value),placeholder:"List job responsibilities (one per line or as paragraphs)",rows:4}),e.jsx(h,{error:n.responsibilities})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-benefits",children:["Benefits ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"edit-benefits",value:t.benefits,onChange:g=>l("benefits",g.target.value),placeholder:"List job benefits (one per line or as paragraphs)",rows:4}),e.jsx(h,{error:n.benefits})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-application_link",children:["Application Link ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"edit-application_link",type:"url",value:t.application_link,onChange:g=>l("application_link",g.target.value),placeholder:"https://example.com/apply"}),e.jsx(h,{error:n.application_link})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-application_instructions",children:["Application Instructions ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"edit-application_instructions",value:t.application_instructions,onChange:g=>l("application_instructions",g.target.value),placeholder:"Provide instructions on how to apply for this job",rows:3}),e.jsx(h,{error:n.application_instructions})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"edit-is_urgent",checked:t.is_urgent,onChange:g=>l("is_urgent",g.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(i,{htmlFor:"edit-is_urgent",className:"cursor-pointer",children:"Mark as Urgent"})]}),e.jsxs(ge,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:x,disabled:c,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:c,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:c?"Saving...":"Save Changes"})]})]})]})})}function Oa({listings:a,onAddJob:s,poster:r}){const[t,l]=F.useState(!1),[p,c]=F.useState(null),n=()=>{s&&s()},o=b=>{c(b),l(!0)},j=b=>{confirm(`Are you sure you want to delete "${b.title}"? This action cannot be undone.`)&&M.delete(route("user.dashboard.jobs.destroy",b.id),{preserveScroll:!0})},v=b=>{M.post(route("user.dashboard.jobs.toggle-active",b.id),{preserveScroll:!0})},x=b=>({full_time:"Full Time",part_time:"Part Time",contract:"Contract",internship:"Internship",daily_wage:"Daily Wage",apprenticeship:"Apprenticeship"})[b]||b;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"My Job Postings"}),r&&e.jsxs(S,{onClick:n,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Post Job"]})]}),a&&a.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(b=>e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] overflow-hidden transition-all hover:shadow-lg",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-[var(--foreground)] dark:text-white",children:b.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:b.company})]}),b.is_urgent&&e.jsx("span",{className:"rounded-full bg-red-500 px-2 py-0.5 text-xs font-bold text-white",children:"Urgent"})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"rounded bg-[var(--primary)]/10 px-2 py-0.5 text-xs font-medium text-[var(--primary)]",children:x(b.type)}),b.salary&&e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:b.salary})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(ie,{className:"h-3 w-3"}),e.jsx("span",{children:b.location})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx(S,{onClick:()=>v(b),variant:b.is_active?"outline":"default",size:"sm",className:b.is_active?"flex-1 border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20":"flex-1 bg-gray-500 text-white hover:bg-gray-600",children:b.is_active?e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"mr-2 h-3 w-3"}),"Live"]}):e.jsxs(e.Fragment,{children:[e.jsx(ve,{className:"mr-2 h-3 w-3"}),"Hidden"]})}),e.jsx(S,{onClick:()=>o(b),variant:"outline",size:"sm",children:e.jsx(ee,{className:"h-3 w-3"})}),e.jsx(S,{onClick:()=>j(b),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:e.jsx(K,{className:"h-3 w-3"})})]})]})},b.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-12 text-center",children:[e.jsx(he,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:r?"No job postings yet. Start posting jobs!":"Please set up your employer profile first to post jobs."}),r&&e.jsxs(S,{onClick:n,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Post Your First Job"]})]}),e.jsx(La,{isOpen:t,onClose:()=>{l(!1),c(null)},job:p})]})}function Ta({poster:a}){const[s,r]=F.useState(!1),[t,l]=F.useState((a==null?void 0:a.slug)||""),{data:p,setData:c,put:n,processing:o,errors:j,reset:v,isDirty:x}=$({name:(a==null?void 0:a.name)||"",slug:(a==null?void 0:a.slug)||"",description:(a==null?void 0:a.description)||"",location:(a==null?void 0:a.location)||"",phone:(a==null?void 0:a.phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",website:(a==null?void 0:a.website)||""});F.useEffect(()=>{a&&(c({name:a.name||"",slug:a.slug||"",description:a.description||"",location:a.location||"",phone:a.phone||"",whatsapp:a.whatsapp||"",email:a.email||"",website:a.website||""}),l(a.slug||""))},[a]);const b=f=>{const A=f.target.value;if(c("name",A),!t||t===(a==null?void 0:a.slug)){const u=A.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");c("slug",u),l(u)}},d=f=>{const A=f.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");c("slug",A),l(A)},g=f=>{f==null||f.preventDefault(),n(route("user.dashboard.jobs.poster.update"),{preserveScroll:!0,onSuccess:()=>{v()}})},P=async f=>{var u;if((u=navigator==null?void 0:navigator.clipboard)!=null&&u.writeText&&window.isSecureContext){await navigator.clipboard.writeText(f);return}const A=document.createElement("textarea");A.value=f,A.setAttribute("readonly",""),A.style.position="fixed",A.style.top="-9999px",A.style.left="-9999px",document.body.appendChild(A),A.select(),document.execCommand("copy"),document.body.removeChild(A)},C=async()=>{const f=`${window.location.origin}/jobs/employer/${p.slug||(a==null?void 0:a.slug)}`;try{await P(f),r(!0),setTimeout(()=>r(!1),2e3)}catch(A){console.error("Copy failed:",A)}},w=`${window.location.origin}/jobs/employer/${p.slug||(a==null?void 0:a.slug)||"your-profile"}`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Employer Profile"}),e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Manage your employer profile and contact information"})]}),e.jsx(le,{listing:a,routeName:"user.dashboard.jobs.poster.toggle-active",label:"Profile",saveButton:{isProcessing:o,isDirty:x,onClick:g}}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Employer Name *"}),e.jsx(y,{id:"name",value:p.name,onChange:b,placeholder:"Enter employer name",className:"w-full",required:!0}),e.jsx(h,{error:j.name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"slug",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Profile URL Slug"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm whitespace-nowrap text-gray-500",children:"/jobs/employer/"}),e.jsx(y,{id:"slug",value:p.slug,onChange:d,placeholder:"your-profile",className:"flex-1",pattern:"[a-z0-9\\-]+"})]}),e.jsx(h,{error:j.slug}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(i,{htmlFor:"description",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"About Employer"}),e.jsx(T,{id:"description",value:p.description,onChange:f=>c("description",f.target.value),placeholder:"Tell job seekers about yourself...",rows:4,className:"w-full"}),e.jsx(h,{error:j.description})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(i,{className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Your Profile Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{value:w,readOnly:!0,className:"flex-1 text-sm"}),e.jsx(S,{onClick:C,variant:"outline",type:"button",size:"icon",children:s?e.jsx(X,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx(S,{variant:"outline",asChild:!0,type:"button",size:"icon",children:e.jsx("a",{href:w,target:"_blank",rel:"noopener noreferrer",children:e.jsx($e,{className:"h-4 w-4"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Share this link to show all your job postings"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(i,{htmlFor:"location",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Location"}),e.jsx(y,{id:"location",value:p.location,onChange:f=>c("location",f.target.value),placeholder:"e.g., Accra, Ghana",className:"w-full"}),e.jsx(h,{error:j.location})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 font-semibold text-[var(--foreground)] dark:text-white",children:"Contact Information"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"phone",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Phone Number *"}),e.jsx(y,{id:"phone",value:p.phone,onChange:f=>c("phone",f.target.value),placeholder:"Phone number"}),e.jsx(h,{error:j.phone})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"whatsapp",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"WhatsApp"}),e.jsx(y,{id:"whatsapp",value:p.whatsapp,onChange:f=>c("whatsapp",f.target.value),placeholder:"WhatsApp number"}),e.jsx(h,{error:j.whatsapp})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"email",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Email"}),e.jsx(y,{id:"email",type:"email",value:p.email,onChange:f=>c("email",f.target.value),placeholder:"Email address"}),e.jsx(h,{error:j.email})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"website",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Website"}),e.jsx(y,{id:"website",type:"url",value:p.website,onChange:f=>c("website",f.target.value),placeholder:"https://yourwebsite.com"}),e.jsx(h,{error:j.website})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(re,{isProcessing:o,isDirty:x,onClick:g,position:"bottom"})})]})]})}function Ma({isOpen:a,onClose:s}){const{data:r,setData:t,post:l,processing:p,errors:c,reset:n,clearErrors:o}=$({title:"",company:"",type:"",category:"",sub_category:"",salary:"",location:"",address:"",latitude:"",longitude:"",phone:"",phone_2:"",whatsapp:"",email:"",description:"",requirements:"",responsibilities:"",benefits:"",application_link:"",application_instructions:"",is_urgent:!1}),j=d=>{d.preventDefault(),l(route("user.dashboard.jobs.store"),{preserveScroll:!0,onSuccess:()=>{v()}})},v=()=>{n(),o(),s()},x=d=>{const g=xe.find(P=>P.subRoles&&P.subRoles.some(C=>C.id===d));g?t(P=>({...P,sub_category:d,category:g.id})):t("sub_category",d)},b=[{value:"full_time",label:"Full Time"},{value:"part_time",label:"Part Time"},{value:"contract",label:"Contract"},{value:"internship",label:"Internship"},{value:"daily_wage",label:"Daily Wage"},{value:"apprenticeship",label:"Apprenticeship"}];return a?e.jsx(de,{open:a,onOpenChange:v,children:e.jsxs(oe,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(ce,{children:e.jsx(me,{children:"Post New Job"})}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"title",children:"Job Title *"}),e.jsx(y,{id:"title",value:r.title,onChange:d=>t("title",d.target.value),placeholder:"Enter job title",required:!0}),e.jsx(h,{error:c.title})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"company",children:"Company Name *"}),e.jsx(y,{id:"company",value:r.company,onChange:d=>t("company",d.target.value),placeholder:"Enter company name",required:!0}),e.jsx(h,{error:c.company})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"type",children:"Job Type *"}),e.jsxs(W,{value:r.type,onValueChange:d=>t("type",d),children:[e.jsx(z,{children:e.jsx(V,{placeholder:"Select type"})}),e.jsx(J,{children:b.map(d=>e.jsx(Y,{value:d.value,children:d.label},d.value))})]}),e.jsx(h,{error:c.type})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"sub_category",children:"Job Role / Category *"}),e.jsxs(W,{value:r.sub_category,onValueChange:x,children:[e.jsx(z,{children:e.jsx(V,{placeholder:"Select job role"})}),e.jsx(J,{children:xe.map(d=>e.jsxs(Ae,{children:[e.jsx(Re,{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:d.label}),d.subRoles&&d.subRoles.map(g=>e.jsx(Y,{value:g.id,children:g.label},g.id))]},d.id))})]}),e.jsx(h,{error:c.sub_category}),e.jsx(h,{error:c.category})]})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"salary",children:["Salary ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"salary",value:r.salary,onChange:d=>t("salary",d.target.value),placeholder:"e.g., GH₵ 2,000 - 3,000/month"}),e.jsx(h,{error:c.salary})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"location",children:"Location *"}),e.jsx(y,{id:"location",value:r.location,onChange:d=>t("location",d.target.value),placeholder:"Enter location",required:!0}),e.jsx(h,{error:c.location})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"address",children:["Address ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"address",value:r.address,onChange:d=>t("address",d.target.value),placeholder:"Enter full address (optional)",rows:2}),e.jsx(h,{error:c.address})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"phone",children:"Phone *"}),e.jsx(y,{id:"phone",value:r.phone,onChange:d=>t("phone",d.target.value),placeholder:"Phone number",required:!0}),e.jsx(h,{error:c.phone})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"phone_2",children:["Phone 2 ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"phone_2",value:r.phone_2,onChange:d=>t("phone_2",d.target.value),placeholder:"Second phone number"}),e.jsx(h,{error:c.phone_2})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"whatsapp",children:["WhatsApp ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"whatsapp",value:r.whatsapp,onChange:d=>t("whatsapp",d.target.value),placeholder:"WhatsApp number"}),e.jsx(h,{error:c.whatsapp})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"email",type:"email",value:r.email,onChange:d=>t("email",d.target.value),placeholder:"Email address"}),e.jsx(h,{error:c.email})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"description",children:"Job Description *"}),e.jsx(T,{id:"description",value:r.description,onChange:d=>t("description",d.target.value),placeholder:"Describe the job position...",rows:4,required:!0}),e.jsx(h,{error:c.description})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"requirements",children:["Requirements ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"requirements",value:r.requirements,onChange:d=>t("requirements",d.target.value),placeholder:"List job requirements (one per line or as paragraphs)",rows:4}),e.jsx(h,{error:c.requirements})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"responsibilities",children:["Responsibilities ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"responsibilities",value:r.responsibilities,onChange:d=>t("responsibilities",d.target.value),placeholder:"List job responsibilities (one per line or as paragraphs)",rows:4}),e.jsx(h,{error:c.responsibilities})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"benefits",children:["Benefits ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"benefits",value:r.benefits,onChange:d=>t("benefits",d.target.value),placeholder:"List job benefits (one per line or as paragraphs)",rows:4}),e.jsx(h,{error:c.benefits})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"application_link",children:["Application Link ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"application_link",type:"url",value:r.application_link,onChange:d=>t("application_link",d.target.value),placeholder:"https://example.com/apply"}),e.jsx(h,{error:c.application_link})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"application_instructions",children:["Application Instructions ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"application_instructions",value:r.application_instructions,onChange:d=>t("application_instructions",d.target.value),placeholder:"Provide instructions on how to apply for this job",rows:3}),e.jsx(h,{error:c.application_instructions})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_urgent",checked:r.is_urgent,onChange:d=>t("is_urgent",d.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(i,{htmlFor:"is_urgent",className:"cursor-pointer",children:"Mark as Urgent"})]}),e.jsxs(ge,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:v,disabled:p,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:p,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:p?"Posting...":"Post Job"})]})]})]})}):null}function Ua({activeTab:a,data:s}){const[r,t]=F.useState(!1),l=()=>{t(!0)};return e.jsxs("div",{className:"space-y-6",children:[a==="poster"?e.jsx(Ta,{poster:s==null?void 0:s.poster}):e.jsx(Oa,{listings:(s==null?void 0:s.listings)||[],onAddJob:l,poster:s==null?void 0:s.poster}),e.jsx(Ma,{isOpen:r,onClose:()=>t(!1)})]})}function $a({isOpen:a,onClose:s,product:r}){const{data:t,setData:l,post:p,processing:c,errors:n,reset:o,clearErrors:j}=$({_method:"put",title:(r==null?void 0:r.title)||"",category:(r==null?void 0:r.category)||"",has_price:(r==null?void 0:r.price)!==null&&(r==null?void 0:r.price)!==void 0,price:(r==null?void 0:r.price)||"",price_type:(r==null?void 0:r.price_type)||"",condition:(r==null?void 0:r.condition)||"new",location:(r==null?void 0:r.location)||"",latitude:(r==null?void 0:r.latitude)||"",longitude:(r==null?void 0:r.longitude)||"",description:(r==null?void 0:r.description)||"",delivery_available:(r==null?void 0:r.delivery_available)||!1,warranty:(r==null?void 0:r.warranty)||"",images:[],remove_images:[],specifications:[],remove_specifications:[]}),[v,x]=F.useState([]),[b,d]=F.useState((r==null?void 0:r.images)||[]),[g,P]=F.useState((r==null?void 0:r.specifications)||[]),C=_=>{const L=Array.from(_.target.files);if(b.length-t.remove_images.length+t.images.length+L.length>10)return;const pe=[...t.images,...L];l("images",pe);const ze=L.map(be=>URL.createObjectURL(be));x(be=>[...be,...ze])},w=_=>{URL.revokeObjectURL(v[_]),l("images",t.images.filter((L,O)=>O!==_)),x(L=>L.filter((O,pe)=>pe!==_))},f=_=>{const L=t.remove_images.includes(_)?t.remove_images.filter(O=>O!==_):[...t.remove_images,_];l("remove_images",L)},A=()=>{l("specifications",[...t.specifications,""])},u=(_,L)=>{const O=[...t.specifications];O[_]=L,l("specifications",O)},m=_=>{l("specifications",t.specifications.filter((L,O)=>O!==_))},N=_=>{const L=t.remove_specifications.includes(_)?t.remove_specifications.filter(O=>O!==_):[...t.remove_specifications,_];l("remove_specifications",L)},k=_=>{_.preventDefault(),p(route("user.dashboard.marketplace.update",r.id),{preserveScroll:!0,onSuccess:()=>{I()}})},I=()=>{v.forEach(_=>URL.revokeObjectURL(_)),o(),j(),x([]),d([]),P([]),s()},{marketplaceCategories:R={}}=q().props,D=Object.entries(R).map(([_,L])=>({value:_,label:L})),G=[{value:"new",label:"New"},{value:"like_new",label:"Like New"},{value:"used",label:"Used"},{value:"refurbished",label:"Refurbished"}],We=b.filter(_=>!t.remove_images.includes(_.id)).length+t.images.length;return!a||!r?null:e.jsx(de,{open:a,onOpenChange:I,children:e.jsxs(oe,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(ce,{children:e.jsx(me,{children:"Edit Product"})}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Product Images (Max 10)"}),e.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 sm:grid-cols-5",children:[b.map((_,L)=>{const O=t.remove_images.includes(_.id);return e.jsxs("div",{className:`group relative aspect-square ${O?"opacity-40":""}`,children:[e.jsx("img",{src:`/storage/${_.image_path}`,alt:`Product ${L+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>f(_.id),className:`absolute -top-2 -right-2 rounded-full p-1 text-white transition-opacity ${O?"bg-green-500 opacity-100":"bg-red-500 opacity-0 group-hover:opacity-100"}`,children:e.jsx(U,{className:"h-3 w-3"})}),_.is_primary&&!O&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-[var(--primary)] px-1.5 py-0.5 text-xs font-medium text-white",children:"Primary"}),O&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-red-500 px-1.5 py-0.5 text-xs font-medium text-white",children:"Remove"})]},`existing-${_.id}`)}),v.map((_,L)=>e.jsxs("div",{className:"group relative aspect-square",children:[e.jsx("img",{src:_,alt:`New ${L+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>w(L),className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx(U,{className:"h-3 w-3"})}),e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-blue-500 px-1.5 py-0.5 text-xs font-medium text-white",children:"New"})]},`new-${L}`)),We<10&&e.jsxs("label",{className:"flex aspect-square cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:border-[var(--primary)] dark:border-gray-600",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:C,className:"hidden"}),e.jsx(ne,{className:"h-6 w-6 text-gray-400"})]})]}),e.jsx(h,{error:n.images})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-title",children:"Product Title *"}),e.jsx(y,{id:"edit-title",value:t.title,onChange:_=>l("title",_.target.value),placeholder:"Enter product title",required:!0}),e.jsx(h,{error:n.title})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-category",children:"Category *"}),e.jsxs(W,{value:t.category,onValueChange:_=>l("category",_),children:[e.jsx(z,{children:e.jsx(V,{placeholder:"Select category"})}),e.jsx(J,{children:D.map(_=>e.jsx(Y,{value:_.value,children:_.label},_.value))})]}),e.jsx(h,{error:n.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"edit-has_price",checked:t.has_price,onChange:_=>l("has_price",_.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(i,{htmlFor:"edit-has_price",className:"cursor-pointer",children:"Add Price"})]}),t.has_price&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-price",children:"Price (GH₵)"}),e.jsx(y,{id:"edit-price",type:"number",step:"0.01",min:"0",value:t.price,onChange:_=>l("price",_.target.value),placeholder:"0.00"}),e.jsx(h,{error:n.price})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-price_type",children:"Price Type"}),e.jsx(y,{id:"edit-price_type",value:t.price_type,onChange:_=>l("price_type",_.target.value),placeholder:"e.g., /kg, /bunch"})]})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-condition",children:["Condition ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsxs(W,{value:t.condition,onValueChange:_=>l("condition",_),children:[e.jsx(z,{children:e.jsx(V,{placeholder:"Select condition"})}),e.jsx(J,{children:G.map(_=>e.jsx(Y,{value:_.value,children:_.label},_.value))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"edit-location",children:"Location *"}),e.jsx(y,{id:"edit-location",value:t.location,onChange:_=>l("location",_.target.value),placeholder:"Enter location",required:!0}),e.jsx(h,{error:n.location})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-description",children:["Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"edit-description",value:t.description,onChange:_=>l("description",_.target.value),placeholder:"Describe your product...",rows:4})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"edit-delivery_available",checked:t.delivery_available,onChange:_=>l("delivery_available",_.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(i,{htmlFor:"edit-delivery_available",className:"cursor-pointer",children:"Delivery Available"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"edit-warranty",children:["Warranty ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"edit-warranty",value:t.warranty,onChange:_=>l("warranty",_.target.value),placeholder:"e.g., 1 year warranty"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsxs(i,{children:["Specifications ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsxs(S,{type:"button",variant:"outline",size:"sm",onClick:A,className:"h-8 gap-1 text-xs",children:[e.jsx(H,{className:"h-3 w-3"}),"Add Specification"]})]}),e.jsxs("div",{className:"space-y-2",children:[g.map((_,L)=>{const O=t.remove_specifications.includes(_.id);return e.jsxs("div",{className:`flex gap-2 ${O?"opacity-40":""}`,children:[e.jsx(y,{value:_.specification,disabled:!0,className:`flex-1 ${O?"line-through":""}`}),e.jsx(S,{type:"button",variant:"outline",size:"sm",onClick:()=>N(_.id),className:`h-10 w-10 p-0 ${O?"bg-green-500 text-white hover:bg-green-600":""}`,children:e.jsx(U,{className:"h-4 w-4"})})]},`existing-spec-${_.id}`)}),t.specifications.map((_,L)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{value:_,onChange:O=>u(L,O.target.value),placeholder:"e.g., 128GB Storage, 8GB RAM",className:"flex-1"}),e.jsx(S,{type:"button",variant:"outline",size:"sm",onClick:()=>m(L),className:"h-10 w-10 p-0",children:e.jsx(U,{className:"h-4 w-4"})})]},`new-spec-${L}`)),g.length===0&&t.specifications.length===0&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add product specifications to help buyers understand your product better."})]})]}),e.jsxs(ge,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:I,disabled:c,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:c,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:c?"Saving...":"Save Changes"})]})]})]})})}function Ha({products:a,store:s,tiers:r,onAddProduct:t,isFreeAccess:l=!1}){const[p,c]=F.useState(null),[n,o]=F.useState(null),j=()=>{t?t():M.visit(route("user.dashboard.marketplace.create"))},v=w=>{o(w)},x=w=>{confirm("Are you sure you want to delete this product?")&&(c(w),M.delete(route("user.dashboard.marketplace.destroy",w),{preserveScroll:!0,onFinish:()=>c(null)}))},b=()=>{const w=["starter","professional","enterprise"].indexOf((s==null?void 0:s.tier)||"starter"),f=["starter","professional","enterprise"][w+1];f&&(r!=null&&r[f])&&M.post(route("user.dashboard.marketplace.store.upgrade"),{tier:f})},d=(s==null?void 0:s.remaining_slots)||0,g=(s==null?void 0:s.product_limit)||10,P=(a==null?void 0:a.length)||0,C=d>0&&(s==null?void 0:s.is_active);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"My Products"}),e.jsxs("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:[P," / ",g," products",d>0&&e.jsxs("span",{className:"ml-2 text-[var(--primary)]",children:["(",d," slots remaining)"]})]})]}),e.jsxs(S,{onClick:j,disabled:!C,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Product"]})]}),d===0&&e.jsx("div",{className:"rounded-xl border border-[var(--secondary)]/30 bg-[var(--secondary)]/10 dark:border-[var(--secondary)]/20 dark:bg-[var(--secondary)]/5 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ae,{className:"h-5 w-5 text-[var(--secondary)] dark:text-[var(--secondary)] flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--secondary)] dark:text-[var(--secondary)]",children:"Product Limit Reached"}),e.jsx("p",{className:"mt-1 text-sm text-[var(--secondary)]/80 dark:text-[var(--secondary)]/70",children:l?`You've reached your limit of ${g} products. Upgrade options will be available after the free trial period.`:`You've reached your limit of ${g} products. Upgrade to add more.`})]})]}),!l&&e.jsxs(S,{onClick:b,size:"sm",className:"bg-[var(--secondary)] text-[var(--secondary-foreground)] hover:bg-[var(--secondary)]/90 flex-shrink-0",children:[e.jsx(He,{className:"mr-2 h-4 w-4"}),"Upgrade"]})]})}),s&&!s.is_active&&e.jsx("div",{className:"rounded-xl border border-[var(--accent)]/30 bg-[var(--accent)]/10 dark:border-[var(--accent)]/20 dark:bg-[var(--accent)]/5 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ae,{className:"h-5 w-5 text-[var(--accent)] dark:text-[var(--accent)] flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--accent)] dark:text-[var(--accent)]",children:"Store Not Active"}),e.jsx("p",{className:"mt-1 text-sm text-[var(--accent)]/80 dark:text-[var(--accent)]/70",children:"Your store is hidden from visitors. Activate it to make your products visible."})]})]}),e.jsx(S,{onClick:()=>Ge("store"),variant:"outline",size:"sm",className:"border-[var(--accent)]/30 text-[var(--accent)] hover:bg-[var(--accent)]/10 dark:border-[var(--accent)]/20 dark:text-[var(--accent)] dark:hover:bg-[var(--accent)]/10 flex-shrink-0",children:"Store Settings"})]})}),a&&a.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(w=>{var A,u;const f=((A=w.images)==null?void 0:A.find(m=>m.is_primary))||((u=w.images)==null?void 0:u[0]);return e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] overflow-hidden transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"aspect-video w-full bg-gray-100 dark:bg-gray-800 relative overflow-hidden",children:[f?e.jsx("img",{src:`/storage/${f.image_path}`,alt:w.title,className:"h-full w-full object-cover"}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(ue,{className:"h-12 w-12 text-gray-400"})}),!w.is_active&&e.jsx("div",{className:"absolute top-2 right-2 rounded bg-gray-900/70 px-2 py-1 text-xs text-white",children:"Inactive"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-bold text-[var(--foreground)] dark:text-white",children:w.title}),w.price>0&&e.jsxs("p",{className:"mt-1 text-sm font-semibold text-[var(--primary)]",children:["GH₵ ",w.price]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400",children:[e.jsx(ie,{className:"h-3 w-3"}),e.jsx("span",{children:w.location})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsxs(S,{onClick:()=>v(w),variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(ee,{className:"mr-2 h-3 w-3"}),"Edit"]}),e.jsxs(S,{onClick:()=>x(w.id),variant:"outline",size:"sm",className:"flex-1 text-red-600 hover:text-red-700",disabled:p===w.id,children:[e.jsx(K,{className:"mr-2 h-3 w-3"}),p===w.id?"Deleting...":"Delete"]})]})]})]},w.id)})}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 dark:border-gray-700 p-12 text-center",children:[e.jsx(ue,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600 dark:text-gray-400",children:"No products yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Click "Add Product" above to add your first product'})]}),n&&e.jsx($a,{isOpen:!0,onClose:()=>o(null),product:n})]})}function Ba({store:a,tiers:s,isFreeAccess:r=!1}){const{errors:t}=q().props,[l,p]=F.useState(!1),[c,n]=F.useState((a==null?void 0:a.slug)??""),{data:o,setData:j,put:v,processing:x,errors:b,reset:d,isDirty:g}=$({name:(a==null?void 0:a.name)||"",slug:(a==null?void 0:a.slug)||"",description:(a==null?void 0:a.description)||""}),P=R=>{const D=R.target.value;if(j("name",D),!c||c===(a==null?void 0:a.slug)){const G=D.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");j("slug",G),n(G)}},C=R=>{const D=R.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");j("slug",D),n(D)},w=R=>{R==null||R.preventDefault(),v(route("user.dashboard.marketplace.store.update"),{preserveScroll:!0,onSuccess:()=>{d()}})},f=async R=>{var G;if((G=navigator==null?void 0:navigator.clipboard)!=null&&G.writeText&&window.isSecureContext){await navigator.clipboard.writeText(R);return}const D=document.createElement("textarea");D.value=R,D.setAttribute("readonly",""),D.style.position="fixed",D.style.top="-9999px",D.style.left="-9999px",document.body.appendChild(D),D.select(),document.execCommand("copy"),document.body.removeChild(D)},A=async()=>{const R=`${window.location.origin}/store/${o.slug||(a==null?void 0:a.slug)}`;try{await f(R),p(!0),setTimeout(()=>p(!1),2e3)}catch(D){console.error("Copy failed:",D)}},u=R=>{M.post(route("user.dashboard.marketplace.store.upgrade"),{tier:R})},m=`${window.location.origin}/store/${o.slug||(a==null?void 0:a.slug)||"your-store"}`,N=s==null?void 0:s[(a==null?void 0:a.tier)||"starter"],k=["starter","professional","enterprise"].indexOf((a==null?void 0:a.tier)||"starter"),I=Object.entries(s||{}).slice(k+1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Store Settings"}),e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Manage your store information and visibility"})]}),a&&e.jsx(le,{listing:a,routeName:"user.dashboard.marketplace.store.toggle-active",label:"Store",saveButton:{isProcessing:x,isDirty:g,onClick:w}}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Store Name"}),e.jsx(y,{id:"name",value:o.name,onChange:P,placeholder:"Enter your store name",className:"w-full"}),e.jsx(h,{error:b.name||(t==null?void 0:t.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"slug",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Store URL Slug"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm whitespace-nowrap text-gray-500",children:"/store/"}),e.jsx(y,{id:"slug",value:o.slug,onChange:C,placeholder:"your-store-name",className:"flex-1",pattern:"[a-z0-9\\-]+"})]}),e.jsx(h,{error:b.slug||(t==null?void 0:t.slug),className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(i,{htmlFor:"description",className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Store Description"}),e.jsx(T,{id:"description",value:o.description,onChange:R=>j("description",R.target.value),placeholder:"Tell customers about your store...",rows:4,className:"w-full"}),e.jsx(h,{error:b.description||(t==null?void 0:t.description),className:"mt-1"})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx(i,{className:"mb-2 block text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Your Store Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{value:m,readOnly:!0,className:"flex-1 text-sm"}),e.jsx(S,{onClick:A,variant:"outline",type:"button",size:"icon",children:l?e.jsx(X,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(Ue,{className:"h-4 w-4"})}),e.jsx(S,{variant:"outline",asChild:!0,type:"button",size:"icon",children:e.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",children:e.jsx($e,{className:"h-4 w-4"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Share this link to let people view your products"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(re,{isProcessing:x,isDirty:g,onClick:w,position:"bottom"})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[N&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h4",{className:"mb-3 font-semibold text-[var(--foreground)] dark:text-white",children:"Current Plan"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:N.name}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(a==null?void 0:a.products_count)||0," / ",(a==null?void 0:a.product_limit)||10," products used"]})]}),e.jsx("div",{className:"text-right",children:r?e.jsx("p",{className:"text-2xl font-bold text-[var(--primary)]",children:"Free Access"}):e.jsxs("p",{className:"text-2xl font-bold text-[var(--primary)]",children:["GH₵ ",N.price]})})]})]}),!r&&I.length>0&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h4",{className:"mb-3 font-semibold text-[var(--foreground)] dark:text-white",children:"Upgrade Your Store"}),e.jsx("div",{className:"space-y-3",children:I.map(([R,D])=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-3 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--foreground)] dark:text-white",children:D.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Up to ",D.product_limit," products"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-bold text-[var(--secondary)]",children:["GH₵ ",D.price]}),e.jsx(S,{onClick:()=>u(R),size:"sm",className:"bg-[var(--secondary)] text-[var(--secondary-foreground)] hover:bg-[var(--secondary)]/90",children:e.jsx(He,{className:"h-4 w-4"})})]})]},R))})]})]})]})}function qa({isOpen:a,onClose:s,store:r}){const{data:t,setData:l,post:p,processing:c,errors:n,reset:o,clearErrors:j}=$({title:"",category:"",has_price:!1,price:"",price_type:"",condition:"new",location:"",latitude:"",longitude:"",description:"",delivery_available:!1,warranty:"",images:[],specifications:[]}),[v,x]=F.useState([]),b=N=>{const k=Array.from(N.target.files);if(t.images.length+k.length>10)return;const R=[...t.images,...k];l("images",R);const D=k.map(G=>URL.createObjectURL(G));x(G=>[...G,...D])},d=N=>{URL.revokeObjectURL(v[N]),l("images",t.images.filter((k,I)=>I!==N)),x(k=>k.filter((I,R)=>R!==N))},g=()=>{l("specifications",[...t.specifications,""])},P=(N,k)=>{const I=[...t.specifications];I[N]=k,l("specifications",I)},C=N=>{l("specifications",t.specifications.filter((k,I)=>I!==N))},w=N=>{N.preventDefault(),p(route("user.dashboard.marketplace.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{f()}})},f=()=>{v.forEach(N=>URL.revokeObjectURL(N)),o(),j(),x([]),s()},{marketplaceCategories:A={}}=q().props,u=Object.entries(A).map(([N,k])=>({value:N,label:k})),m=[{value:"new",label:"New"},{value:"like_new",label:"Like New"},{value:"used",label:"Used"},{value:"refurbished",label:"Refurbished"}];return a?e.jsx(de,{open:a,onOpenChange:f,children:e.jsxs(oe,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(ce,{children:e.jsx(me,{children:"Add New Product"})}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Product Images (Max 10)"}),e.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 sm:grid-cols-5",children:[v.map((N,k)=>e.jsxs("div",{className:"group relative aspect-square",children:[e.jsx("img",{src:N,alt:`Preview ${k+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>d(k),className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx(U,{className:"h-3 w-3"})}),k===0&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-[var(--primary)] px-1.5 py-0.5 text-xs font-medium text-white",children:"Primary"})]},k)),t.images.length<10&&e.jsxs("label",{className:"flex aspect-square cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:border-[var(--primary)] dark:border-gray-600",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:b,className:"hidden"}),e.jsx(ne,{className:"h-6 w-6 text-gray-400"})]})]}),e.jsx(h,{error:n.images})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"title",children:"Product Title *"}),e.jsx(y,{id:"title",value:t.title,onChange:N=>l("title",N.target.value),placeholder:"Enter product title",required:!0}),e.jsx(h,{error:n.title})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"category",children:"Category *"}),e.jsxs(W,{value:t.category,onValueChange:N=>l("category",N),children:[e.jsx(z,{children:e.jsx(V,{placeholder:"Select category"})}),e.jsx(J,{children:u.map(N=>e.jsx(Y,{value:N.value,children:N.label},N.value))})]}),e.jsx(h,{error:n.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"has_price",checked:t.has_price,onChange:N=>l("has_price",N.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(i,{htmlFor:"has_price",className:"cursor-pointer",children:"Add Price"})]}),t.has_price&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"price",children:"Price (GH₵)"}),e.jsx(y,{id:"price",type:"number",step:"0.01",min:"0",value:t.price,onChange:N=>l("price",N.target.value),placeholder:"0.00"}),e.jsx(h,{error:n.price})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"price_type",children:"Price Type"}),e.jsx(y,{id:"price_type",value:t.price_type,onChange:N=>l("price_type",N.target.value),placeholder:"e.g., /kg, /bunch"})]})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"condition",children:["Condition ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsxs(W,{value:t.condition,onValueChange:N=>l("condition",N),children:[e.jsx(z,{children:e.jsx(V,{placeholder:"Select condition"})}),e.jsx(J,{children:m.map(N=>e.jsx(Y,{value:N.value,children:N.label},N.value))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"location",children:"Location *"}),e.jsx(y,{id:"location",value:t.location,onChange:N=>l("location",N.target.value),placeholder:"Enter location",required:!0}),e.jsx(h,{error:n.location})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"description",children:["Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"description",value:t.description,onChange:N=>l("description",N.target.value),placeholder:"Describe your product...",rows:4})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"delivery_available",checked:t.delivery_available,onChange:N=>l("delivery_available",N.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(i,{htmlFor:"delivery_available",className:"cursor-pointer",children:"Delivery Available"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"warranty",children:["Warranty ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"warranty",value:t.warranty,onChange:N=>l("warranty",N.target.value),placeholder:"e.g., 1 year warranty"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsxs(i,{children:["Specifications ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsxs(S,{type:"button",variant:"outline",size:"sm",onClick:g,className:"h-8 gap-1 text-xs",children:[e.jsx(H,{className:"h-3 w-3"}),"Add Specification"]})]}),e.jsxs("div",{className:"space-y-2",children:[t.specifications.map((N,k)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(y,{value:N,onChange:I=>P(k,I.target.value),placeholder:"e.g., 128GB Storage, 8GB RAM",className:"flex-1"}),e.jsx(S,{type:"button",variant:"outline",size:"sm",onClick:()=>C(k),className:"h-10 w-10 p-0",children:e.jsx(U,{className:"h-4 w-4"})})]},k)),t.specifications.length===0&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Add product specifications to help buyers understand your product better."})]})]}),e.jsxs(ge,{children:[e.jsx(S,{type:"button",variant:"outline",onClick:f,disabled:c,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:c,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:c?"Adding...":"Add Product"})]})]})]})}):null}function Ga({activeTab:a,data:s,isFreeAccess:r=!1}){const[t,l]=F.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[a==="store"?e.jsx(Ba,{store:s==null?void 0:s.store,tiers:s==null?void 0:s.tiers,isFreeAccess:r}):e.jsx(Ha,{products:(s==null?void 0:s.products)||[],store:s==null?void 0:s.store,tiers:s==null?void 0:s.tiers,onAddProduct:()=>l(!0),isFreeAccess:r}),e.jsx(qa,{isOpen:t,onClose:()=>l(!1),store:s==null?void 0:s.store})]})}function Ie({categoryData:a}){const s=(a==null?void 0:a.stats)||{total:0,active:0,views:0};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Overview"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Welcome to your dashboard. Select a category to get started."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[var(--primary)] dark:text-[#8fcc8f]",children:"Total Listings"}),e.jsx(ue,{className:"h-5 w-5 text-[var(--primary)]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[var(--primary)] dark:text-white",children:s.total||0})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[var(--secondary)] dark:text-[var(--secondary)]",children:"Active"}),e.jsx(ta,{className:"h-5 w-5 text-[var(--secondary)]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[var(--secondary)] dark:text-white",children:s.active||0})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] dark:border-[#2a4d2a] bg-white dark:bg-[#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[var(--accent)] dark:text-[var(--accent)]",children:"Total Views"}),e.jsx(E,{className:"h-5 w-5 text-[var(--accent)]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[var(--accent)] dark:text-white",children:s.views||0})]})]})]})}function Wa({profile:a}){const[s,r]=F.useState("");if(!a)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center dark:border-gray-800 dark:bg-[var(--card)]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading features..."})});const t=(a==null?void 0:a.features)||[],l=c=>{c.preventDefault(),s.trim()&&M.post(route("user.dashboard.rentals.features.store",{rental:a.id}),{feature:s.trim()},{preserveScroll:!0,onSuccess:()=>{r("")}})},p=c=>{M.delete(route("user.dashboard.rentals.features.destroy",{rental:a.id,feature:c}),{preserveScroll:!0})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Rental Features"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Add features that describe your rental (e.g., 2 Bedrooms, Air Conditioning, WiFi)"})]}),e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("form",{onSubmit:l,className:"flex gap-3",children:[e.jsx(y,{value:s,onChange:c=>r(c.target.value),placeholder:"Type a feature and press +",className:"flex-1"}),e.jsx(S,{type:"submit",disabled:!s.trim(),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:e.jsx(H,{className:"h-5 w-5"})})]})}),t.length>0?e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("h4",{className:"mb-4 text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Added Features (",t.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(c=>e.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-[var(--primary)]/10 px-4 py-2 text-sm font-medium text-white dark:bg-[var(--primary)]/20 dark:text-white",children:[e.jsx("span",{children:c.feature}),e.jsx("button",{onClick:()=>p(c.id),className:"rounded-full p-0.5 text-gray-500 hover:bg-red-100 hover:text-red-600 dark:hover:bg-red-900/30",children:e.jsx(K,{className:"h-3.5 w-3.5"})})]},c.id))})]}):e.jsx("div",{className:"rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 p-8 text-center dark:border-gray-700 dark:bg-gray-800/50",children:e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No features added yet. Type a feature above and click + to add."})})]})}function za({rentalId:a,image:s,isOpen:r,onClose:t}){const[l,p]=F.useState((s==null?void 0:s.image_path)||null),c=F.useRef(null),{data:n,setData:o,post:j,processing:v,errors:x,reset:b}=$({image:null}),d=C=>{C.preventDefault(),s?j(route("user.dashboard.rentals.images.update",{rental:a,image:s.id}),{forceFormData:!0,onSuccess:()=>{b(),p(null),t()}}):j(route("user.dashboard.rentals.images.store",{rental:a}),{forceFormData:!0,onSuccess:()=>{b(),p(null),t()}})},g=C=>{const w=C.target.files[0];if(w){o("image",w);const f=new FileReader;f.onloadend=()=>{p(f.result)},f.readAsDataURL(w)}},P=()=>{b(),p((s==null?void 0:s.image_path)||null),t()};return r?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl bg-white p-6 dark:bg-[var(--card)]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:s?"Edit Image":"Add New Image"}),e.jsx("button",{onClick:P,className:"rounded-full p-1 hover:bg-gray-100 dark:hover:bg-gray-800",children:e.jsx(U,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{children:"Image"}),e.jsxs("div",{className:"mt-2 flex h-48 cursor-pointer items-center justify-center overflow-hidden rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 transition-colors hover:border-[var(--primary)] dark:border-gray-700 dark:bg-gray-800",onClick:()=>{var C;return(C=c.current)==null?void 0:C.click()},children:[l?e.jsx("img",{src:l,alt:"Preview",className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[e.jsx(Z,{className:"mb-2 h-10 w-10"}),e.jsx("span",{className:"text-sm",children:"Click to upload"}),e.jsx("span",{className:"text-xs",children:"Max 5MB (JPEG, PNG, WebP)"})]}),e.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:g,className:"hidden"})]}),e.jsx(h,{error:x.image,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(S,{type:"button",variant:"outline",onClick:P,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:v||!s&&!n.image,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:v?e.jsxs(e.Fragment,{children:[e.jsx(je,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):s?"Update Image":"Add Image"})]})]})]})}):null}function Va({profile:a}){const[s,r]=F.useState(!1),[t,l]=F.useState(null);if(!a)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center dark:border-gray-800 dark:bg-[var(--card)]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading gallery..."})});const p=(a==null?void 0:a.images)||[],c=v=>{M.put(route("user.dashboard.rentals.images.primary",{rental:a.id,image:v}),{},{preserveScroll:!0})},n=v=>{confirm("Are you sure you want to delete this image?")&&M.delete(route("user.dashboard.rentals.images.destroy",{rental:a.id,image:v}),{preserveScroll:!0})},o=v=>{l(v),r(!0)},j=()=>{l(null),r(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Rental Gallery"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Manage images for your rental listing (",p.length," images)"]})]}),e.jsxs(S,{onClick:j,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:[e.jsx(ne,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),p.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4",children:p.map(v=>e.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-xl border-2 border-gray-100 bg-gray-100 dark:border-gray-800 dark:bg-gray-800",children:[e.jsx("img",{src:v.image_path,alt:"Rental",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),v.is_primary&&e.jsxs("div",{className:"absolute left-2 top-2 flex items-center gap-1 rounded-full bg-[var(--primary)] px-2 py-1 text-xs font-bold text-white",children:[e.jsx(Q,{className:"h-3 w-3 fill-current"}),"Primary"]}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center gap-2 bg-black/50 opacity-0 transition-opacity group-hover:opacity-100",children:[!v.is_primary&&e.jsxs(S,{size:"sm",variant:"secondary",onClick:()=>c(v.id),className:"h-8",children:[e.jsx(Q,{className:"mr-1 h-3 w-3"}),"Set Primary"]}),e.jsx(S,{size:"sm",variant:"secondary",onClick:()=>o(v),className:"h-8",children:e.jsx(ga,{className:"h-3 w-3"})}),e.jsx(S,{size:"sm",variant:"destructive",onClick:()=>n(v.id),className:"h-8",children:e.jsx(K,{className:"h-3 w-3"})})]})]},v.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 p-12 text-center dark:border-gray-700 dark:bg-gray-800/50",children:[e.jsx(ne,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h4",{className:"mb-2 font-semibold text-gray-700 dark:text-gray-300",children:"No images yet"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400",children:"Add images to showcase your rental listing"}),e.jsxs(S,{onClick:j,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:[e.jsx(ne,{className:"mr-2 h-4 w-4"}),"Add First Image"]})]}),e.jsx(za,{rentalId:a.id,image:t,isOpen:s,onClose:()=>{r(!1),l(null)}})]})}function Ja({profile:a}){var A,u;const{errors:s}=q().props,[r,t]=F.useState(null),[l,p]=F.useState(!1),c=F.useRef(null);if(!a)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center dark:border-gray-800 dark:bg-[var(--card)]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading rental profile..."})});const{data:n,setData:o,post:j,processing:v,errors:x,recentlySuccessful:b,isDirty:d}=$({_method:"PUT",name:(a==null?void 0:a.name)||"",type:(a==null?void 0:a.type)||"house",description:(a==null?void 0:a.description)||"",price:(a==null?void 0:a.price)||"",period:(a==null?void 0:a.period)||"month",location:(a==null?void 0:a.location)||"",phone:(a==null?void 0:a.phone)||"",phone_2:(a==null?void 0:a.phone_2)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",rental_terms:(a==null?void 0:a.rental_terms)||"",primary_image:null}),g=[{value:"house",label:"House"},{value:"equipment",label:"Equipment"},{value:"tools",label:"Tools"},{value:"land",label:"Land"},{value:"commercial",label:"Commercial"},{value:"vehicle",label:"Vehicle"},{value:"store",label:"Store"}],P=[{value:"day",label:"Per Day"},{value:"week",label:"Per Week"},{value:"month",label:"Per Month"},{value:"year",label:"Per Year"}],C=m=>{m==null||m.preventDefault(),j(route("user.dashboard.rentals.update",a.id),{forceFormData:!0})},w=m=>{const N=m.target.files[0];if(N){o("primary_image",N);const k=new FileReader;k.onloadend=()=>{t(k.result)},k.readAsDataURL(N)}},f=((A=a==null?void 0:a.images)==null?void 0:A.find(m=>m.is_primary))||((u=a==null?void 0:a.images)==null?void 0:u[0]);return e.jsxs("div",{className:"space-y-6",children:[a&&e.jsx(le,{listing:a,routeName:"user.dashboard.rentals.toggle-active",label:"Listing",saveButton:{isProcessing:v,isDirty:d,onClick:C}}),e.jsxs("form",{onSubmit:C,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Primary Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsxs("div",{className:"relative h-40 w-40 cursor-pointer overflow-hidden rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 transition-colors hover:border-[var(--primary)] dark:border-gray-700 dark:bg-gray-800",onClick:()=>{var m;return(m=c.current)==null?void 0:m.click()},children:[r||f!=null&&f.image_path?e.jsx("img",{src:r||(f==null?void 0:f.image_path),alt:"Rental preview",className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center text-gray-400",children:[e.jsx(Z,{className:"mb-2 h-8 w-8"}),e.jsx("span",{className:"text-xs",children:"Click to upload"})]}),e.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:w,className:"hidden"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Upload a primary image for your rental listing. This will be the main image shown in search results."}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Recommended: 800x600px, max 5MB"}),e.jsx(h,{error:x.primary_image||(s==null?void 0:s.primary_image),className:"mt-2"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",children:"Rental Name"}),e.jsx(y,{id:"name",value:n.name,onChange:m=>o("name",m.target.value),className:"mt-1",placeholder:"2 Bedroom Apartment in Bekwai"}),e.jsx(h,{error:x.name||(s==null?void 0:s.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"type",children:"Rental Type"}),e.jsx("select",{id:"type",value:n.type,onChange:m=>o("type",m.target.value),className:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-[var(--primary)] focus:ring-[var(--primary)] dark:border-gray-700 dark:bg-[var(--foreground)] dark:text-white",children:g.map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))}),e.jsx(h,{error:x.type||(s==null?void 0:s.type),className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs(i,{htmlFor:"description",children:["Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"description",value:n.description,onChange:m=>o("description",m.target.value),className:"mt-1",rows:4,placeholder:"Describe your rental property or item..."}),e.jsx(h,{error:x.description||(s==null?void 0:s.description),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Pricing"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showPricing",checked:l,onChange:m=>p(m.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(i,{htmlFor:"showPricing",className:"cursor-pointer text-sm text-gray-600 dark:text-gray-400",children:"Show pricing"})]})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"price",children:"Price (GH₵)"}),e.jsx(y,{id:"price",type:"number",step:"0.01",min:"0",value:n.price,onChange:m=>o("price",m.target.value),className:"mt-1",placeholder:"500.00"}),e.jsx(h,{error:x.price||(s==null?void 0:s.price),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"period",children:"Rental Period"}),e.jsx("select",{id:"period",value:n.period,onChange:m=>o("period",m.target.value),className:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-[var(--primary)] focus:ring-[var(--primary)] dark:border-gray-700 dark:bg-[var(--foreground)] dark:text-white",children:P.map(m=>e.jsx("option",{value:m.value,children:m.label},m.value))}),e.jsx(h,{error:x.period||(s==null?void 0:s.period),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"location",children:"Location"}),e.jsx(y,{id:"location",value:n.location,onChange:m=>o("location",m.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(h,{error:x.location||(s==null?void 0:s.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"phone",children:"Phone"}),e.jsx(y,{id:"phone",value:n.phone,onChange:m=>o("phone",m.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(h,{error:x.phone||(s==null?void 0:s.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"phone_2",children:["Phone 2 ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"phone_2",value:n.phone_2,onChange:m=>o("phone_2",m.target.value),className:"mt-1",placeholder:"+233 24 987 6543"}),e.jsx(h,{error:x.phone_2||(s==null?void 0:s.phone_2),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"whatsapp",children:["WhatsApp ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"whatsapp",value:n.whatsapp,onChange:m=>o("whatsapp",m.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(h,{error:x.whatsapp||(s==null?void 0:s.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"email",type:"email",value:n.email,onChange:m=>o("email",m.target.value),className:"mt-1",placeholder:"contact@example.com"}),e.jsx(h,{error:x.email||(s==null?void 0:s.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Rental Terms"}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"rental_terms",children:["Terms & Conditions ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"rental_terms",value:n.rental_terms,onChange:m=>o("rental_terms",m.target.value),className:"mt-1",rows:4,placeholder:"Minimum 6 months lease, 2 months advance required, no pets allowed..."}),e.jsx(h,{error:x.rental_terms||(s==null?void 0:s.rental_terms),className:"mt-1"})]})]}),e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-4",children:[b&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(re,{isProcessing:v,isDirty:d,onClick:C,position:"bottom"})]})})]})]})}function Ya({activeTab:a,data:s}){const r=s==null?void 0:s.profile;switch(a){case"features":return e.jsx(Wa,{profile:r});case"gallery":return e.jsx(Va,{profile:r});case"profile":default:return e.jsx(Ja,{profile:r})}}function Ka({subscription:a,category:s,isFreeAccess:r=!1,freeAccessDays:t=30}){const[l,p]=F.useState(!1);if(!a)return null;const{subscription_status:c,days_until_expiry:n,expires_at:o,is_expiring_soon:j,is_in_grace_period:v}=a;if(c==="active"&&!j)return null;const x=P=>P?new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",d=(()=>{if(c==="cancelled")return{icon:ae,title:"Subscription Cancelled",message:"Your subscription has been cancelled. Your profile and listings are hidden from visitors, and editing is disabled. Subscribe again to restore access.",className:"bg-gray-50 border-gray-200 text-gray-800 dark:bg-gray-900/20 dark:border-gray-700 dark:text-gray-300",iconClassName:"text-gray-600 dark:text-gray-400"};if(c==="expired")return{icon:ae,title:"Subscription Expired",message:"Your subscription has expired. Your profile and listings are no longer visible to visitors, and editing is disabled. Renew now to restore full access.",className:"bg-red-50 border-red-200 text-red-800 dark:bg-red-900/20 dark:border-red-800 dark:text-red-300",iconClassName:"text-red-600 dark:text-red-400"};if(v){const P=Math.abs(n);return{icon:Me,title:"Grace Period Active",message:`Your subscription has expired. You have ${P} day${P!==1?"s":""} left in your grace period before access is deactivated. Renew now to keep your services active.`,className:"bg-yellow-50 border-yellow-200 text-yellow-800 dark:bg-yellow-900/20 dark:border-yellow-800 dark:text-yellow-300",iconClassName:"text-yellow-600 dark:text-yellow-400"}}return j&&n>0?{icon:fe,title:"Subscription Expiring Soon",message:`Your subscription expires in ${n} day${n!==1?"s":""} (${x(o)}). Renew now to avoid service interruption.`,className:"bg-orange-50 border-orange-200 text-orange-800 dark:bg-orange-900/20 dark:border-orange-800 dark:text-orange-300",iconClassName:"text-orange-600 dark:text-orange-400"}:n===0?{icon:fe,title:"Subscription Expires Today",message:"Your subscription expires today! Renew now to avoid any interruption to your services.",className:"bg-orange-50 border-orange-200 text-orange-800 dark:bg-orange-900/20 dark:border-orange-800 dark:text-orange-300",iconClassName:"text-orange-600 dark:text-orange-400"}:null})();if(!d)return null;const g=d.icon;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`mb-6 rounded-lg border p-4 ${d.className}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(g,{className:`mt-0.5 h-5 w-5 shrink-0 ${d.iconClassName}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-1 font-bold",children:d.title}),e.jsx("p",{className:"text-sm",children:d.message}),e.jsx(S,{onClick:()=>p(!0),className:"mt-3 bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",size:"sm",children:"Renew Now"})]})]})}),e.jsx(qe,{isOpen:l,onClose:()=>p(!1),category:s,subscription:a,isFreeAccess:r,freeAccessDays:t})]})}function Xa({image:a,onClose:s,profile:r}){const{errors:t}=q().props,[l,p]=F.useState((a==null?void 0:a.image_path)||null),c=!!a,{data:n,setData:o,post:j,put:v,processing:x,errors:b,reset:d}=$({image:null,is_primary:(a==null?void 0:a.is_primary)||!1,transport_id:r==null?void 0:r.id}),g=w=>{const f=w.target.files[0];if(f){o("image",f);const A=new FileReader;A.onloadend=()=>{p(A.result)},A.readAsDataURL(f)}},P=()=>{o("image",null),c||p(null)},C=w=>{w.preventDefault(),c?v(route("user.dashboard.transport.images.update",a.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{d(),s()}}):j(route("user.dashboard.transport.images.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{d(),p(null),s()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--foreground)] dark:text-white",children:c?"Edit Image":"Add Image"}),e.jsx("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:e.jsx(U,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:C,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"image",children:"Vehicle Image"}),e.jsx("div",{className:"mt-2",children:l?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l,alt:"Preview",className:"h-48 w-full rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:P,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(U,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50 dark:border-gray-700 dark:hover:bg-gray-800",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(Z,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:g})]})}),e.jsx(h,{error:b.image||(t==null?void 0:t.image),className:"mt-1"})]}),!c&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_primary",checked:n.is_primary,onChange:w=>o("is_primary",w.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(i,{htmlFor:"is_primary",className:"text-sm",children:"Set as primary image"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(S,{type:"button",variant:"outline",onClick:s,disabled:x,children:"Cancel"}),e.jsx(S,{type:"submit",disabled:x,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:x?"Saving...":c?"Update":"Add Image"})]})]})]})})}function Qa({profile:a}){const s=(a==null?void 0:a.images)||[],[r,t]=F.useState(!1),[l,p]=F.useState(null),c=d=>{p(d),t(!0)},n=d=>{confirm("Are you sure you want to delete this image?")&&M.delete(route("user.dashboard.transport.images.destroy",d),{preserveScroll:!0})},o=d=>{M.post(route("user.dashboard.transport.images.set-primary",d),{},{preserveScroll:!0})},j=()=>{p(null),t(!0)},v=()=>{t(!1),p(null)},x=s.find(d=>d.is_primary),b=s.filter(d=>!d.is_primary);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Vehicle Gallery"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your vehicle images and showcase your service"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Vehicle Images"}),e.jsxs(S,{onClick:j,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),x&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-4 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-semibold text-[var(--foreground)] dark:text-white",children:"Primary Image"})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-lg",children:[e.jsx("img",{src:x.image_path,alt:"Primary",className:"h-64 w-full object-cover transition-transform group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>c(x),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(ee,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>n(x.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(K,{className:"h-4 w-4 text-red-600"})})]})]})]}),b.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:b.map(d=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all hover:shadow-lg dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:d.image_path,alt:"Vehicle",className:"h-full w-full object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 transition-opacity group-hover:opacity-100",children:[e.jsx("button",{onClick:()=>o(d.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Set as Primary",children:e.jsx(Q,{className:"h-4 w-4 text-yellow-400"})}),e.jsx("button",{onClick:()=>c(d),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Edit",children:e.jsx(ee,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>n(d.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100 dark:bg-[#1a331a] dark:hover:bg-[#254225]",title:"Delete",children:e.jsx(K,{className:"h-4 w-4 text-red-600"})})]})]})},d.id))}):!x&&e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center dark:border-gray-700",children:[e.jsx(B,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"No images uploaded yet"}),e.jsxs(S,{onClick:j,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Your First Image"]})]}),r&&e.jsx(Xa,{image:l,onClose:v,profile:a})]})}function Za({profile:a}){var f,A;const{errors:s}=q().props,r=((f=a==null?void 0:a.images)==null?void 0:f.find(u=>u.is_primary))||((A=a==null?void 0:a.images)==null?void 0:A[0]),[t,l]=F.useState((r==null?void 0:r.image_path)||null),[p,c]=F.useState(!!(a!=null&&a.price_per_seat||a!=null&&a.seats_available));if(!a||!a.id)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading profile..."})})});const{data:n,setData:o,post:j,processing:v,errors:x,recentlySuccessful:b,isDirty:d}=$({_method:"PUT",driver_name:(a==null?void 0:a.driver_name)||"",type:(a==null?void 0:a.type)||"okada",description:(a==null?void 0:a.description)||"",location:(a==null?void 0:a.location)||"",phone:(a==null?void 0:a.phone)||"",phone_2:(a==null?void 0:a.phone_2)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",email:(a==null?void 0:a.email)||"",price_per_seat:(a==null?void 0:a.price_per_seat)||"",seats_available:(a==null?void 0:a.seats_available)||"",operating_hours:(a==null?void 0:a.operating_hours)||"",primary_image:null}),g=[{value:"okada",label:"Okada"},{value:"car",label:"Car"},{value:"taxi",label:"Taxi"},{value:"bus",label:"Bus"},{value:"cargo",label:"Cargo"},{value:"other",label:"Other"}],P=u=>{const m=u.target.files[0];if(m){o("primary_image",m);const N=new FileReader;N.onloadend=()=>{l(N.result)},N.readAsDataURL(m)}},C=()=>{o("primary_image",null),l(null)},w=u=>{if(u==null||u.preventDefault(),!(a!=null&&a.id)){console.error("Profile ID is missing. Cannot submit form.");return}j(route("user.dashboard.transport.update",a.id),{preserveScroll:!0,forceFormData:!0})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)] dark:text-white",children:"Transport Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600 dark:text-gray-400",children:"Manage your transport service information"})]}),a&&e.jsx(le,{listing:a,routeName:"user.dashboard.transport.toggle-active",label:"Service",saveButton:{isProcessing:v,isDirty:d,onClick:w}}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Vehicle Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[t?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:t,alt:"Vehicle",className:"h-32 w-32 rounded-lg border border-[var(--buame-border-light)] object-cover dark:border-[#2a4d2a]"}),e.jsx("button",{type:"button",onClick:C,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(U,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 dark:border-gray-700 dark:bg-gray-800",children:e.jsx(B,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(i,{htmlFor:"primary_image",children:"Primary Image"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500 dark:text-gray-400",children:"This image will be displayed as your vehicle/service thumbnail to visitors"}),e.jsxs("label",{htmlFor:"primary_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[var(--buame-border-light)] bg-white px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] dark:border-[#2a4d2a] dark:bg-[#1a331a] dark:text-white dark:hover:bg-[#254225]",children:[e.jsx(Z,{className:"h-4 w-4"}),t?"Change Image":"Upload Image"]}),e.jsx("input",{id:"primary_image",type:"file",className:"hidden",accept:"image/*",onChange:P}),e.jsx(h,{error:x.primary_image||(s==null?void 0:s.primary_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"driver_name",children:"Driver/Rider Name"}),e.jsx(y,{id:"driver_name",value:n.driver_name,onChange:u=>o("driver_name",u.target.value),className:"mt-1",placeholder:"Kwame Asante"}),e.jsx(h,{error:x.driver_name||(s==null?void 0:s.driver_name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"type",children:"Service Type"}),e.jsxs(W,{value:n.type,onValueChange:u=>o("type",u),children:[e.jsx(z,{className:"mt-1",children:e.jsx(V,{placeholder:"Select service type"})}),e.jsx(J,{children:g.map(u=>e.jsx(Y,{value:u.value,children:u.label},u.value))})]}),e.jsx(h,{error:x.type||(s==null?void 0:s.type),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Pricing"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showPricing",checked:p,onChange:u=>c(u.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(i,{htmlFor:"showPricing",className:"cursor-pointer text-sm text-gray-600 dark:text-gray-400",children:"Show pricing"})]})]}),p&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"price_per_seat",children:"Price per Seat (GH₵)"}),e.jsx(y,{id:"price_per_seat",type:"number",step:"0.01",value:n.price_per_seat,onChange:u=>o("price_per_seat",u.target.value),className:"mt-1",placeholder:"15.00"}),e.jsx(h,{error:x.price_per_seat||(s==null?void 0:s.price_per_seat),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"seats_available",children:"Seats Available"}),e.jsx(y,{id:"seats_available",type:"number",value:n.seats_available,onChange:u=>o("seats_available",u.target.value),className:"mt-1",placeholder:"4"}),e.jsx(h,{error:x.seats_available||(s==null?void 0:s.seats_available),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"About Your Service"}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"description",children:["Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(T,{id:"description",value:n.description,onChange:u=>o("description",u.target.value),className:"mt-1",rows:4,placeholder:"Describe your transport service, vehicle condition, and what makes you stand out..."}),e.jsx(h,{error:x.description||(s==null?void 0:s.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"location",children:"Working Location"}),e.jsx(y,{id:"location",value:n.location,onChange:u=>o("location",u.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(h,{error:x.location||(s==null?void 0:s.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"phone",children:"Phone"}),e.jsx(y,{id:"phone",value:n.phone,onChange:u=>o("phone",u.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(h,{error:x.phone||(s==null?void 0:s.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"phone_2",children:["Phone 2 ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"phone_2",value:n.phone_2,onChange:u=>o("phone_2",u.target.value),className:"mt-1",placeholder:"+233 24 987 6543"}),e.jsx(h,{error:x.phone_2||(s==null?void 0:s.phone_2),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"whatsapp",children:["WhatsApp ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"whatsapp",value:n.whatsapp,onChange:u=>o("whatsapp",u.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(h,{error:x.whatsapp||(s==null?void 0:s.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"email",type:"email",value:n.email,onChange:u=>o("email",u.target.value),className:"mt-1",placeholder:"contact@fastokada.com"}),e.jsx(h,{error:x.email||(s==null?void 0:s.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6 dark:border-[#2a4d2a] dark:bg-[#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)] dark:text-white",children:"Operating Hours"}),e.jsxs("div",{children:[e.jsxs(i,{htmlFor:"operating_hours",children:["Operating Hours ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(y,{id:"operating_hours",value:n.operating_hours,onChange:u=>o("operating_hours",u.target.value),className:"mt-1",placeholder:"Daily: 5:00 AM - 8:00 PM"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"When are you available for rides?"}),e.jsx(h,{error:x.operating_hours||(s==null?void 0:s.operating_hours),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[b&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(re,{isProcessing:v,isDirty:d,onClick:w,position:"bottom"})]})]})]})}function Ea({activeSection:a,profile:s}){switch(a){case"gallery":return e.jsx(Qa,{profile:s});case"profile":default:return e.jsx(Za,{profile:s})}}function es({user:a,children:s,activeCategory:r,activeSection:t,categoryData:l}){var v;const[p,c]=F.useState(!1),o=(()=>{if(!r)return[];switch(r){case"artisans":return[{id:"profile",label:"Profile",icon:Se},{id:"portfolio",label:"Portfolio",icon:B}];case"hotels":return[{id:"profile",label:"Profile",icon:da},{id:"gallery",label:"Gallery",icon:B}];case"transport":return[{id:"profile",label:"Profile",icon:na},{id:"gallery",label:"Gallery",icon:B}];case"rentals":return[{id:"profile",label:"Profile",icon:Ne},{id:"features",label:"Features",icon:xa},{id:"gallery",label:"Gallery",icon:B}];case"marketplace":return[{id:"store",label:"Store Settings",icon:Te},{id:"products",label:"Products",icon:ue}];case"jobs":return[{id:"poster",label:"Profile",icon:Se},{id:"listings",label:"Jobs",icon:he}];default:return[]}})(),j=x=>{Ge(x)};return e.jsx(sa,{children:e.jsxs("div",{className:"bg-background flex w-full",children:[e.jsx("aside",{className:`bg-card border-border fixed inset-y-0 left-0 z-30 w-72 transform border-r transition-transform duration-300 md:translate-x-0 ${p?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex h-full flex-col justify-between p-5",children:[e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx("div",{className:"flex flex-col gap-2 px-2",children:e.jsx(la,{size:"lg",className:"justify-start",href:route("user.dashboard.index")})}),o.length>0&&e.jsx("nav",{className:"flex flex-col gap-2",children:o.map(x=>{const b=x.icon,d=t===x.id;return e.jsxs("button",{onClick:()=>j(x.id),className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors ${d?"bg-primary/10 text-foreground":"text-muted-foreground hover:bg-muted"}`,children:[e.jsx(b,{className:"h-5 w-5"}),e.jsx("span",{children:x.label})]},x.id)})})]}),e.jsxs("div",{className:"border-border flex flex-col gap-2 border-t pt-4",children:[e.jsxs("div",{className:"hover:bg-muted flex items-center gap-3 rounded-lg px-2 py-2 transition-colors",children:[e.jsx("div",{className:"bg-primary/20 flex h-10 w-10 items-center justify-center rounded-full",children:e.jsx("span",{className:"text-primary text-sm font-bold",children:((v=a==null?void 0:a.name)==null?void 0:v.charAt(0).toUpperCase())||"U"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-foreground truncate text-sm font-bold",children:a==null?void 0:a.name}),e.jsx("p",{className:"text-muted-foreground truncate text-xs",children:a==null?void 0:a.phone})]})]}),e.jsxs(Ve,{href:route("user.logout"),method:"post",className:"text-destructive hover:bg-destructive/10 flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors",children:[e.jsx(Ze,{className:"h-5 w-5"}),e.jsx("span",{children:"Log Out"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 flex-col md:ml-72",children:[e.jsxs("header",{className:"border-border bg-card flex h-16 items-center justify-between border-b px-4 md:hidden",children:[e.jsx("button",{onClick:()=>c(!p),className:"text-foreground",children:p?e.jsx(U,{className:"h-6 w-6"}):e.jsx(ia,{className:"h-6 w-6"})}),e.jsx("span",{className:"text-foreground text-lg font-bold",children:"2RBUAME"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{className:"hover:bg-muted relative rounded-full p-2 transition-colors",children:[e.jsx(Ce,{className:"text-muted-foreground h-5 w-5"}),e.jsx("span",{className:"bg-destructive border-card absolute top-1 right-1 h-2 w-2 rounded-full border-2"})]})})]}),e.jsxs("header",{className:"border-border bg-card hidden h-16 items-center justify-between border-b px-6 md:flex",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("h2",{className:"text-foreground text-xl font-bold",children:r?r.charAt(0).toUpperCase()+r.slice(1):"Dashboard"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"hover:bg-muted relative rounded-full p-2 transition-colors",children:[e.jsx(Ce,{className:"text-muted-foreground h-5 w-5"}),e.jsx("span",{className:"bg-destructive border-card absolute top-1 right-1 h-2 w-2 rounded-full border-2"})]}),e.jsx("div",{className:"border-border bg-card flex items-center gap-3 rounded-full border px-4 py-2",children:e.jsx("span",{className:"text-foreground text-sm font-bold",children:a==null?void 0:a.name})})]})]}),e.jsx("main",{className:"flex-1",children:s})]}),p&&e.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 md:hidden",onClick:()=>c(!1)})]})})}function nr({user:a,paidCategories:s,unpaidCategories:r,activeCategory:t,categoryData:l,payments:p,activeSection:c="profile",isFreeAccess:n=!1,freeAccessDays:o=30}){const j=s==null?void 0:s.find(x=>x.category===t),v=()=>{if(!t)return e.jsx(Ie,{categoryData:l});switch(t){case"artisans":return e.jsx(wa,{activeSection:c,profile:l==null?void 0:l.profile});case"marketplace":return e.jsx(Ga,{activeTab:c||"store",data:l,isFreeAccess:n});case"hotels":return e.jsx(Da,{activeSection:c,profile:l==null?void 0:l.profile});case"transport":return e.jsx(Ea,{activeSection:c,profile:l==null?void 0:l.profile});case"rentals":return e.jsx(Ya,{activeTab:c,data:l});case"jobs":return e.jsx(Ua,{activeTab:c,data:l});default:return e.jsx(Ie,{categoryData:l})}};return e.jsxs(es,{user:a,activeCategory:t,activeSection:c,categoryData:l,children:[e.jsx(Je,{title:`Dashboard - ${t?t.charAt(0).toUpperCase()+t.slice(1):"2RBUAME"}`}),e.jsxs("div",{className:"mx-auto w-full max-w-[1400px] p-4 md:p-6 lg:p-8",children:[e.jsx(Pa,{paidCategories:s,activeCategory:t,unpaidCategories:r,isFreeAccess:n,freeAccessDays:o}),e.jsx(Ka,{subscription:j,category:t,isFreeAccess:n,freeAccessDays:o}),v()]})]})}export{nr as default};
