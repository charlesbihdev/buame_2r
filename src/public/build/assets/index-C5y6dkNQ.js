import{j as e,r as P,S as U,K as q,m as V,$ as as,L as ts}from"./app-Dxpbdbp-.js";import{B as C}from"./button-Ddh2pgYs.js";import{c as Z}from"./createLucideIcon-zv5RrChz.js";import{I as b}from"./input-WeaLLMUP.js";import{L as n}from"./label-M45-zaR6.js";import{S as G,a as W,b as J,c as Y,d as K,e as He,f as Ve}from"./select-wf2yveV_.js";import{T as $}from"./textarea-Lo8nSHiq.js";import{E as se}from"./eye-BQAEYT0b.js";import{E as we}from"./eye-off-BP6r0Gfu.js";import{L as _e}from"./loader-circle-YmQQAFAe.js";import{C as X}from"./circle-check-big-D1A8xB7r.js";import{a as rs}from"./artisan-skills-CG4pv5k_.js";import{C as ke}from"./copy-DQMNoF51.js";import{E as Ce,V as Ae}from"./video-embed-Crq_yA79.js";import{X as M,T as Ie}from"./x-B0uux2HT.js";import{I as z}from"./image-BUqnJy6I.js";import{P as H,S as ae}from"./square-pen-BniKFHeL.js";import{T as B}from"./trash-2-DTFbRV_7.js";import{D as me,a as he,b as xe,c as ue,d as ls,e as je}from"./dialog-CGfVtw_G.js";import{G as Le,B as is}from"./BillingCycleSelector-BuY7L5vN.js";import{B as ge}from"./briefcase-BB8cznN4.js";import{S as Se}from"./shopping-bag-IJEPStUS.js";import{H as Pe}from"./house-BXYeNCBK.js";import{B as ze}from"./bike-BC9Say4R.js";import{H as Be}from"./hotel-CHDeZCeF.js";import{H as qe}from"./hammer-6WNZEeGU.js";import{L as ns,a as os}from"./log-out-CHM0YE-w.js";import{U as Re}from"./users-Bk6ZWDE7.js";import{P as le}from"./phone-DfRwKCYJ.js";import{M as cs}from"./message-square-Cn8WjWqz.js";import{S as Ge}from"./store-zsT2h9mW.js";import{C as De}from"./camera-XMzHaFjw.js";import{M as ce}from"./map-pin-C6w3GtCR.js";import{S as Q}from"./star-DqQwbCgH.js";import{C as ds}from"./credit-card-CXrIW_8s.js";import{C as ms,T as hs}from"./toast-provider-DUdhWUAF.js";import{C as We}from"./clock-BDjkUgmZ.js";import{L as xs}from"./lock-CUXBJeTF.js";import{j as pe}from"./job-categories-DGN67Cpr.js";import{P as ve}from"./package-Dx1Z4zVP.js";import{T as us}from"./trending-up-ZYTslHvK.js";import{A as gs}from"./app-logo-C3sRPIHp.js";import{M as ps}from"./menu-BUhNRGva.js";import{B as Oe}from"./bell-CKZ16m7k.js";import{U as Te}from"./user-BZlJ3pp2.js";import{C as vs}from"./car-B5qbn1Ss.js";import{B as js}from"./building-2-BDWYcXgK.js";import"./index-Kgqb1zqS.js";import"./index-DmPNOzho.js";import"./index-B_H47deK.js";import"./Combination-m3aLTxiZ.js";import"./index-D974EI9O.js";import"./index-trczTq3b.js";import"./index-B3rIy2zH.js";import"./chevron-down-dZktRGef.js";import"./check-CgK6jj3H.js";import"./chevron-up-Dr9AnH_t.js";import"./index-DWxDVpG3.js";import"./index-_E8f7xb7.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Je=Z("ArrowUpRight",bs);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],te=Z("CircleAlert",ys);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],de=Z("ImagePlus",Ns);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Fe=Z("Link2",fs);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],_s=Z("ListChecks",ws);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Cs=Z("Pen",ks);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ye=Z("Save",Ss);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],E=Z("Upload",Ps);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],As=Z("Video",Fs);function u({error:s,className:a=""}){if(!s)return null;const t=Array.isArray(s)?s[0]:s;return e.jsxs("div",{className:`flex items-center gap-2 text-sm text-red-600 ${a}`,children:[e.jsx(te,{className:"h-4 w-4 shrink-0"}),e.jsx("span",{children:t})]})}function Is({checked:s,onCheckedChange:a,id:t,className:r="",...l}){return e.jsx("button",{type:"button",role:"switch","aria-checked":s,id:t,onClick:()=>a(!s),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-[var(--primary)] focus:ring-offset-2 ${s?"bg-[var(--primary)]":"bg-gray-300"} ${r}`,...l,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})})}function Ls({listing:s,routeName:a,label:t="Listing",onBeforeToggle:r}){const[l,g]=P.useState((s==null?void 0:s.is_active)??!1),[d,i]=P.useState(!1);P.useEffect(()=>{g((s==null?void 0:s.is_active)??!1)},[s==null?void 0:s.is_active]);const m=()=>{if(r&&r()===!1)return;const v=l;g(!l),i(!0),U.post(route(a),{},{preserveScroll:!0,preserveState:!0,only:["categoryData","flash"],onFinish:()=>i(!1),onError:()=>{g(v),i(!1)}})};return e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-[var(--buame-border-light)] bg-white px-3 py-1.5 md:px-4 md:py-2#2a4d2a]#1a331a]",children:[l?e.jsx(se,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(we,{className:"h-4 w-4 text-gray-400"}),e.jsxs("div",{className:"hidden flex-col md:flex",children:[e.jsx(n,{className:"cursor-pointer text-xs font-semibold text-[var(--foreground)]",children:l?"Visible":"Hidden"}),e.jsx("span",{className:"text-xs text-gray-500",children:t})]}),e.jsx(Is,{checked:l,onCheckedChange:m,disabled:d,className:"ml-1 md:ml-2"})]})}function re({isProcessing:s,isDirty:a,onClick:t,position:r="bottom"}){return e.jsx(C,{type:"button",onClick:t,disabled:!a||s,variant:a?"default":"ghost",className:"gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):a?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4"}),"Save Changes"]}):e.jsxs(e.Fragment,{children:[e.jsx(X,{className:"h-4 w-4"}),"Saved"]})})}function ie({listing:s,routeName:a,label:t="Listing",onBeforeToggle:r,saveButton:l}){const g=(s==null?void 0:s.is_active)??!1;return e.jsx("div",{className:`rounded-xl border-2 p-6 ${g?"border-[var(--primary)] bg-[var(--buame-border-light)]#1a331a]":"border-[var(--accent)]/30 bg-[var(--accent)]/10"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-full ${g?"bg-[var(--primary)]/20":"bg-[var(--accent)]/20"}`,children:g?e.jsx(se,{className:"h-6 w-6 text-[var(--primary)]"}):e.jsx(we,{className:"h-6 w-6 text-[var(--accent)]"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:[t," is ",g?"Visible":"Hidden"]}),e.jsx("p",{className:"text-sm text-gray-600",children:g?`Your ${t.toLowerCase()} is visible to visitors`:`Your ${t.toLowerCase()} is hidden from visitors. Toggle to make it visible.`})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2 sm:flex-row sm:items-center",children:[l&&e.jsx(re,{isProcessing:l.isProcessing,isDirty:l.isDirty,onClick:l.onClick,position:"top"}),e.jsx(Ls,{listing:s,routeName:a,label:t,onBeforeToggle:r})]})]})})}function be({label:s="Share Profile Link",url:a,description:t="Share this link to let people view your profile"}){const[r,l]=P.useState(!1),g=a.startsWith("http")?a:`${window.location.origin}${a.startsWith("/")?"":"/"}${a}`,d=()=>{navigator.clipboard.writeText(g),l(!0),setTimeout(()=>l(!1),2e3)};return e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx(n,{className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:s}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{value:g,readOnly:!0,className:"flex-1 text-sm bg-gray-50"}),e.jsx(C,{onClick:d,variant:"outline",type:"button",size:"icon",title:"Copy Link",children:r?e.jsx(X,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(ke,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",asChild:!0,type:"button",size:"icon",title:"Open Link",children:e.jsx("a",{href:g,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Ce,{className:"h-4 w-4"})})})]}),t&&e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:t})]})}function Rs({profile:s}){var p;const{errors:a}=q().props,[t,r]=P.useState(((p=s==null?void 0:s.specialties)==null?void 0:p.map(h=>h.specialty))||[]),[l,g]=P.useState(""),[d,i]=P.useState((s==null?void 0:s.profile_image)||null),{data:m,setData:v,post:j,processing:x,errors:w,recentlySuccessful:c,isDirty:o}=V({_method:"PUT",name:(s==null?void 0:s.name)||"",skill_type:(s==null?void 0:s.skill_type)||"",description:(s==null?void 0:s.description)||"",experience_years:(s==null?void 0:s.experience_years)||"",experience_level:(s==null?void 0:s.experience_level)||"expert",price_per_day:(s==null?void 0:s.price_per_day)||"",show_price:(s==null?void 0:s.show_price)??!1,location:(s==null?void 0:s.location)||"",address:(s==null?void 0:s.address)||"",phone:(s==null?void 0:s.phone)||"",phone_2:(s==null?void 0:s.phone_2)||"",whatsapp:(s==null?void 0:s.whatsapp)||"",email:(s==null?void 0:s.email)||"",working_hours:(s==null?void 0:s.working_hours)||"",is_available:(s==null?void 0:s.is_available)??!0,specialties:t,profile_image:null}),y=()=>{if(l.trim()&&!t.includes(l.trim())){const h=[...t,l.trim()];r(h),v("specialties",h),g("")}},S=h=>{const D=t.filter((A,L)=>L!==h);r(D),v("specialties",D)},_=h=>{const D=h.target.files[0];if(D){v("profile_image",D);const A=new FileReader;A.onloadend=()=>{i(A.result)},A.readAsDataURL(D)}},k=()=>{v("profile_image",null),i(null)},I=h=>{h==null||h.preventDefault(),s!=null&&s.id?j(route("user.dashboard.artisans.update",s.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}}):(m._method=void 0,j(route("user.dashboard.artisans.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}}))};return P.useEffect(()=>{v("specialties",t)},[t,v]),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)]",children:"Artisan Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your artisan profile information"})]}),s&&e.jsx(ie,{listing:s,routeName:"user.dashboard.artisans.toggle-active",label:"Profile",saveButton:{isProcessing:x,isDirty:o,onClick:I}}),(s==null?void 0:s.id)&&e.jsx(be,{label:"Artisan Profile Link",url:`/artisans/${s.id}`,description:"Share this link to let people view your artisan profile"}),e.jsxs("form",{onSubmit:I,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Profile Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[d?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:d,alt:"Profile",className:"h-32 w-32 rounded-lg border border-[var(--buame-border-light)] object-cover#2a4d2a]"}),e.jsx("button",{type:"button",onClick:k,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(M,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50",children:e.jsx(z,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{htmlFor:"profile_image",children:"Profile Image (Thumbnail)"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500",children:"This image will be displayed as your thumbnail to visitors"}),e.jsxs("label",{htmlFor:"profile_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[var(--buame-border-light)] bg-white px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6]#2a4d2a]#1a331a]#254225]",children:[e.jsx(E,{className:"h-4 w-4"}),d?"Change Image":"Upload Image"]}),e.jsx("input",{id:"profile_image",type:"file",className:"hidden",accept:"image/*",onChange:_}),e.jsx(u,{error:w.profile_image||(a==null?void 0:a.profile_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",children:"Professional/Business Name"}),e.jsx(b,{id:"name",value:m.name,onChange:h=>v("name",h.target.value),className:"mt-1",placeholder:"Mensah's Carpentry Works"}),e.jsx(u,{error:w.name||(a==null?void 0:a.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"skill_type",children:"Skill Type"}),e.jsxs(G,{value:m.skill_type,onValueChange:h=>v("skill_type",h),children:[e.jsx(W,{className:"mt-1",children:e.jsx(J,{placeholder:"Select skill type"})}),e.jsx(Y,{className:"max-h-[300px]",children:rs.map(h=>e.jsx(K,{value:h.id,children:h.label},h.id))})]}),e.jsx(u,{error:w.skill_type||(a==null?void 0:a.skill_type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"experience_years",children:["Years of Experience ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"experience_years",type:"number",value:m.experience_years,onChange:h=>v("experience_years",h.target.value),className:"mt-1",placeholder:"12"}),e.jsx(u,{error:w.experience_years||(a==null?void 0:a.experience_years),className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("input",{type:"checkbox",id:"show_price",checked:m.show_price,onChange:h=>v("show_price",h.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(n,{htmlFor:"show_price",className:"cursor-pointer",children:"Show average price per day to visitors"})]}),m.show_price&&e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price_per_day",children:"Average Price per Day (GH₵)"}),e.jsx(b,{id:"price_per_day",type:"number",step:"0.01",value:m.price_per_day,onChange:h=>v("price_per_day",h.target.value),className:"mt-1",placeholder:"80.00"}),e.jsx(u,{error:w.price_per_day||(a==null?void 0:a.price_per_day),className:"mt-1"})]})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"About"}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"description",children:["Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"description",value:m.description,onChange:h=>v("description",h.target.value),className:"mt-1",rows:4,placeholder:"Experienced master carpenter with over 12 years of expertise..."}),e.jsx(u,{error:w.description||(a==null?void 0:a.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Specialties"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{value:l,onChange:h=>g(h.target.value),onKeyPress:h=>h.key==="Enter"&&(h.preventDefault(),y()),placeholder:"Add specialty (e.g., Furniture)",className:"flex-1"}),e.jsx(C,{type:"button",onClick:y,variant:"outline",children:"Add"})]}),t.length>0&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t.map((h,D)=>e.jsxs("span",{className:"flex items-center gap-2 rounded-md bg-[var(--primary)]/10 px-3 py-1 text-sm font-semibold text-[var(--primary)]",children:[h,e.jsx("button",{type:"button",onClick:()=>S(D),className:"text-red-600 hover:text-red-800",children:"×"})]},D))})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:"Location"}),e.jsx(b,{id:"location",value:m.location,onChange:h=>v("location",h.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(u,{error:w.location||(a==null?void 0:a.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"address",children:["Full Address ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"address",value:m.address,onChange:h=>v("address",h.target.value),className:"mt-1",placeholder:"Street address"}),e.jsx(u,{error:w.address||(a==null?void 0:a.address),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Phone"}),e.jsx(b,{id:"phone",value:m.phone,onChange:h=>v("phone",h.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(u,{error:w.phone||(a==null?void 0:a.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"phone_2",children:["Phone 2 ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"phone_2",value:m.phone_2,onChange:h=>v("phone_2",h.target.value),className:"mt-1",placeholder:"+233 24 987 6543"}),e.jsx(u,{error:w.phone_2||(a==null?void 0:a.phone_2),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"whatsapp",children:["WhatsApp ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"whatsapp",value:m.whatsapp,onChange:h=>v("whatsapp",h.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(u,{error:w.whatsapp||(a==null?void 0:a.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"email",type:"email",value:m.email,onChange:h=>v("email",h.target.value),className:"mt-1",placeholder:"kwame.mensah@example.com"}),e.jsx(u,{error:w.email||(a==null?void 0:a.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Working Hours"}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"working_hours",children:["Working Hours ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"working_hours",value:m.working_hours,onChange:h=>v("working_hours",h.target.value),className:"mt-1",placeholder:"Mon-Sat: 7:00 AM - 6:00 PM"}),e.jsx(u,{error:w.working_hours||(a==null?void 0:a.working_hours),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[c&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(re,{isProcessing:x,isDirty:o,onClick:I,position:"bottom"})]})]})]})}function ne({videoLinks:s=[],storeRouteName:a,destroyRouteName:t,routeParams:r={}}){const[l,g]=P.useState(!1),[d,i]=P.useState(""),[m,v]=P.useState(!1),j=()=>{d.trim()&&(v(!0),U.post(route(a,r),{url:d.trim()},{preserveScroll:!0,onSuccess:y=>{var S;v(!1),!((S=y.props.flash)!=null&&S.error)&&(i(""),g(!1))},onError:()=>{v(!1)}}))},x=y=>{confirm("Are you sure you want to delete this video link?")&&U.delete(route(t,{...r,videoLink:y}),{preserveScroll:!0})},w=["tiktok","instagram"],c=s.filter(y=>w.includes(y.platform)),o=s.filter(y=>!w.includes(y.platform));return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:"Video Links"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Add video links to showcase your listing (",s.length,"/5)"]})]}),s.length<5&&e.jsxs(C,{onClick:()=>g(!0),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Video"]})]}),l&&e.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-gray-200 bg-white p-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"url",value:d,onChange:y=>i(y.target.value),placeholder:"e.g., https://youtube.com/watch?v=... or https://tiktok.com/@user/video/...",className:"w-full rounded-lg border border-gray-300 bg-white px-3 py-2 text-sm text-[var(--foreground)] placeholder-gray-400 focus:border-[var(--primary)] focus:ring-1 focus:ring-[var(--primary)] focus:outline-none#1a331a]",onKeyDown:y=>y.key==="Enter"&&j()})}),e.jsx(C,{onClick:j,disabled:m||!d.trim(),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:m?"Adding...":"Add"}),e.jsx(C,{variant:"ghost",size:"icon",onClick:()=>{g(!1),i("")},className:"cursor-pointer",children:e.jsx(M,{className:"h-4 w-4"})})]}),s.length>0?e.jsxs("div",{className:"space-y-4",children:[o.length>0&&e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:o.map(y=>e.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-gray-200 bg-white",children:[e.jsx(Ae,{url:y.url,platform:y.platform,embedUrl:y.embed_url,tiktokVideoId:y.tiktok_video_id,title:y.title}),e.jsx("button",{onClick:()=>x(y.id),className:"absolute top-2 right-2 rounded-lg bg-red-500 p-2 text-white shadow-md transition-colors hover:bg-red-600",title:"Delete video link",children:e.jsx(B,{className:"h-4 w-4"})})]},y.id))}),c.length>0&&e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:c.map(y=>e.jsxs("div",{className:"relative min-h-[480px] overflow-hidden rounded-xl border border-gray-200 bg-white",style:{height:"480px"},children:[e.jsx(Ae,{url:y.url,platform:y.platform,embedUrl:y.embed_url,tiktokVideoId:y.tiktok_video_id,title:y.title}),e.jsx("button",{onClick:()=>x(y.id),className:"absolute top-2 right-2 z-10 rounded-lg bg-red-500 p-2 text-white shadow-md transition-colors hover:bg-red-600",title:"Delete video link",children:e.jsx(B,{className:"h-4 w-4"})})]},y.id))})]}):!l&&e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-8 text-center",children:[e.jsx(Fe,{className:"mx-auto h-10 w-10 text-gray-400"}),e.jsx("p",{className:"mt-3 text-sm text-gray-600",children:"No video links yet. Add YouTube, TikTok, or Instagram links to showcase your listing."})]})]})}function Ds({portfolio:s,onClose:a}){const{errors:t}=q().props,[r,l]=P.useState((s==null?void 0:s.image_path)||null),g=!!s,{data:d,setData:i,post:m,put:v,processing:j,errors:x,reset:w}=V({item:(s==null?void 0:s.item)||"",image:null}),c=S=>{const _=S.target.files[0];if(_){i("image",_);const k=new FileReader;k.onloadend=()=>{l(k.result)},k.readAsDataURL(_)}},o=()=>{i("image",null),l(null)},y=S=>{S.preventDefault(),g?v(route("user.dashboard.artisans.portfolio.update",s.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{w(),a()}}):m(route("user.dashboard.artisans.portfolio.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{w(),l(null),a()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--foreground)]",children:g?"Edit Portfolio Item":"Add Portfolio Item"}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"image",children:"Image *"}),e.jsx("div",{className:"mt-2",children:r?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Preview",className:"h-48 w-full rounded-lg border border-[var(--buame-border-light)] object-cover#2a4d2a]"}),e.jsx("button",{type:"button",onClick:o,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(M,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(E,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:c,required:!g||!r})]})}),e.jsx(u,{error:x.image||(t==null?void 0:t.image),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"item",children:["Work Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"item",value:d.item,onChange:S=>i("item",S.target.value),className:"mt-1",placeholder:"e.g., Custom dining tables"}),e.jsx(u,{error:x.item||(t==null?void 0:t.item),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(C,{type:"button",variant:"outline",onClick:a,disabled:j,children:"Cancel"}),e.jsx(C,{type:"submit",disabled:j,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:j?"Saving...":g?"Update":"Add Item"})]})]})]})})}function Os({profile:s}){const a=(s==null?void 0:s.portfolio)||[],[t,r]=P.useState(!1),[l,g]=P.useState(null),d=j=>{g(j),r(!0)},i=j=>{confirm("Are you sure you want to delete this portfolio item?")&&U.delete(route("user.dashboard.artisans.portfolio.destroy",j),{preserveScroll:!0})},m=()=>{g(null),r(!0)},v=()=>{r(!1),g(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)]",children:"Portfolio"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Showcase your completed work"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:"My Portfolio"}),e.jsxs(C,{onClick:m,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Work"]})]}),a.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:a.map(j=>e.jsxs("div",{className:"group relative overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all hover:shadow-lg#2a4d2a]#1a331a]",children:[e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100",children:[j.image_path?e.jsx("img",{src:j.image_path,alt:j.item,className:"h-full w-full object-cover"}):e.jsx(z,{className:"h-12 w-12 text-gray-400"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{onClick:()=>d(j),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100#1a331a]#254225]",title:"Edit",children:e.jsx(ae,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>i(j.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100#1a331a]#254225]",title:"Delete",children:e.jsx(B,{className:"h-4 w-4 text-red-600"})})]})]}),e.jsx("div",{className:"p-4",children:e.jsx("p",{className:"font-semibold text-[var(--foreground)]",children:j.item||"Work Item"})})]},j.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center",children:[e.jsx(z,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"No portfolio items yet"}),e.jsxs(C,{onClick:m,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Your First Work"]})]}),t&&e.jsx(Ds,{portfolio:l,onClose:v}),e.jsx(ne,{videoLinks:(s==null?void 0:s.video_links)||[],storeRouteName:"user.dashboard.artisans.video-links.store",destroyRouteName:"user.dashboard.artisans.video-links.destroy"})]})}function Ts({activeSection:s,profile:a}){return s==="portfolio"?e.jsx(Os,{profile:a}):e.jsx(Rs,{profile:a})}const Ms={artisans:qe,hotels:Be,transport:ze,rentals:Pe,marketplace:Se,jobs:ge},Me={artisans:[{icon:se,text:"Your profile visible to customers searching for your skill"},{icon:z,text:"Upload photos of your past work as a portfolio"},{icon:le,text:"Customers contact you directly via call or WhatsApp"},{icon:Q,text:"Collect reviews and build your reputation"}],hotels:[{icon:De,text:"Show off your hotel with a beautiful photo gallery"},{icon:ce,text:"Appear in local search so guests find you first"},{icon:le,text:"Guests reach you directly to book rooms"},{icon:Q,text:"Build trust with guest ratings and reviews"}],transport:[{icon:se,text:"Get listed so passengers can find and call you"},{icon:le,text:"Your number, your passengers, no middleman"},{icon:ce,text:"Show your service area so nearby people find you"},{icon:Q,text:"Build a trusted name with rider reviews"}],rentals:[{icon:De,text:"Upload property photos that attract tenants fast"},{icon:se,text:"Your listing seen by hundreds of people searching"},{icon:le,text:"Tenants contact you direct, no agent wahala"},{icon:ce,text:"Show your property location for easy discovery"}],marketplace:[{icon:Ge,text:"Your own seller profile, like a shop that never closes"},{icon:Se,text:"List all your products with photos and prices"},{icon:le,text:"Buyers call or WhatsApp you to purchase directly"},{icon:Re,text:"Reach more buyers than word of mouth ever could"}],jobs:[{icon:ns,text:"Post job openings and manage listings easily"},{icon:Re,text:"Skilled local workers see your posting and reach out"},{icon:le,text:"Candidates contact you directly to apply"},{icon:cs,text:"Describe exactly what you need, attract the right fit"}]};function Ke({isOpen:s,onClose:a,category:t,subscription:r,isFreeAccess:l=!1,freeAccessDays:g=30}){const[d,i]=P.useState(!1),[m,v]=P.useState("starter"),j=r&&(r.subscription_status==="expired"||r.subscription_status==="grace_period"||r.is_expiring_soon),[x,w]=P.useState((r==null?void 0:r.billing_cycle)||"monthly"),{categories:c}=q().props,o=c==null?void 0:c[t];if(!o)return null;const y=Ms[t]||ge,S=o.tiers,_=t==="marketplace",k=Me[t]||Me.artisans,p=(()=>{var L;return _&&S&&((L=S[m])!=null&&L.pricing)?S[m].pricing:o.pricing||{monthly:o.price,biannually:o.price*5.4,annual:o.price*9.6}})(),h=p[x]||o.price,D=()=>{switch(x){case"biannually":return"6 months";case"annual":return"12 months";default:return"1 month"}},A=()=>{i(!0);const L={category:t};if(_&&(L.tier=m),l){U.post(route("user.dashboard.free-access"),L,{onFinish:()=>{i(!1),a()},onError:()=>i(!1)});return}L.billing_cycle=x,U.post(route("user.dashboard.payment.initialize"),L,{onFinish:()=>i(!1),onError:()=>i(!1)})};return e.jsx(me,{open:s,onOpenChange:a,children:e.jsxs(he,{className:"flex max-h-[90vh] flex-col gap-0 overflow-hidden p-0 sm:max-w-lg",children:[e.jsxs("div",{className:"relative bg-gradient-to-br from-[var(--primary)] to-[var(--primary)]/80 px-6 pb-5 pt-6 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-xl bg-white/20 backdrop-blur-sm",children:e.jsx(y,{className:"h-5 w-5 text-white"})}),e.jsx("div",{children:e.jsxs(xe,{className:"space-y-0",children:[e.jsx(ue,{className:"text-lg font-bold text-white",children:j?`Renew ${o.label}`:`Get ${o.label}`}),e.jsx(ls,{className:"text-sm text-white/70",children:j?"Continue where you left off":`Unlock your ${o.label.toLowerCase()} presence`})]})})]}),l&&e.jsxs("div",{className:"mt-4 flex items-center gap-2.5 rounded-lg bg-white/15 px-3.5 py-2.5 backdrop-blur-sm",children:[e.jsx(Le,{className:"h-5 w-5 shrink-0 text-green-300"}),e.jsxs("div",{className:"min-w-0",children:[e.jsxs("span",{className:"text-sm font-semibold text-white",children:[g," days free"]}),e.jsx("span",{className:"ml-1.5 text-xs text-white/70",children:"No payment needed to start"})]})]})]}),e.jsxs("div",{className:"flex-1 space-y-5 overflow-y-auto px-6 py-5",children:[_&&S&&e.jsxs("div",{children:[e.jsx("h3",{className:"mb-2.5 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Choose your plan"}),e.jsx("div",{className:"space-y-2",children:Object.entries(S).map(([L,N])=>e.jsx("button",{type:"button",onClick:()=>v(L),className:`w-full rounded-xl border-2 p-3.5 text-left transition-all ${m===L?"border-[var(--primary)] bg-[var(--primary)]/5 ring-1 ring-[var(--primary)]/20":"border-border bg-card hover:border-[var(--primary)]/40"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"text-sm font-bold text-foreground",children:N.name}),m===L&&e.jsx(X,{className:"h-4 w-4 text-[var(--primary)]"})]}),e.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground",children:N.description})]}),e.jsxs("span",{className:"text-xs font-medium text-muted-foreground",children:["Up to ",N.product_limit," products"]})]})},L))})]}),!l&&e.jsx(is,{selected:x,onChange:w,pricing:p}),!l&&e.jsxs("div",{className:"flex items-baseline gap-2 rounded-xl bg-muted/50 px-4 py-3",children:[e.jsxs("span",{className:"text-3xl font-black text-foreground",children:["GH₵ ",(h==null?void 0:h.toFixed(2))||"0.00"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["/ ",D()]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"mb-3 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"What you get"}),e.jsx("div",{className:"grid grid-cols-1 gap-2.5",children:k.map((L,N)=>{const F=L.icon;return e.jsxs("div",{className:"flex items-start gap-3 rounded-lg",children:[e.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-[var(--primary)]/10",children:e.jsx(F,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("span",{className:"pt-1 text-sm text-foreground",children:L.text})]},N)})})]}),!l&&e.jsxs("div",{className:"flex items-start gap-2.5 rounded-xl border border-amber-200 bg-amber-50 p-3",children:[e.jsx(te,{className:"mt-0.5 h-4 w-4 shrink-0 text-amber-600"}),e.jsxs("p",{className:"text-xs leading-relaxed text-amber-700",children:["You'll be redirected to Paystack for secure payment. Active for ",D(),", with reminders before expiry."]})]})]}),e.jsx("div",{className:"border-t border-border px-6 py-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(C,{type:"button",variant:"outline",onClick:a,disabled:d,className:"flex-1",children:"Cancel"}),e.jsx(C,{type:"button",onClick:A,disabled:d,className:"flex-[2] cursor-pointer gap-2 bg-[var(--primary)] font-semibold text-white hover:bg-[var(--primary)]/90",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Processing..."]}):l?e.jsxs(e.Fragment,{children:[e.jsx(Le,{className:"h-4 w-4"}),"Start ",g,"-Day Free Trial"]}):e.jsxs(e.Fragment,{children:[e.jsx(ds,{className:"h-4 w-4"}),j?"Renew":"Pay"," GH₵ ",(h==null?void 0:h.toFixed(2))||"0.00"]})})]})})]})})}const Ue={active:{icon:X,label:"Active",className:"bg-green-100 text-green-700"},grace_period:{icon:We,label:"Grace Period",className:"bg-yellow-100 text-yellow-700"},expired:{icon:ms,label:"Expired",className:"bg-red-100 text-red-700"},cancelled:{icon:te,label:"Cancelled",className:"bg-gray-100 text-gray-700"}};function Us({status:s,expiresAt:a,showExpiry:t=!0,size:r="default"}){const l=Ue[s]||Ue.expired,g=l.icon,d=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",i={small:"px-2 py-0.5 text-[10px]",default:"px-3 py-1 text-xs",large:"px-4 py-1.5 text-sm"},m={small:"h-3 w-3",default:"h-3.5 w-3.5",large:"h-4 w-4"};return e.jsxs("div",{className:`inline-flex items-center gap-1.5 rounded-full font-semibold ${l.className} ${i[r]}`,children:[e.jsx(g,{className:m[r]}),e.jsx("span",{children:l.label}),t&&a&&e.jsxs("span",{className:"opacity-75",children:["(",s==="active"?"Expires":"Expired",": ",d(a),")"]})]})}function $s(s,a=null){const t={category:s};a&&(t.section=a),U.get(route("user.dashboard.index"),t,{preserveScroll:!0,preserveState:!1})}function Xe(s,a=null){const t={section:s};if(a)t.category=a;else{const l=new URLSearchParams(window.location.search).get("category");l&&(t.category=l)}U.get(route("user.dashboard.index"),t,{preserveScroll:!0,preserveState:!0})}const Hs={artisans:{label:"Artisans",icon:qe,color:"blue"},hotels:{label:"Hotel",icon:Be,color:"green"},transport:{label:"Okada/Car",icon:ze,color:"orange"},rentals:{label:"Rentals",icon:Pe,color:"purple"},marketplace:{label:"Marketplace",icon:Se,color:"pink"},jobs:{label:"Jobs",icon:ge,color:"gray"}};function Vs({paidCategories:s,activeCategory:a,unpaidCategories:t,isFreeAccess:r=!1,freeAccessDays:l=30}){const[g,d]=P.useState(!1),[i,m]=P.useState(null),v=w=>{$s(w)},j=w=>{m(w),d(!0)},x=()=>{d(!1),m(null)};return e.jsxs("div",{className:"mb-6 rounded-xl border border-[var(--buame-border-light)] bg-white p-4#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-sm font-bold tracking-wide text-[#4c9a4c] uppercase#8fcc8f]",children:"Your Categories"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-6",children:Object.entries(Hs).map(([w,c])=>{const o=c.icon,y=s==null?void 0:s.find(k=>k.category===w),S=!!y,_=a===w;return S?e.jsxs("button",{onClick:()=>!_&&v(w),className:`flex cursor-pointer flex-col items-center gap-2 rounded-lg border-2 p-3 transition-all ${_?"border-[var(--primary)] bg-[var(--primary)]/10":"border-[var(--buame-border-light)] hover:border-[var(--primary)]/50#2a4d2a]"}`,children:[e.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-lg ${_?"bg-[var(--primary)] text-white":"bg-[var(--primary)]/10 text-[var(--primary)]"}`,children:e.jsx(o,{className:"h-5 w-5"})}),e.jsx("span",{className:`text-xs font-semibold ${_?"text-[var(--foreground)]":"text-[#4c9a4c]#8fcc8f]"}`,children:c.label}),y&&e.jsx(Us,{status:y.subscription_status,expiresAt:y.expires_at,showExpiry:!1,size:"small"})]},w):e.jsxs("button",{onClick:()=>j(w),className:"flex cursor-pointer flex-col items-center gap-2 rounded-lg border-2 border-dashed border-gray-300 p-3 opacity-60 transition-opacity hover:opacity-100",children:[e.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-gray-100 text-gray-400",children:e.jsx(xs,{className:"h-5 w-5"})}),e.jsx("span",{className:"text-xs font-semibold text-gray-500",children:c.label})]},w)})}),e.jsx(Ke,{isOpen:g,onClose:x,category:i,isFreeAccess:r,freeAccessDays:l})]})}function zs({image:s,onClose:a}){const{errors:t}=q().props,[r,l]=P.useState((s==null?void 0:s.image_path)||null),g=!!s,{data:d,setData:i,post:m,put:v,processing:j,errors:x,reset:w}=V({image:null,is_primary:(s==null?void 0:s.is_primary)||!1}),c=S=>{const _=S.target.files[0];if(_){i("image",_);const k=new FileReader;k.onloadend=()=>{l(k.result)},k.readAsDataURL(_)}},o=()=>{i("image",null),g||l(null)},y=S=>{S.preventDefault(),g?v(route("user.dashboard.hotels.images.update",s.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{w(),a()}}):m(route("user.dashboard.hotels.images.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{w(),l(null),a()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--foreground)]",children:g?"Edit Image":"Add Image"}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"image",children:"Hotel Image"}),e.jsx("div",{className:"mt-2",children:r?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Preview",className:"h-48 w-full rounded-lg border border-[var(--buame-border-light)] object-cover#2a4d2a]"}),e.jsx("button",{type:"button",onClick:o,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(M,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(E,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:c})]})}),e.jsx(u,{error:x.image||(t==null?void 0:t.image),className:"mt-1"})]}),!g&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_primary",checked:d.is_primary,onChange:S=>i("is_primary",S.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(n,{htmlFor:"is_primary",className:"text-sm",children:"Set as primary image"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(C,{type:"button",variant:"outline",onClick:a,disabled:j,children:"Cancel"}),e.jsx(C,{type:"submit",disabled:j,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:j?"Saving...":g?"Update":"Add Image"})]})]})]})})}function Bs({profile:s}){const a=(s==null?void 0:s.images)||[],[t,r]=P.useState(!1),[l,g]=P.useState(null),d=c=>{g(c),r(!0)},i=c=>{confirm("Are you sure you want to delete this image?")&&U.delete(route("user.dashboard.hotels.images.destroy",c),{preserveScroll:!0})},m=c=>{U.post(route("user.dashboard.hotels.images.set-primary",c),{},{preserveScroll:!0})},v=()=>{g(null),r(!0)},j=()=>{r(!1),g(null)},x=a.find(c=>c.is_primary),w=a.filter(c=>!c.is_primary);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)]",children:"Hotel Gallery"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your hotel images and showcase your property"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:"Property Images"}),e.jsxs(C,{onClick:v,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),x&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-4#2a4d2a]#1a331a]",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-semibold text-[var(--foreground)]",children:"Primary Image"})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-lg",children:[e.jsx("img",{src:x.image_path,alt:"Primary",className:"h-64 w-full object-cover transition-transform group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{onClick:()=>d(x),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100#1a331a]#254225]",title:"Edit",children:e.jsx(ae,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>i(x.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100#1a331a]#254225]",title:"Delete",children:e.jsx(B,{className:"h-4 w-4 text-red-600"})})]})]})]}),w.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:w.map(c=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all hover:shadow-lg#2a4d2a]#1a331a]",children:e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100",children:[e.jsx("img",{src:c.image_path,alt:"Hotel",className:"h-full w-full object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{onClick:()=>m(c.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100#1a331a]#254225]",title:"Set as Primary",children:e.jsx(Q,{className:"h-4 w-4 text-yellow-400"})}),e.jsx("button",{onClick:()=>d(c),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100#1a331a]#254225]",title:"Edit",children:e.jsx(ae,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>i(c.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100#1a331a]#254225]",title:"Delete",children:e.jsx(B,{className:"h-4 w-4 text-red-600"})})]})]})},c.id))}):!x&&e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center",children:[e.jsx(z,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"No images uploaded yet"}),e.jsxs(C,{onClick:v,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Your First Image"]})]}),t&&e.jsx(zs,{image:l,onClose:j}),e.jsx(ne,{videoLinks:(s==null?void 0:s.video_links)||[],storeRouteName:"user.dashboard.hotels.video-links.store",destroyRouteName:"user.dashboard.hotels.video-links.destroy"})]})}function qs({profile:s}){var k,I;console.log("HotelProfile - profile:",s);const{errors:a}=q().props,t=((k=s==null?void 0:s.images)==null?void 0:k.find(p=>p.is_primary))||((I=s==null?void 0:s.images)==null?void 0:I[0]),[r,l]=P.useState((t==null?void 0:t.image_path)||null),[g,d]=P.useState(!!(s!=null&&s.price_per_night));if(!s||!s.id)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:e.jsx("p",{className:"text-gray-600",children:"Loading profile..."})})});const{data:i,setData:m,post:v,processing:j,errors:x,recentlySuccessful:w,isDirty:c}=V({_method:"PUT",name:(s==null?void 0:s.name)||"",type:(s==null?void 0:s.type)||"hotel",description:(s==null?void 0:s.description)||"",location:(s==null?void 0:s.location)||"",address:(s==null?void 0:s.address)||"",phone:(s==null?void 0:s.phone)||"",whatsapp:(s==null?void 0:s.whatsapp)||"",email:(s==null?void 0:s.email)||"",price_per_night:(s==null?void 0:s.price_per_night)||"",rooms_count:(s==null?void 0:s.rooms_count)||"",phone_2:(s==null?void 0:s.phone_2)||"",operating_hours_mode:(s==null?void 0:s.operating_hours_mode)||"disabled",check_in_time:(s==null?void 0:s.check_in_time)||"08:00",check_out_time:(s==null?void 0:s.check_out_time)||"20:00",primary_image:null}),o=[{value:"hotel",label:"Hotel"},{value:"guest_house",label:"Guest House"},{value:"lodge",label:"Lodge"},{value:"short_stay",label:"Short Stay"}],y=p=>{const h=p.target.files[0];if(h){m("primary_image",h);const D=new FileReader;D.onloadend=()=>{l(D.result)},D.readAsDataURL(h)}},S=()=>{m("primary_image",null),l(null)},_=p=>{if(p==null||p.preventDefault(),!(s!=null&&s.id)){console.error("Profile ID is missing. Cannot submit form.");return}v(route("user.dashboard.hotels.update",s.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)]",children:"Hotel Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your hotel profile information"})]}),s&&e.jsx(ie,{listing:s,routeName:"user.dashboard.hotels.toggle-active",label:"Hotel",saveButton:{isProcessing:j,isDirty:c,onClick:_}}),(s==null?void 0:s.id)&&e.jsx(be,{label:"Hotel Page Link",url:`/hotels/${s.id}`,description:"Share this link for people to book your hotel"}),e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Hotel Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[r?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Hotel",className:"h-32 w-32 rounded-lg border border-[var(--buame-border-light)] object-cover#2a4d2a]"}),e.jsx("button",{type:"button",onClick:S,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(M,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50",children:e.jsx(z,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{htmlFor:"primary_image",children:"Primary Image"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500",children:"This image will be displayed as your hotel thumbnail to visitors"}),e.jsxs("label",{htmlFor:"primary_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[var(--buame-border-light)] bg-white px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6]#2a4d2a]#1a331a]#254225]",children:[e.jsx(E,{className:"h-4 w-4"}),r?"Change Image":"Upload Image"]}),e.jsx("input",{id:"primary_image",type:"file",className:"hidden",accept:"image/*",onChange:y}),e.jsx(u,{error:x.primary_image||(a==null?void 0:a.primary_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",children:"Hotel Name"}),e.jsx(b,{id:"name",value:i.name,onChange:p=>m("name",p.target.value),className:"mt-1",placeholder:"Royal Palm Hotel"}),e.jsx(u,{error:x.name||(a==null?void 0:a.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"type",children:"Property Type"}),e.jsxs(G,{value:i.type,onValueChange:p=>m("type",p),children:[e.jsx(W,{className:"mt-1",children:e.jsx(J,{placeholder:"Select property type"})}),e.jsx(Y,{children:o.map(p=>e.jsx(K,{value:p.value,children:p.label},p.value))})]}),e.jsx(u,{error:x.type||(a==null?void 0:a.type),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"rooms_count",children:["Number of Rooms ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"rooms_count",type:"number",value:i.rooms_count,onChange:p=>m("rooms_count",p.target.value),className:"mt-1",placeholder:"25"}),e.jsx(u,{error:x.rooms_count||(a==null?void 0:a.rooms_count),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:"Pricing"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showPricing",checked:g,onChange:p=>d(p.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(n,{htmlFor:"showPricing",className:"cursor-pointer text-sm text-gray-600",children:"Show pricing"})]})]}),g&&e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price_per_night",children:"Price per Night (GH₵)"}),e.jsx(b,{id:"price_per_night",type:"number",step:"0.01",value:i.price_per_night,onChange:p=>m("price_per_night",p.target.value),className:"mt-1",placeholder:"150.00"}),e.jsx(u,{error:x.price_per_night||(a==null?void 0:a.price_per_night),className:"mt-1"})]})})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"About Your Property"}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"description",children:["Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"description",value:i.description,onChange:p=>m("description",p.target.value),className:"mt-1",rows:4,placeholder:"Describe your property, its unique features, and what makes it special..."}),e.jsx(u,{error:x.description||(a==null?void 0:a.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:"Location"}),e.jsx(b,{id:"location",value:i.location,onChange:p=>m("location",p.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(u,{error:x.location||(a==null?void 0:a.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"address",children:["Full Address ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"address",value:i.address,onChange:p=>m("address",p.target.value),className:"mt-1",placeholder:"Street address"}),e.jsx(u,{error:x.address||(a==null?void 0:a.address),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Phone"}),e.jsx(b,{id:"phone",value:i.phone,onChange:p=>m("phone",p.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(u,{error:x.phone||(a==null?void 0:a.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"phone_2",children:["Phone 2 ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"phone_2",value:i.phone_2,onChange:p=>m("phone_2",p.target.value),className:"mt-1",placeholder:"+233 24 987 6543"}),e.jsx(u,{error:x.phone_2||(a==null?void 0:a.phone_2),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"whatsapp",children:["WhatsApp ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"whatsapp",value:i.whatsapp,onChange:p=>m("whatsapp",p.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(u,{error:x.whatsapp||(a==null?void 0:a.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"email",type:"email",value:i.email,onChange:p=>m("email",p.target.value),className:"mt-1",placeholder:"info@royalpalmhotel.com"}),e.jsx(u,{error:x.email||(a==null?void 0:a.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsxs("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:["Operating Hours ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx("p",{className:"mb-4 text-sm text-gray-600",children:"Set the hours when your hotel reception is open and available for guests"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex cursor-pointer items-center gap-3",children:[e.jsx("input",{type:"radio",name:"operating_hours_mode",value:"disabled",checked:i.operating_hours_mode==="disabled",onChange:p=>m("operating_hours_mode",p.target.value),className:"h-4 w-4 border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx("span",{className:"text-sm text-gray-700",children:"No operating hours"})]}),e.jsxs("label",{className:"flex cursor-pointer items-center gap-3",children:[e.jsx("input",{type:"radio",name:"operating_hours_mode",value:"24_7",checked:i.operating_hours_mode==="24_7",onChange:p=>m("operating_hours_mode",p.target.value),className:"h-4 w-4 border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Open 24/7"})]}),e.jsxs("label",{className:"flex cursor-pointer items-center gap-3",children:[e.jsx("input",{type:"radio",name:"operating_hours_mode",value:"custom",checked:i.operating_hours_mode==="custom",onChange:p=>m("operating_hours_mode",p.target.value),className:"h-4 w-4 border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Custom hours"})]})]}),i.operating_hours_mode==="custom"&&e.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"check_in_time",children:"Opening Time"}),e.jsx(b,{id:"check_in_time",type:"time",value:i.check_in_time,onChange:p=>m("check_in_time",p.target.value),className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"When your reception opens"}),e.jsx(u,{error:x.check_in_time||(a==null?void 0:a.check_in_time),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"check_out_time",children:"Closing Time"}),e.jsx(b,{id:"check_out_time",type:"time",value:i.check_out_time,onChange:p=>m("check_out_time",p.target.value),className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"When your reception closes"}),e.jsx(u,{error:x.check_out_time||(a==null?void 0:a.check_out_time),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[w&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(re,{isProcessing:j,isDirty:c,onClick:_,position:"bottom"})]})]})]})}function Gs({profile:s}){var D;const{errors:a}=q().props,[t,r]=P.useState((s==null?void 0:s.amenities)||[]),[l,g]=P.useState(""),[d,i]=P.useState(((D=s==null?void 0:s.features)==null?void 0:D.map(A=>A.feature))||[]),[m,v]=P.useState(""),{data:j,setData:x,post:w,processing:c,errors:o,recentlySuccessful:y}=V({_method:"PUT",amenities:t,features:d}),S=["WiFi","Parking","Air Conditioning","Restaurant","Bar","Swimming Pool","Gym","Spa","Room Service","Laundry","Business Center","Conference Room","24/7 Reception","Security","Pet Friendly","Airport Shuttle","Breakfast Included","Kitchen","TV","Hot Water"],_=A=>{if(A&&!t.includes(A)){const L=[...t,A];r(L),x("amenities",L)}},k=A=>{const L=t.filter(N=>N!==A);r(L),x("amenities",L)},I=()=>{if(m.trim()&&!d.includes(m.trim())){const A=[...d,m.trim()];i(A),x("features",A),v("")}},p=A=>{const L=d.filter((N,F)=>F!==A);i(L),x("features",L)},h=A=>{if(A.preventDefault(),console.log("HotelSettings - Form submit started"),console.log("HotelSettings - Profile:",s),console.log("HotelSettings - Form data:",j),!(s!=null&&s.id)){console.error("Profile ID is missing. Cannot submit form.");return}console.log("HotelSettings - Submitting to:",route("user.dashboard.hotels.update",s.id)),w(route("user.dashboard.hotels.update",s.id),{preserveScroll:!0,onSuccess:L=>{console.log("HotelSettings - Success!",L)},onError:L=>{console.error("HotelSettings - Errors:",L)},onFinish:()=>{console.log("HotelSettings - Request finished")}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)]",children:"Hotel Settings"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage amenities and features for your property"})]}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Amenities"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600",children:"Select amenities available at your property. These help guests find your property."}),e.jsxs("div",{className:"mb-4",children:[e.jsx(n,{className:"mb-2 block text-sm",children:"Quick Add"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(A=>e.jsxs("button",{type:"button",onClick:()=>_(A),disabled:t.includes(A),className:"rounded-md border border-[var(--buame-border-light)] bg-white px-3 py-1 text-xs font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6] disabled:opacity-50 disabled:cursor-not-allowed#2a4d2a]#1a331a]#254225]",children:[t.includes(A)?"✓ ":"+ ",A]},A))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx(n,{htmlFor:"custom_amenity",className:"mb-2 block text-sm",children:"Add Custom Amenity"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{id:"custom_amenity",value:l,onChange:A=>g(A.target.value),placeholder:"e.g., Rooftop Terrace",className:"flex-1"}),e.jsx(C,{type:"button",onClick:()=>{_(l),g("")},disabled:!l.trim()||t.includes(l.trim()),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:e.jsx(H,{className:"h-4 w-4"})})]})]}),t.length>0?e.jsxs("div",{children:[e.jsxs(n,{className:"mb-2 block text-sm",children:["Selected Amenities (",t.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(A=>e.jsxs("div",{className:"flex items-center gap-1 rounded-md bg-[var(--primary)]/10 px-3 py-1 text-sm text-white",children:[e.jsx("span",{children:A}),e.jsx("button",{type:"button",onClick:()=>k(A),className:"ml-1 text-red-600 hover:text-red-700",children:e.jsx(M,{className:"h-3 w-3"})})]},A))})]}):e.jsx("p",{className:"text-sm text-gray-500",children:"No amenities added yet"}),e.jsx(u,{error:o.amenities||(a==null?void 0:a.amenities),className:"mt-1"})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Features & Services"}),e.jsx("p",{className:"mb-4 text-sm text-gray-600",children:'Add special features or services your property offers (e.g., "24/7 Reception", "Room Service").'}),e.jsxs("div",{className:"mb-4",children:[e.jsx(n,{htmlFor:"new_feature",className:"mb-2 block text-sm",children:"Add Feature"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{id:"new_feature",value:m,onChange:A=>v(A.target.value),onKeyPress:A=>{A.key==="Enter"&&(A.preventDefault(),I())},placeholder:"e.g., 24/7 Reception",className:"flex-1"}),e.jsx(C,{type:"button",onClick:I,disabled:!m.trim(),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:e.jsx(H,{className:"h-4 w-4"})})]})]}),d.length>0?e.jsxs("div",{children:[e.jsxs(n,{className:"mb-2 block text-sm",children:["Features (",d.length,")"]}),e.jsx("div",{className:"space-y-2",children:d.map((A,L)=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border border-[var(--buame-border-light)] bg-white px-3 py-2#2a4d2a]#1a331a]",children:[e.jsx("span",{className:"text-sm text-[var(--foreground)]",children:A}),e.jsx("button",{type:"button",onClick:()=>p(L),className:"text-red-600 hover:text-red-700",children:e.jsx(B,{className:"h-4 w-4"})})]},L))})]}):e.jsx("p",{className:"text-sm text-gray-500",children:"No features added yet"}),e.jsx(u,{error:o.features||(a==null?void 0:a.features),className:"mt-1"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[y&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Settings saved successfully"})]}),e.jsx(C,{type:"submit",disabled:c,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:c?e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"h-4 w-4 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ye,{className:"h-4 w-4"}),"Save Settings"]})})]})]})]})}function Ws({activeSection:s,profile:a}){switch(s){case"gallery":return e.jsx(Bs,{profile:a});case"settings":return e.jsx(Gs,{profile:a});case"profile":default:return e.jsx(qs,{profile:a})}}function Js({isOpen:s,onClose:a,job:t}){const{data:r,setData:l,put:g,processing:d,errors:i,reset:m,clearErrors:v}=V({_method:"put",title:(t==null?void 0:t.title)||"",company:(t==null?void 0:t.company)||"",type:(t==null?void 0:t.type)||"",category:(t==null?void 0:t.category)||"",sub_category:(t==null?void 0:t.sub_category)||"",salary:(t==null?void 0:t.salary)||"",location:(t==null?void 0:t.location)||"",address:(t==null?void 0:t.address)||"",latitude:(t==null?void 0:t.latitude)||"",longitude:(t==null?void 0:t.longitude)||"",phone:(t==null?void 0:t.phone)||"",phone_2:(t==null?void 0:t.phone_2)||"",whatsapp:(t==null?void 0:t.whatsapp)||"",email:(t==null?void 0:t.email)||"",description:(t==null?void 0:t.description)||"",requirements:(t==null?void 0:t.requirements)||"",responsibilities:(t==null?void 0:t.responsibilities)||"",benefits:(t==null?void 0:t.benefits)||"",application_link:(t==null?void 0:t.application_link)||"",application_instructions:(t==null?void 0:t.application_instructions)||"",is_urgent:(t==null?void 0:t.is_urgent)||!1}),j=o=>{o.preventDefault(),g(route("user.dashboard.jobs.update",t.id),{preserveScroll:!0,onSuccess:()=>{x()}})},x=()=>{m(),v(),a()},w=o=>{const y=pe.find(S=>S.subRoles&&S.subRoles.some(_=>_.id===o));y?l(S=>({...S,sub_category:o,category:y.id})):l("sub_category",o)},c=[{value:"full_time",label:"Full Time"},{value:"part_time",label:"Part Time"},{value:"contract",label:"Contract"},{value:"internship",label:"Internship"},{value:"daily_wage",label:"Daily Wage"},{value:"apprenticeship",label:"Apprenticeship"}];return!s||!t?null:e.jsx(me,{open:s,onOpenChange:x,children:e.jsxs(he,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(xe,{children:e.jsx(ue,{children:"Edit Job"})}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-title",children:"Job Title *"}),e.jsx(b,{id:"edit-title",value:r.title,onChange:o=>l("title",o.target.value),placeholder:"Enter job title",required:!0}),e.jsx(u,{error:i.title})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-company",children:"Company Name *"}),e.jsx(b,{id:"edit-company",value:r.company,onChange:o=>l("company",o.target.value),placeholder:"Enter company name",required:!0}),e.jsx(u,{error:i.company})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-type",children:"Job Type *"}),e.jsxs(G,{value:r.type,onValueChange:o=>l("type",o),children:[e.jsx(W,{children:e.jsx(J,{placeholder:"Select type"})}),e.jsx(Y,{children:c.map(o=>e.jsx(K,{value:o.value,children:o.label},o.value))})]}),e.jsx(u,{error:i.type})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-sub_category",children:"Job Role / Category *"}),e.jsxs(G,{value:r.sub_category,onValueChange:w,children:[e.jsx(W,{children:e.jsx(J,{placeholder:"Select job role"})}),e.jsx(Y,{children:pe.map(o=>e.jsxs(He,{children:[e.jsx(Ve,{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:o.label}),o.subRoles&&o.subRoles.map(y=>e.jsx(K,{value:y.id,children:y.label},y.id))]},o.id))})]}),e.jsx(u,{error:i.sub_category}),e.jsx(u,{error:i.category})]})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-salary",children:["Salary ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"edit-salary",value:r.salary,onChange:o=>l("salary",o.target.value),placeholder:"e.g., GH₵ 2,000 - 3,000/month"}),e.jsx(u,{error:i.salary})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-location",children:"Location *"}),e.jsx(b,{id:"edit-location",value:r.location,onChange:o=>l("location",o.target.value),placeholder:"Enter location",required:!0}),e.jsx(u,{error:i.location})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-address",children:["Address ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"edit-address",value:r.address,onChange:o=>l("address",o.target.value),placeholder:"Enter full address (optional)",rows:2}),e.jsx(u,{error:i.address})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-phone",children:"Phone *"}),e.jsx(b,{id:"edit-phone",value:r.phone,onChange:o=>l("phone",o.target.value),placeholder:"Phone number",required:!0}),e.jsx(u,{error:i.phone})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-phone_2",children:["Phone 2 ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"edit-phone_2",value:r.phone_2,onChange:o=>l("phone_2",o.target.value),placeholder:"Second phone number"}),e.jsx(u,{error:i.phone_2})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-whatsapp",children:["WhatsApp ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"edit-whatsapp",value:r.whatsapp,onChange:o=>l("whatsapp",o.target.value),placeholder:"WhatsApp number"}),e.jsx(u,{error:i.whatsapp})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-email",children:["Email ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"edit-email",type:"email",value:r.email,onChange:o=>l("email",o.target.value),placeholder:"Email address"}),e.jsx(u,{error:i.email})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-description",children:"Job Description *"}),e.jsx($,{id:"edit-description",value:r.description,onChange:o=>l("description",o.target.value),placeholder:"Describe the job position...",rows:4,required:!0}),e.jsx(u,{error:i.description})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-requirements",children:["Requirements ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"edit-requirements",value:r.requirements,onChange:o=>l("requirements",o.target.value),placeholder:"List job requirements (one per line or as paragraphs)",rows:4}),e.jsx(u,{error:i.requirements})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-responsibilities",children:["Responsibilities ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"edit-responsibilities",value:r.responsibilities,onChange:o=>l("responsibilities",o.target.value),placeholder:"List job responsibilities (one per line or as paragraphs)",rows:4}),e.jsx(u,{error:i.responsibilities})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-benefits",children:["Benefits ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"edit-benefits",value:r.benefits,onChange:o=>l("benefits",o.target.value),placeholder:"List job benefits (one per line or as paragraphs)",rows:4}),e.jsx(u,{error:i.benefits})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-application_link",children:["Application Link ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"edit-application_link",type:"url",value:r.application_link,onChange:o=>l("application_link",o.target.value),placeholder:"https://example.com/apply"}),e.jsx(u,{error:i.application_link})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-application_instructions",children:["Application Instructions ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"edit-application_instructions",value:r.application_instructions,onChange:o=>l("application_instructions",o.target.value),placeholder:"Provide instructions on how to apply for this job",rows:3}),e.jsx(u,{error:i.application_instructions})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"edit-is_urgent",checked:r.is_urgent,onChange:o=>l("is_urgent",o.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(n,{htmlFor:"edit-is_urgent",className:"cursor-pointer",children:"Mark as Urgent"})]}),e.jsxs(je,{children:[e.jsx(C,{type:"button",variant:"outline",onClick:x,disabled:d,children:"Cancel"}),e.jsx(C,{type:"submit",disabled:d,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:d?"Saving...":"Save Changes"})]})]})]})})}function Ys({listings:s,onAddJob:a,poster:t}){const[r,l]=P.useState(!1),[g,d]=P.useState(null),[i,m]=P.useState(null),v=()=>{a&&a()},j=o=>{d(o),l(!0)},x=o=>{confirm(`Are you sure you want to delete "${o.title}"? This action cannot be undone.`)&&U.delete(route("user.dashboard.jobs.destroy",o.id),{preserveScroll:!0})},w=o=>{U.post(route("user.dashboard.jobs.toggle-active",o.id),{preserveScroll:!0})},c=o=>({full_time:"Full Time",part_time:"Part Time",contract:"Contract",internship:"Internship",daily_wage:"Daily Wage",apprenticeship:"Apprenticeship"})[o]||o;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:"My Job Postings"}),t&&e.jsxs(C,{onClick:v,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Post Job"]})]}),s&&s.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(o=>{var y;return e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)]#2a4d2a] bg-white#1a331a] overflow-hidden transition-all hover:shadow-lg",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"mb-2 flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-[var(--foreground)]",children:o.title}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:o.company})]}),o.is_urgent&&e.jsx("span",{className:"rounded-full bg-red-500 px-2 py-0.5 text-xs font-bold text-white",children:"Urgent"})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[e.jsx("span",{className:"rounded bg-[var(--primary)]/10 px-2 py-0.5 text-xs font-medium text-[var(--primary)]",children:c(o.type)}),o.salary&&e.jsx("span",{className:"text-xs font-medium text-gray-600",children:o.salary})]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(ce,{className:"h-3 w-3"}),e.jsx("span",{children:o.location})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsx(C,{onClick:()=>w(o),variant:o.is_active?"outline":"default",size:"sm",className:o.is_active?"flex-1 border-green-500 text-green-600 hover:bg-green-50":"flex-1 bg-gray-500 text-white hover:bg-gray-600",children:o.is_active?e.jsxs(e.Fragment,{children:[e.jsx(se,{className:"mr-2 h-3 w-3"}),"Live"]}):e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"mr-2 h-3 w-3"}),"Hidden"]})}),e.jsx(C,{onClick:()=>j(o),variant:"outline",size:"sm",children:e.jsx(ae,{className:"h-3 w-3"})}),e.jsx(C,{onClick:()=>x(o),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(B,{className:"h-3 w-3"})}),e.jsxs(C,{onClick:()=>m(i===o.id?null:o.id),variant:"outline",size:"sm",className:i===o.id?"border-[var(--primary)] text-[var(--primary)]":"",children:[e.jsx(As,{className:"mr-1 h-3 w-3"}),((y=o.video_links)==null?void 0:y.length)||0]})]}),i===o.id&&e.jsx("div",{className:"mt-3 border-t border-gray-200 pt-3",children:e.jsx(ne,{videoLinks:o.video_links||[],storeRouteName:"user.dashboard.jobs.video-links.store",destroyRouteName:"user.dashboard.jobs.video-links.destroy",routeParams:{job:o.id}})})]})},o.id)})}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center",children:[e.jsx(ge,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600",children:t?"No job postings yet. Start posting jobs!":"Please set up your employer profile first to post jobs."}),t&&e.jsxs(C,{onClick:v,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Post Your First Job"]})]}),e.jsx(Js,{isOpen:r,onClose:()=>{l(!1),d(null)},job:g})]})}function Ks({poster:s}){const[a,t]=P.useState(!1),[r,l]=P.useState((s==null?void 0:s.slug)||""),{data:g,setData:d,put:i,processing:m,errors:v,reset:j,isDirty:x}=V({name:(s==null?void 0:s.name)||"",slug:(s==null?void 0:s.slug)||"",description:(s==null?void 0:s.description)||"",location:(s==null?void 0:s.location)||"",phone:(s==null?void 0:s.phone)||"",whatsapp:(s==null?void 0:s.whatsapp)||"",email:(s==null?void 0:s.email)||"",website:(s==null?void 0:s.website)||""});P.useEffect(()=>{s&&(d({name:s.name||"",slug:s.slug||"",description:s.description||"",location:s.location||"",phone:s.phone||"",whatsapp:s.whatsapp||"",email:s.email||"",website:s.website||""}),l(s.slug||""))},[s]);const w=k=>{const I=k.target.value;if(d("name",I),!r||r===(s==null?void 0:s.slug)){const p=I.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");d("slug",p),l(p)}},c=k=>{const I=k.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");d("slug",I),l(I)},o=k=>{k==null||k.preventDefault(),i(route("user.dashboard.jobs.poster.update"),{preserveScroll:!0,onSuccess:()=>{j()}})},y=async k=>{var p;if((p=navigator==null?void 0:navigator.clipboard)!=null&&p.writeText&&window.isSecureContext){await navigator.clipboard.writeText(k);return}const I=document.createElement("textarea");I.value=k,I.setAttribute("readonly",""),I.style.position="fixed",I.style.top="-9999px",I.style.left="-9999px",document.body.appendChild(I),I.select(),document.execCommand("copy"),document.body.removeChild(I)},S=async()=>{const k=`${window.location.origin}/jobs/employer/${g.slug||(s==null?void 0:s.slug)}`;try{await y(k),t(!0),setTimeout(()=>t(!1),2e3)}catch(I){console.error("Copy failed:",I)}},_=`${window.location.origin}/jobs/employer/${g.slug||(s==null?void 0:s.slug)||"your-profile"}`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)]",children:"Employer Profile"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"Manage your employer profile and contact information"})]}),e.jsx(ie,{listing:s,routeName:"user.dashboard.jobs.poster.toggle-active",label:"Profile",saveButton:{isProcessing:m,isDirty:x,onClick:o}}),e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"Employer Name *"}),e.jsx(b,{id:"name",value:g.name,onChange:w,placeholder:"Enter employer name",className:"w-full",required:!0}),e.jsx(u,{error:v.name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"slug",className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"Profile URL Slug"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm whitespace-nowrap text-gray-500",children:"/jobs/employer/"}),e.jsx(b,{id:"slug",value:g.slug,onChange:c,placeholder:"your-profile",className:"flex-1",pattern:"[a-z0-9\\-]+"})]}),e.jsx(u,{error:v.slug}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx(n,{htmlFor:"description",className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"About Employer"}),e.jsx($,{id:"description",value:g.description,onChange:k=>d("description",k.target.value),placeholder:"Tell job seekers about yourself...",rows:4,className:"w-full"}),e.jsx(u,{error:v.description})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx(n,{className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"Your Profile Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{value:_,readOnly:!0,className:"flex-1 text-sm"}),e.jsx(C,{onClick:S,variant:"outline",type:"button",size:"icon",children:a?e.jsx(X,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(ke,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",asChild:!0,type:"button",size:"icon",children:e.jsx("a",{href:_,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Ce,{className:"h-4 w-4"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Share this link to show all your job postings"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx(n,{htmlFor:"location",className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"Location"}),e.jsx(b,{id:"location",value:g.location,onChange:k=>d("location",k.target.value),placeholder:"e.g., Accra, Ghana",className:"w-full"}),e.jsx(u,{error:v.location})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 font-semibold text-[var(--foreground)]",children:"Contact Information"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"Phone Number *"}),e.jsx(b,{id:"phone",value:g.phone,onChange:k=>d("phone",k.target.value),placeholder:"Phone number"}),e.jsx(u,{error:v.phone})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"whatsapp",className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"WhatsApp"}),e.jsx(b,{id:"whatsapp",value:g.whatsapp,onChange:k=>d("whatsapp",k.target.value),placeholder:"WhatsApp number"}),e.jsx(u,{error:v.whatsapp})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"Email"}),e.jsx(b,{id:"email",type:"email",value:g.email,onChange:k=>d("email",k.target.value),placeholder:"Email address"}),e.jsx(u,{error:v.email})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"website",className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"Website"}),e.jsx(b,{id:"website",type:"url",value:g.website,onChange:k=>d("website",k.target.value),placeholder:"https://yourwebsite.com"}),e.jsx(u,{error:v.website})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(re,{isProcessing:m,isDirty:x,onClick:o,position:"bottom"})})]})]})}function Xs({isOpen:s,onClose:a}){const{data:t,setData:r,post:l,processing:g,errors:d,reset:i,clearErrors:m}=V({title:"",company:"",type:"",category:"",sub_category:"",salary:"",location:"",address:"",latitude:"",longitude:"",phone:"",phone_2:"",whatsapp:"",email:"",description:"",requirements:"",responsibilities:"",benefits:"",application_link:"",application_instructions:"",is_urgent:!1}),v=c=>{c.preventDefault(),l(route("user.dashboard.jobs.store"),{preserveScroll:!0,onSuccess:()=>{j()}})},j=()=>{i(),m(),a()},x=c=>{const o=pe.find(y=>y.subRoles&&y.subRoles.some(S=>S.id===c));o?r(y=>({...y,sub_category:c,category:o.id})):r("sub_category",c)},w=[{value:"full_time",label:"Full Time"},{value:"part_time",label:"Part Time"},{value:"contract",label:"Contract"},{value:"internship",label:"Internship"},{value:"daily_wage",label:"Daily Wage"},{value:"apprenticeship",label:"Apprenticeship"}];return s?e.jsx(me,{open:s,onOpenChange:j,children:e.jsxs(he,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(xe,{children:e.jsx(ue,{children:"Post New Job"})}),e.jsxs("form",{onSubmit:v,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"title",children:"Job Title *"}),e.jsx(b,{id:"title",value:t.title,onChange:c=>r("title",c.target.value),placeholder:"Enter job title",required:!0}),e.jsx(u,{error:d.title})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"company",children:"Company Name *"}),e.jsx(b,{id:"company",value:t.company,onChange:c=>r("company",c.target.value),placeholder:"Enter company name",required:!0}),e.jsx(u,{error:d.company})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"type",children:"Job Type *"}),e.jsxs(G,{value:t.type,onValueChange:c=>r("type",c),children:[e.jsx(W,{children:e.jsx(J,{placeholder:"Select type"})}),e.jsx(Y,{children:w.map(c=>e.jsx(K,{value:c.value,children:c.label},c.value))})]}),e.jsx(u,{error:d.type})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"sub_category",children:"Job Role / Category *"}),e.jsxs(G,{value:t.sub_category,onValueChange:x,children:[e.jsx(W,{children:e.jsx(J,{placeholder:"Select job role"})}),e.jsx(Y,{children:pe.map(c=>e.jsxs(He,{children:[e.jsx(Ve,{className:"px-2 py-1.5 text-xs font-semibold text-muted-foreground",children:c.label}),c.subRoles&&c.subRoles.map(o=>e.jsx(K,{value:o.id,children:o.label},o.id))]},c.id))})]}),e.jsx(u,{error:d.sub_category}),e.jsx(u,{error:d.category})]})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"salary",children:["Salary ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"salary",value:t.salary,onChange:c=>r("salary",c.target.value),placeholder:"e.g., GH₵ 2,000 - 3,000/month"}),e.jsx(u,{error:d.salary})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:"Location *"}),e.jsx(b,{id:"location",value:t.location,onChange:c=>r("location",c.target.value),placeholder:"Enter location",required:!0}),e.jsx(u,{error:d.location})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"address",children:["Address ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"address",value:t.address,onChange:c=>r("address",c.target.value),placeholder:"Enter full address (optional)",rows:2}),e.jsx(u,{error:d.address})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Phone *"}),e.jsx(b,{id:"phone",value:t.phone,onChange:c=>r("phone",c.target.value),placeholder:"Phone number",required:!0}),e.jsx(u,{error:d.phone})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"phone_2",children:["Phone 2 ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"phone_2",value:t.phone_2,onChange:c=>r("phone_2",c.target.value),placeholder:"Second phone number"}),e.jsx(u,{error:d.phone_2})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"whatsapp",children:["WhatsApp ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"whatsapp",value:t.whatsapp,onChange:c=>r("whatsapp",c.target.value),placeholder:"WhatsApp number"}),e.jsx(u,{error:d.whatsapp})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"email",type:"email",value:t.email,onChange:c=>r("email",c.target.value),placeholder:"Email address"}),e.jsx(u,{error:d.email})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",children:"Job Description *"}),e.jsx($,{id:"description",value:t.description,onChange:c=>r("description",c.target.value),placeholder:"Describe the job position...",rows:4,required:!0}),e.jsx(u,{error:d.description})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"requirements",children:["Requirements ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"requirements",value:t.requirements,onChange:c=>r("requirements",c.target.value),placeholder:"List job requirements (one per line or as paragraphs)",rows:4}),e.jsx(u,{error:d.requirements})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"responsibilities",children:["Responsibilities ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"responsibilities",value:t.responsibilities,onChange:c=>r("responsibilities",c.target.value),placeholder:"List job responsibilities (one per line or as paragraphs)",rows:4}),e.jsx(u,{error:d.responsibilities})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"benefits",children:["Benefits ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"benefits",value:t.benefits,onChange:c=>r("benefits",c.target.value),placeholder:"List job benefits (one per line or as paragraphs)",rows:4}),e.jsx(u,{error:d.benefits})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"application_link",children:["Application Link ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"application_link",type:"url",value:t.application_link,onChange:c=>r("application_link",c.target.value),placeholder:"https://example.com/apply"}),e.jsx(u,{error:d.application_link})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"application_instructions",children:["Application Instructions ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"application_instructions",value:t.application_instructions,onChange:c=>r("application_instructions",c.target.value),placeholder:"Provide instructions on how to apply for this job",rows:3}),e.jsx(u,{error:d.application_instructions})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_urgent",checked:t.is_urgent,onChange:c=>r("is_urgent",c.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(n,{htmlFor:"is_urgent",className:"cursor-pointer",children:"Mark as Urgent"})]}),e.jsxs(je,{children:[e.jsx(C,{type:"button",variant:"outline",onClick:j,disabled:g,children:"Cancel"}),e.jsx(C,{type:"submit",disabled:g,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:g?"Posting...":"Post Job"})]})]})]})}):null}function Qs({activeTab:s,data:a}){const[t,r]=P.useState(!1),l=()=>{r(!0)};return e.jsxs("div",{className:"space-y-6",children:[s==="poster"?e.jsx(Ks,{poster:a==null?void 0:a.poster}):e.jsx(Ys,{listings:(a==null?void 0:a.listings)||[],onAddJob:l,poster:a==null?void 0:a.poster}),e.jsx(Xs,{isOpen:t,onClose:()=>r(!1)})]})}function Zs({isOpen:s,onClose:a,product:t}){const{data:r,setData:l,post:g,processing:d,errors:i,reset:m,clearErrors:v}=V({_method:"put",title:(t==null?void 0:t.title)||"",category:(t==null?void 0:t.category)||"",has_price:(t==null?void 0:t.price)!==null&&(t==null?void 0:t.price)!==void 0,price:(t==null?void 0:t.price)||"",price_type:(t==null?void 0:t.price_type)||"",condition:(t==null?void 0:t.condition)||"new",location:(t==null?void 0:t.location)||"",latitude:(t==null?void 0:t.latitude)||"",longitude:(t==null?void 0:t.longitude)||"",description:(t==null?void 0:t.description)||"",delivery_available:(t==null?void 0:t.delivery_available)||!1,warranty:(t==null?void 0:t.warranty)||"",images:[],remove_images:[],specifications:[],remove_specifications:[],video_links:[],remove_video_links:[]}),[j,x]=P.useState([]),[w,c]=P.useState((t==null?void 0:t.images)||[]),[o,y]=P.useState((t==null?void 0:t.specifications)||[]),[S,_]=P.useState((t==null?void 0:t.video_links)||[]),k=f=>{const R=Array.from(f.target.files);if(w.length-r.remove_images.length+r.images.length+R.length>10)return;const Ne=[...r.images,...R];l("images",Ne);const ss=R.map(fe=>URL.createObjectURL(fe));x(fe=>[...fe,...ss])},I=f=>{URL.revokeObjectURL(j[f]),l("images",r.images.filter((R,O)=>O!==f)),x(R=>R.filter((O,Ne)=>Ne!==f))},p=f=>{const R=r.remove_images.includes(f)?r.remove_images.filter(O=>O!==f):[...r.remove_images,f];l("remove_images",R)},h=()=>{l("specifications",[...r.specifications,""])},D=(f,R)=>{const O=[...r.specifications];O[f]=R,l("specifications",O)},A=f=>{l("specifications",r.specifications.filter((R,O)=>O!==f))},L=f=>{const R=r.remove_specifications.includes(f)?r.remove_specifications.filter(O=>O!==f):[...r.remove_specifications,f];l("remove_specifications",R)},N=()=>{S.length-r.remove_video_links.length+r.video_links.length<5&&l("video_links",[...r.video_links,""])},F=(f,R)=>{const O=[...r.video_links];O[f]=R,l("video_links",O)},T=f=>{l("video_links",r.video_links.filter((R,O)=>O!==f))},oe=f=>{const R=r.remove_video_links.includes(f)?r.remove_video_links.filter(O=>O!==f):[...r.remove_video_links,f];l("remove_video_links",R)},ye=f=>{f.preventDefault(),g(route("user.dashboard.marketplace.update",t.id),{preserveScroll:!0,onSuccess:()=>{ee()}})},ee=()=>{j.forEach(f=>URL.revokeObjectURL(f)),m(),v(),x([]),c([]),y([]),_([]),a()},{marketplaceCategories:Qe={}}=q().props,Ze=Object.entries(Qe).map(([f,R])=>({value:f,label:R})),Ee=[{value:"new",label:"New"},{value:"like_new",label:"Like New"},{value:"used",label:"Used"},{value:"refurbished",label:"Refurbished"}],es=w.filter(f=>!r.remove_images.includes(f.id)).length+r.images.length;return!s||!t?null:e.jsx(me,{open:s,onOpenChange:ee,children:e.jsxs(he,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(xe,{children:e.jsx(ue,{children:"Edit Product"})}),e.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Product Images (Max 10)"}),e.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 sm:grid-cols-5",children:[w.map((f,R)=>{const O=r.remove_images.includes(f.id);return e.jsxs("div",{className:`group relative aspect-square ${O?"opacity-40":""}`,children:[e.jsx("img",{src:`/storage/${f.image_path}`,alt:`Product ${R+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>p(f.id),className:`absolute -top-2 -right-2 rounded-full p-1 text-white ${O?"bg-green-500":"bg-red-500"}`,children:e.jsx(M,{className:"h-3 w-3"})}),f.is_primary&&!O&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-[var(--primary)] px-1.5 py-0.5 text-xs font-medium text-white",children:"Primary"}),O&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-red-500 px-1.5 py-0.5 text-xs font-medium text-white",children:"Remove"})]},`existing-${f.id}`)}),j.map((f,R)=>e.jsxs("div",{className:"group relative aspect-square",children:[e.jsx("img",{src:f,alt:`New ${R+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>I(R),className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white",children:e.jsx(M,{className:"h-3 w-3"})}),e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-blue-500 px-1.5 py-0.5 text-xs font-medium text-white",children:"New"})]},`new-${R}`)),es<10&&e.jsxs("label",{className:"flex aspect-square cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:border-[var(--primary)]",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:k,className:"hidden"}),e.jsx(de,{className:"h-6 w-6 text-gray-400"})]})]}),e.jsx(u,{error:i.images})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-title",children:"Product Title *"}),e.jsx(b,{id:"edit-title",value:r.title,onChange:f=>l("title",f.target.value),placeholder:"Enter product title",required:!0}),e.jsx(u,{error:i.title})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-category",children:"Category *"}),e.jsxs(G,{value:r.category,onValueChange:f=>l("category",f),children:[e.jsx(W,{children:e.jsx(J,{placeholder:"Select category"})}),e.jsx(Y,{children:Ze.map(f=>e.jsx(K,{value:f.value,children:f.label},f.value))})]}),e.jsx(u,{error:i.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"edit-has_price",checked:r.has_price,onChange:f=>l("has_price",f.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(n,{htmlFor:"edit-has_price",className:"cursor-pointer",children:"Add Price"})]}),r.has_price&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-price",children:"Price (GH₵)"}),e.jsx(b,{id:"edit-price",type:"number",step:"0.01",min:"0",value:r.price,onChange:f=>l("price",f.target.value),placeholder:"0.00"}),e.jsx(u,{error:i.price})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-price_type",children:"Price Type"}),e.jsx(b,{id:"edit-price_type",value:r.price_type,onChange:f=>l("price_type",f.target.value),placeholder:"e.g., /kg, /bunch"})]})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-condition",children:["Condition ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsxs(G,{value:r.condition,onValueChange:f=>l("condition",f),children:[e.jsx(W,{children:e.jsx(J,{placeholder:"Select condition"})}),e.jsx(Y,{children:Ee.map(f=>e.jsx(K,{value:f.value,children:f.label},f.value))})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"edit-location",children:"Location *"}),e.jsx(b,{id:"edit-location",value:r.location,onChange:f=>l("location",f.target.value),placeholder:"Enter location",required:!0}),e.jsx(u,{error:i.location})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-description",children:["Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"edit-description",value:r.description,onChange:f=>l("description",f.target.value),placeholder:"Describe your product...",rows:4})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"edit-delivery_available",checked:r.delivery_available,onChange:f=>l("delivery_available",f.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(n,{htmlFor:"edit-delivery_available",className:"cursor-pointer",children:"Delivery Available"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"edit-warranty",children:["Warranty ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"edit-warranty",value:r.warranty,onChange:f=>l("warranty",f.target.value),placeholder:"e.g., 1 year warranty"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsxs(n,{children:["Specifications ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsxs(C,{type:"button",variant:"outline",size:"sm",onClick:h,className:"h-8 gap-1 text-xs",children:[e.jsx(H,{className:"h-3 w-3"}),"Add Specification"]})]}),e.jsxs("div",{className:"space-y-2",children:[o.map((f,R)=>{const O=r.remove_specifications.includes(f.id);return e.jsxs("div",{className:`flex gap-2 ${O?"opacity-40":""}`,children:[e.jsx(b,{value:f.specification,disabled:!0,className:`flex-1 ${O?"line-through":""}`}),e.jsx(C,{type:"button",variant:"outline",size:"sm",onClick:()=>L(f.id),className:`h-10 w-10 p-0 ${O?"bg-green-500 text-white hover:bg-green-600":""}`,children:e.jsx(M,{className:"h-4 w-4"})})]},`existing-spec-${f.id}`)}),r.specifications.map((f,R)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{value:f,onChange:O=>D(R,O.target.value),placeholder:"e.g., 128GB Storage, 8GB RAM",className:"flex-1"}),e.jsx(C,{type:"button",variant:"outline",size:"sm",onClick:()=>A(R),className:"h-10 w-10 p-0",children:e.jsx(M,{className:"h-4 w-4"})})]},`new-spec-${R}`)),o.length===0&&r.specifications.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"Add product specifications to help buyers understand your product better."})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsxs(n,{children:["Video Links ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional, max 5)"})]}),S.length-r.remove_video_links.length+r.video_links.length<5&&e.jsxs(C,{type:"button",variant:"outline",size:"sm",onClick:N,className:"h-8 gap-1 text-xs",children:[e.jsx(Fe,{className:"h-3 w-3"}),"Add Video Link"]})]}),e.jsxs("div",{className:"space-y-2",children:[S.map(f=>{const R=r.remove_video_links.includes(f.id);return e.jsxs("div",{className:`flex gap-2 ${R?"opacity-40":""}`,children:[e.jsx(b,{value:f.url,disabled:!0,className:`flex-1 ${R?"line-through":""}`}),e.jsx(C,{type:"button",variant:"outline",size:"sm",onClick:()=>oe(f.id),className:`h-10 w-10 p-0 ${R?"bg-green-500 text-white hover:bg-green-600":""}`,children:e.jsx(M,{className:"h-4 w-4"})})]},`existing-link-${f.id}`)}),r.video_links.map((f,R)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{value:f,onChange:O=>F(R,O.target.value),placeholder:"e.g., https://youtube.com/watch?v=... or https://tiktok.com/@user/video/...",className:"flex-1"}),e.jsx(C,{type:"button",variant:"outline",size:"sm",onClick:()=>T(R),className:"h-10 w-10 p-0",children:e.jsx(M,{className:"h-4 w-4"})})]},`new-link-${R}`)),S.length===0&&r.video_links.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"Add video links to showcase your product in action."})]}),e.jsx(u,{error:i.video_links})]}),e.jsxs(je,{children:[e.jsx(C,{type:"button",variant:"outline",onClick:ee,disabled:d,children:"Cancel"}),e.jsx(C,{type:"submit",disabled:d,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:d?"Saving...":"Save Changes"})]})]})]})})}function Es({products:s,store:a,tiers:t,onAddProduct:r,isFreeAccess:l=!1}){const[g,d]=P.useState(null),[i,m]=P.useState(null),v=()=>{r?r():U.visit(route("user.dashboard.marketplace.create"))},j=_=>{m(_)},x=_=>{confirm("Are you sure you want to delete this product?")&&(d(_),U.delete(route("user.dashboard.marketplace.destroy",_),{preserveScroll:!0,onFinish:()=>d(null)}))},w=()=>{const _=["starter","professional","enterprise"].indexOf((a==null?void 0:a.tier)||"starter"),k=["starter","professional","enterprise"][_+1];k&&(t!=null&&t[k])&&U.post(route("user.dashboard.marketplace.store.upgrade"),{tier:k})},c=(a==null?void 0:a.remaining_slots)||0,o=(a==null?void 0:a.product_limit)||10,y=(s==null?void 0:s.length)||0,S=c>0&&(a==null?void 0:a.is_active);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)]",children:"My Products"}),e.jsxs("p",{className:"mt-1 text-gray-600",children:[y," / ",o," products",c>0&&e.jsxs("span",{className:"ml-2 text-[var(--primary)]",children:["(",c," slots remaining)"]})]})]}),e.jsxs(C,{onClick:v,disabled:!S,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Product"]})]}),c===0&&e.jsx("div",{className:"rounded-xl border border-[var(--secondary)]/30 bg-[var(--secondary)]/10 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(te,{className:"h-5 w-5 text-[var(--secondary)] flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--secondary)]",children:"Product Limit Reached"}),e.jsx("p",{className:"mt-1 text-sm text-[var(--secondary)]/80",children:l?`You've reached your limit of ${o} products. Upgrade options will be available after the free trial period.`:`You've reached your limit of ${o} products. Upgrade to add more.`})]})]}),!l&&e.jsxs(C,{onClick:w,size:"sm",className:"bg-[var(--secondary)] text-[var(--secondary-foreground)] hover:bg-[var(--secondary)]/90 flex-shrink-0",children:[e.jsx(Je,{className:"mr-2 h-4 w-4"}),"Upgrade"]})]})}),a&&!a.is_active&&e.jsx("div",{className:"rounded-xl border border-[var(--accent)]/30 bg-[var(--accent)]/10 p-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(te,{className:"h-5 w-5 text-[var(--accent)] flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--accent)]",children:"Store Not Active"}),e.jsx("p",{className:"mt-1 text-sm text-[var(--accent)]/80",children:"Your store is hidden from visitors. Activate it to make your products visible."})]})]}),e.jsx(C,{onClick:()=>Xe("store"),variant:"outline",size:"sm",className:"border-[var(--accent)]/30 text-[var(--accent)] hover:bg-[var(--accent)]/10 flex-shrink-0",children:"Store Settings"})]})}),s&&s.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3",children:s.map(_=>{var I,p;const k=((I=_.images)==null?void 0:I.find(h=>h.is_primary))||((p=_.images)==null?void 0:p[0]);return e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)]#2a4d2a] bg-white#1a331a] overflow-hidden transition-all hover:shadow-lg",children:[e.jsxs("div",{className:"aspect-video w-full bg-gray-100 relative overflow-hidden",children:[k?e.jsx("img",{src:`/storage/${k.image_path}`,alt:_.title,className:"h-full w-full object-cover"}):e.jsx("div",{className:"flex h-full items-center justify-center",children:e.jsx(ve,{className:"h-12 w-12 text-gray-400"})}),!_.is_active&&e.jsx("div",{className:"absolute top-2 right-2 rounded bg-gray-900/70 px-2 py-1 text-xs text-white",children:"Inactive"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"font-bold text-[var(--foreground)]",children:_.title}),_.price>0&&e.jsxs("p",{className:"mt-1 text-sm font-semibold text-[var(--primary)]",children:["GH₵ ",_.price]}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(ce,{className:"h-3 w-3"}),e.jsx("span",{children:_.location})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[e.jsxs(C,{onClick:()=>j(_),variant:"outline",size:"sm",className:"flex-1",children:[e.jsx(ae,{className:"mr-2 h-3 w-3"}),"Edit"]}),e.jsxs(C,{onClick:()=>x(_.id),variant:"outline",size:"sm",className:"flex-1 text-red-600 hover:text-red-700",disabled:g===_.id,children:[e.jsx(B,{className:"mr-2 h-3 w-3"}),g===_.id?"Deleting...":"Delete"]})]})]})]},_.id)})}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center",children:[e.jsx(ve,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-lg font-medium text-gray-600",children:"No products yet"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:'Click "Add Product" above to add your first product'})]}),i&&e.jsx(Zs,{isOpen:!0,onClose:()=>m(null),product:i})]})}function ea({store:s,tiers:a,isFreeAccess:t=!1}){const{errors:r}=q().props,[l,g]=P.useState(!1),[d,i]=P.useState((s==null?void 0:s.slug)??""),{data:m,setData:v,put:j,processing:x,errors:w,reset:c,isDirty:o}=V({name:(s==null?void 0:s.name)||"",slug:(s==null?void 0:s.slug)||"",description:(s==null?void 0:s.description)||""}),y=N=>{const F=N.target.value;if(v("name",F),!d||d===(s==null?void 0:s.slug)){const T=F.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"");v("slug",T),i(T)}},S=N=>{const F=N.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"");v("slug",F),i(F)},_=N=>{N==null||N.preventDefault(),j(route("user.dashboard.marketplace.store.update"),{preserveScroll:!0,onSuccess:()=>{c()}})},k=async N=>{var T;if((T=navigator==null?void 0:navigator.clipboard)!=null&&T.writeText&&window.isSecureContext){await navigator.clipboard.writeText(N);return}const F=document.createElement("textarea");F.value=N,F.setAttribute("readonly",""),F.style.position="fixed",F.style.top="-9999px",F.style.left="-9999px",document.body.appendChild(F),F.select(),document.execCommand("copy"),document.body.removeChild(F)},I=async()=>{const N=`${window.location.origin}/store/${m.slug||(s==null?void 0:s.slug)}`;try{await k(N),g(!0),setTimeout(()=>g(!1),2e3)}catch(F){console.error("Copy failed:",F)}},p=N=>{U.post(route("user.dashboard.marketplace.store.upgrade"),{tier:N})},h=`${window.location.origin}/store/${m.slug||(s==null?void 0:s.slug)||"your-store"}`,D=a==null?void 0:a[(s==null?void 0:s.tier)||"starter"],A=["starter","professional","enterprise"].indexOf((s==null?void 0:s.tier)||"starter"),L=Object.entries(a||{}).slice(A+1);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)]",children:"Store Settings"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"Manage your store information and visibility"})]}),s&&e.jsx(ie,{listing:s,routeName:"user.dashboard.marketplace.store.toggle-active",label:"Store",saveButton:{isProcessing:x,isDirty:o,onClick:_}}),e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"Store Name"}),e.jsx(b,{id:"name",value:m.name,onChange:y,placeholder:"Enter your store name",className:"w-full"}),e.jsx(u,{error:w.name||(r==null?void 0:r.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"slug",className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"Store URL Slug"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm whitespace-nowrap text-gray-500",children:"/store/"}),e.jsx(b,{id:"slug",value:m.slug,onChange:S,placeholder:"your-store-name",className:"flex-1",pattern:"[a-z0-9\\-]+"})]}),e.jsx(u,{error:w.slug||(r==null?void 0:r.slug),className:"mt-1"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and hyphens only"})]})]})}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx(n,{htmlFor:"description",className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"Store Description"}),e.jsx($,{id:"description",value:m.description,onChange:N=>v("description",N.target.value),placeholder:"Tell customers about your store...",rows:4,className:"w-full"}),e.jsx(u,{error:w.description||(r==null?void 0:r.description),className:"mt-1"})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx(n,{className:"mb-2 block text-sm font-semibold text-[var(--foreground)]",children:"Your Store Link"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{value:h,readOnly:!0,className:"flex-1 text-sm"}),e.jsx(C,{onClick:I,variant:"outline",type:"button",size:"icon",children:l?e.jsx(X,{className:"h-4 w-4 text-[var(--primary)]"}):e.jsx(ke,{className:"h-4 w-4"})}),e.jsx(C,{variant:"outline",asChild:!0,type:"button",size:"icon",children:e.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Ce,{className:"h-4 w-4"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Share this link to let people view your products"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(re,{isProcessing:x,isDirty:o,onClick:_,position:"bottom"})})]}),s&&e.jsx(ne,{videoLinks:(s==null?void 0:s.video_links)||[],storeRouteName:"user.dashboard.marketplace.store.video-links.store",destroyRouteName:"user.dashboard.marketplace.store.video-links.destroy"}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[D&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h4",{className:"mb-3 font-semibold text-[var(--foreground)]",children:"Current Plan"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-bold text-[var(--foreground)]",children:D.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[(s==null?void 0:s.products_count)||0," / ",(s==null?void 0:s.product_limit)||10," products used"]})]}),e.jsx("div",{className:"text-right",children:t?e.jsx("p",{className:"text-2xl font-bold text-[var(--primary)]",children:"Free Access"}):e.jsxs("p",{className:"text-2xl font-bold text-[var(--primary)]",children:["GH₵ ",D.price]})})]})]}),!t&&L.length>0&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h4",{className:"mb-3 font-semibold text-[var(--foreground)]",children:"Upgrade Your Store"}),e.jsx("div",{className:"space-y-3",children:L.map(([N,F])=>e.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-[var(--foreground)]",children:F.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Up to ",F.product_limit," products"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-bold text-[var(--secondary)]",children:["GH₵ ",F.price]}),e.jsx(C,{onClick:()=>p(N),size:"sm",className:"bg-[var(--secondary)] text-[var(--secondary-foreground)] hover:bg-[var(--secondary)]/90",children:e.jsx(Je,{className:"h-4 w-4"})})]})]},N))})]})]})]})}function sa({isOpen:s,onClose:a,store:t}){const{data:r,setData:l,post:g,processing:d,errors:i,reset:m,clearErrors:v}=V({title:"",category:"",has_price:!1,price:"",price_type:"",condition:"new",location:"",latitude:"",longitude:"",description:"",delivery_available:!1,warranty:"",images:[],specifications:[],video_links:[]}),[j,x]=P.useState([]),w=N=>{const F=Array.from(N.target.files);if(r.images.length+F.length>10)return;const oe=[...r.images,...F];l("images",oe);const ye=F.map(ee=>URL.createObjectURL(ee));x(ee=>[...ee,...ye])},c=N=>{URL.revokeObjectURL(j[N]),l("images",r.images.filter((F,T)=>T!==N)),x(F=>F.filter((T,oe)=>oe!==N))},o=()=>{l("specifications",[...r.specifications,""])},y=(N,F)=>{const T=[...r.specifications];T[N]=F,l("specifications",T)},S=N=>{l("specifications",r.specifications.filter((F,T)=>T!==N))},_=()=>{r.video_links.length<5&&l("video_links",[...r.video_links,""])},k=(N,F)=>{const T=[...r.video_links];T[N]=F,l("video_links",T)},I=N=>{l("video_links",r.video_links.filter((F,T)=>T!==N))},p=N=>{N.preventDefault(),g(route("user.dashboard.marketplace.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{h()}})},h=()=>{j.forEach(N=>URL.revokeObjectURL(N)),m(),v(),x([]),a()},{marketplaceCategories:D={}}=q().props,A=Object.entries(D).map(([N,F])=>({value:N,label:F})),L=[{value:"new",label:"New"},{value:"like_new",label:"Like New"},{value:"used",label:"Used"},{value:"refurbished",label:"Refurbished"}];return s?e.jsx(me,{open:s,onOpenChange:h,children:e.jsxs(he,{className:"max-h-[90vh] overflow-y-auto sm:max-w-2xl",children:[e.jsx(xe,{children:e.jsx(ue,{children:"Add New Product"})}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Product Images (Max 10)"}),e.jsxs("div",{className:"mt-2 grid grid-cols-4 gap-2 sm:grid-cols-5",children:[j.map((N,F)=>e.jsxs("div",{className:"group relative aspect-square",children:[e.jsx("img",{src:N,alt:`Preview ${F+1}`,className:"h-full w-full rounded-lg border object-cover"}),e.jsx("button",{type:"button",onClick:()=>c(F),className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white opacity-0 transition-opacity group-hover:opacity-100",children:e.jsx(M,{className:"h-3 w-3"})}),F===0&&e.jsx("span",{className:"absolute bottom-1 left-1 rounded bg-[var(--primary)] px-1.5 py-0.5 text-xs font-medium text-white",children:"Primary"})]},F)),r.images.length<10&&e.jsxs("label",{className:"flex aspect-square cursor-pointer items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:border-[var(--primary)]",children:[e.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:w,className:"hidden"}),e.jsx(de,{className:"h-6 w-6 text-gray-400"})]})]}),e.jsx(u,{error:i.images})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"title",children:"Product Title *"}),e.jsx(b,{id:"title",value:r.title,onChange:N=>l("title",N.target.value),placeholder:"Enter product title",required:!0}),e.jsx(u,{error:i.title})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"category",children:"Category *"}),e.jsxs(G,{value:r.category,onValueChange:N=>l("category",N),children:[e.jsx(W,{children:e.jsx(J,{placeholder:"Select category"})}),e.jsx(Y,{children:A.map(N=>e.jsx(K,{value:N.value,children:N.label},N.value))})]}),e.jsx(u,{error:i.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"has_price",checked:r.has_price,onChange:N=>l("has_price",N.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(n,{htmlFor:"has_price",className:"cursor-pointer",children:"Add Price"})]}),r.has_price&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price",children:"Price (GH₵)"}),e.jsx(b,{id:"price",type:"number",step:"0.01",min:"0",value:r.price,onChange:N=>l("price",N.target.value),placeholder:"0.00"}),e.jsx(u,{error:i.price})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price_type",children:"Price Type"}),e.jsx(b,{id:"price_type",value:r.price_type,onChange:N=>l("price_type",N.target.value),placeholder:"e.g., /kg, /bunch"})]})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"condition",children:["Condition ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsxs(G,{value:r.condition,onValueChange:N=>l("condition",N),children:[e.jsx(W,{children:e.jsx(J,{placeholder:"Select condition"})}),e.jsx(Y,{children:L.map(N=>e.jsx(K,{value:N.value,children:N.label},N.value))})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:"Location *"}),e.jsx(b,{id:"location",value:r.location,onChange:N=>l("location",N.target.value),placeholder:"Enter location",required:!0}),e.jsx(u,{error:i.location})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"description",children:["Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"description",value:r.description,onChange:N=>l("description",N.target.value),placeholder:"Describe your product...",rows:4})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"delivery_available",checked:r.delivery_available,onChange:N=>l("delivery_available",N.target.checked),className:"h-4 w-4 rounded border-gray-300"}),e.jsx(n,{htmlFor:"delivery_available",className:"cursor-pointer",children:"Delivery Available"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"warranty",children:["Warranty ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"warranty",value:r.warranty,onChange:N=>l("warranty",N.target.value),placeholder:"e.g., 1 year warranty"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsxs(n,{children:["Specifications ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsxs(C,{type:"button",variant:"outline",size:"sm",onClick:o,className:"h-8 gap-1 text-xs",children:[e.jsx(H,{className:"h-3 w-3"}),"Add Specification"]})]}),e.jsxs("div",{className:"space-y-2",children:[r.specifications.map((N,F)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{value:N,onChange:T=>y(F,T.target.value),placeholder:"e.g., 128GB Storage, 8GB RAM",className:"flex-1"}),e.jsx(C,{type:"button",variant:"outline",size:"sm",onClick:()=>S(F),className:"h-10 w-10 p-0",children:e.jsx(M,{className:"h-4 w-4"})})]},F)),r.specifications.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"Add product specifications to help buyers understand your product better."})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsxs(n,{children:["Video Links ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional, max 5)"})]}),r.video_links.length<5&&e.jsxs(C,{type:"button",variant:"outline",size:"sm",onClick:_,className:"h-8 gap-1 text-xs",children:[e.jsx(Fe,{className:"h-3 w-3"}),"Add Video Link"]})]}),e.jsxs("div",{className:"space-y-2",children:[r.video_links.map((N,F)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx(b,{value:N,onChange:T=>k(F,T.target.value),placeholder:"e.g., https://youtube.com/watch?v=... or https://tiktok.com/@user/video/...",className:"flex-1"}),e.jsx(C,{type:"button",variant:"outline",size:"sm",onClick:()=>I(F),className:"h-10 w-10 p-0",children:e.jsx(M,{className:"h-4 w-4"})})]},F)),r.video_links.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"Add video links to showcase your product in action."})]}),e.jsx(u,{error:i.video_links})]}),e.jsxs(je,{children:[e.jsx(C,{type:"button",variant:"outline",onClick:h,disabled:d,children:"Cancel"}),e.jsx(C,{type:"submit",disabled:d,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:d?"Adding...":"Add Product"})]})]})]})}):null}function aa({activeTab:s,data:a,isFreeAccess:t=!1}){const[r,l]=P.useState(!1);return e.jsxs("div",{className:"space-y-6",children:[s==="store"?e.jsx(ea,{store:a==null?void 0:a.store,tiers:a==null?void 0:a.tiers,isFreeAccess:t}):e.jsx(Es,{products:(a==null?void 0:a.products)||[],store:a==null?void 0:a.store,tiers:a==null?void 0:a.tiers,onAddProduct:()=>l(!0),isFreeAccess:t}),e.jsx(sa,{isOpen:r,onClose:()=>l(!1),store:a==null?void 0:a.store})]})}function $e({categoryData:s}){const a=(s==null?void 0:s.stats)||{total:0,active:0,views:0};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mb-4 text-2xl font-bold text-[var(--foreground)]",children:"Overview"}),e.jsx("p",{className:"text-gray-600",children:"Welcome to your dashboard. Select a category to get started."})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)]#2a4d2a] bg-white#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[var(--primary)]#8fcc8f]",children:"Total Listings"}),e.jsx(ve,{className:"h-5 w-5 text-[var(--primary)]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[var(--primary)]",children:a.total||0})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)]#2a4d2a] bg-white#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[var(--secondary)]",children:"Active"}),e.jsx(us,{className:"h-5 w-5 text-[var(--secondary)]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[var(--secondary)]",children:a.active||0})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)]#2a4d2a] bg-white#1a331a] p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-bold uppercase tracking-wide text-[var(--accent)]",children:"Total Views"}),e.jsx(se,{className:"h-5 w-5 text-[var(--accent)]"})]}),e.jsx("p",{className:"mt-2 text-3xl font-bold text-[var(--accent)]",children:a.views||0})]})]})]})}function ta({profile:s}){const[a,t]=P.useState("");if(!s)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"Loading features..."})});const r=(s==null?void 0:s.features)||[],l=d=>{d.preventDefault(),a.trim()&&U.post(route("user.dashboard.rentals.features.store",{rental:s.id}),{feature:a.trim()},{preserveScroll:!0,onSuccess:()=>{t("")}})},g=d=>{U.delete(route("user.dashboard.rentals.features.destroy",{rental:s.id,feature:d}),{preserveScroll:!0})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:"Rental Features"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add features that describe your rental (e.g., 2 Bedrooms, Air Conditioning, WiFi)"})]}),e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:e.jsxs("form",{onSubmit:l,className:"flex gap-3",children:[e.jsx(b,{value:a,onChange:d=>t(d.target.value),placeholder:"Type a feature and press +",className:"flex-1"}),e.jsx(C,{type:"submit",disabled:!a.trim(),className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:e.jsx(H,{className:"h-5 w-5"})})]})}),r.length>0?e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsxs("h4",{className:"mb-4 text-sm font-semibold text-gray-700",children:["Added Features (",r.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(d=>e.jsxs("div",{className:"flex items-center gap-2 rounded-full bg-[var(--primary)]/10 px-4 py-2 text-sm font-medium text-white",children:[e.jsx("span",{children:d.feature}),e.jsx("button",{onClick:()=>g(d.id),className:"rounded-full p-0.5 text-gray-500 hover:bg-red-100 hover:text-red-600",children:e.jsx(B,{className:"h-3.5 w-3.5"})})]},d.id))})]}):e.jsx("div",{className:"rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 p-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No features added yet. Type a feature above and click + to add."})})]})}function ra({rentalId:s,image:a,isOpen:t,onClose:r}){const[l,g]=P.useState((a==null?void 0:a.image_path)||null),d=P.useRef(null),{data:i,setData:m,post:v,processing:j,errors:x,reset:w}=V({image:null}),c=S=>{S.preventDefault(),a?v(route("user.dashboard.rentals.images.update",{rental:s,image:a.id}),{forceFormData:!0,onSuccess:()=>{w(),g(null),r()}}):v(route("user.dashboard.rentals.images.store",{rental:s}),{forceFormData:!0,onSuccess:()=>{w(),g(null),r()}})},o=S=>{const _=S.target.files[0];if(_){m("image",_);const k=new FileReader;k.onloadend=()=>{g(k.result)},k.readAsDataURL(_)}},y=()=>{w(),g((a==null?void 0:a.image_path)||null),r()};return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl bg-white p-6",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:a?"Edit Image":"Add New Image"}),e.jsx("button",{onClick:y,className:"rounded-full p-1 hover:bg-gray-100",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:c,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Image"}),e.jsxs("div",{className:"mt-2 flex h-48 cursor-pointer items-center justify-center overflow-hidden rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 transition-colors hover:border-[var(--primary)]",onClick:()=>{var S;return(S=d.current)==null?void 0:S.click()},children:[l?e.jsx("img",{src:l,alt:"Preview",className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[e.jsx(E,{className:"mb-2 h-10 w-10"}),e.jsx("span",{className:"text-sm",children:"Click to upload"}),e.jsx("span",{className:"text-xs",children:"Max 5MB (JPEG, PNG, WebP)"})]}),e.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:o,className:"hidden"})]}),e.jsx(u,{error:x.image,className:"mt-1"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx(C,{type:"button",variant:"outline",onClick:y,children:"Cancel"}),e.jsx(C,{type:"submit",disabled:j||!a&&!i.image,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:j?e.jsxs(e.Fragment,{children:[e.jsx(_e,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):a?"Update Image":"Add Image"})]})]})]})}):null}function la({profile:s}){const[a,t]=P.useState(!1),[r,l]=P.useState(null);if(!s)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"Loading gallery..."})});const g=(s==null?void 0:s.images)||[],d=j=>{U.put(route("user.dashboard.rentals.images.primary",{rental:s.id,image:j}),{},{preserveScroll:!0})},i=j=>{confirm("Are you sure you want to delete this image?")&&U.delete(route("user.dashboard.rentals.images.destroy",{rental:s.id,image:j}),{preserveScroll:!0})},m=j=>{l(j),t(!0)},v=()=>{l(null),t(!0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:"Rental Gallery"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Manage images for your rental listing (",g.length," images)"]})]}),e.jsxs(C,{onClick:v,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:[e.jsx(de,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),g.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-3 lg:grid-cols-4",children:g.map(j=>e.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-xl border-2 border-gray-100 bg-gray-100",children:[e.jsx("img",{src:j.image_path,alt:"Rental",className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),j.is_primary&&e.jsxs("div",{className:"absolute left-2 top-2 flex items-center gap-1 rounded-full bg-[var(--primary)] px-2 py-1 text-xs font-bold text-white",children:[e.jsx(Q,{className:"h-3 w-3 fill-current"}),"Primary"]}),e.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2",children:[!j.is_primary&&e.jsxs(C,{size:"sm",variant:"secondary",onClick:()=>d(j.id),className:"h-8",children:[e.jsx(Q,{className:"mr-1 h-3 w-3"}),"Set Primary"]}),e.jsx(C,{size:"sm",variant:"secondary",onClick:()=>m(j),className:"h-8",children:e.jsx(Cs,{className:"h-3 w-3"})}),e.jsx(C,{size:"sm",variant:"destructive",onClick:()=>i(j.id),className:"h-8",children:e.jsx(B,{className:"h-3 w-3"})})]})]},j.id))}):e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-200 bg-gray-50 p-12 text-center",children:[e.jsx(de,{className:"mx-auto mb-4 h-12 w-12 text-gray-400"}),e.jsx("h4",{className:"mb-2 font-semibold text-gray-700",children:"No images yet"}),e.jsx("p",{className:"mb-4 text-sm text-gray-500",children:"Add images to showcase your rental listing"}),e.jsxs(C,{onClick:v,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]",children:[e.jsx(de,{className:"mr-2 h-4 w-4"}),"Add First Image"]})]}),e.jsx(ra,{rentalId:s.id,image:r,isOpen:a,onClose:()=>{t(!1),l(null)}}),e.jsx(ne,{videoLinks:(s==null?void 0:s.video_links)||[],storeRouteName:"user.dashboard.rentals.video-links.store",destroyRouteName:"user.dashboard.rentals.video-links.destroy",routeParams:{rental:s.id}})]})}function ia({profile:s}){var I,p;const{errors:a}=q().props,[t,r]=P.useState(null),[l,g]=P.useState(!1),d=P.useRef(null);if(!s)return e.jsx("div",{className:"rounded-xl border border-gray-200 bg-white p-8 text-center",children:e.jsx("p",{className:"text-gray-600",children:"Loading rental profile..."})});const{data:i,setData:m,post:v,processing:j,errors:x,recentlySuccessful:w,isDirty:c}=V({_method:"PUT",name:(s==null?void 0:s.name)||"",type:(s==null?void 0:s.type)||"house",description:(s==null?void 0:s.description)||"",price:(s==null?void 0:s.price)||"",period:(s==null?void 0:s.period)||"month",location:(s==null?void 0:s.location)||"",phone:(s==null?void 0:s.phone)||"",phone_2:(s==null?void 0:s.phone_2)||"",whatsapp:(s==null?void 0:s.whatsapp)||"",email:(s==null?void 0:s.email)||"",rental_terms:(s==null?void 0:s.rental_terms)||"",primary_image:null}),o=[{value:"house",label:"House"},{value:"equipment",label:"Equipment"},{value:"tools",label:"Tools"},{value:"land",label:"Land"},{value:"commercial",label:"Commercial"},{value:"vehicle",label:"Vehicle"},{value:"store",label:"Store"}],y=[{value:"day",label:"Per Day"},{value:"week",label:"Per Week"},{value:"month",label:"Per Month"},{value:"year",label:"Per Year"}],S=h=>{h==null||h.preventDefault(),v(route("user.dashboard.rentals.update",s.id),{forceFormData:!0})},_=h=>{const D=h.target.files[0];if(D){m("primary_image",D);const A=new FileReader;A.onloadend=()=>{r(A.result)},A.readAsDataURL(D)}},k=((I=s==null?void 0:s.images)==null?void 0:I.find(h=>h.is_primary))||((p=s==null?void 0:s.images)==null?void 0:p[0]);return e.jsxs("div",{className:"space-y-6",children:[s&&e.jsx(ie,{listing:s,routeName:"user.dashboard.rentals.toggle-active",label:"Listing",saveButton:{isProcessing:j,isDirty:c,onClick:S}}),(s==null?void 0:s.id)&&e.jsx(be,{label:"Rental Listing Link",url:`/rentals/${s.id}`,description:"Share this link to show your property to potential tenants"}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Primary Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsxs("div",{className:"relative h-40 w-40 cursor-pointer overflow-hidden rounded-xl border-2 border-dashed border-gray-300 bg-gray-50 transition-colors hover:border-[var(--primary)]",onClick:()=>{var h;return(h=d.current)==null?void 0:h.click()},children:[t||k!=null&&k.image_path?e.jsx("img",{src:t||(k==null?void 0:k.image_path),alt:"Rental preview",className:"h-full w-full object-cover"}):e.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center text-gray-400",children:[e.jsx(E,{className:"mb-2 h-8 w-8"}),e.jsx("span",{className:"text-xs",children:"Click to upload"})]}),e.jsx("input",{ref:d,type:"file",accept:"image/*",onChange:_,className:"hidden"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Upload a primary image for your rental listing. This will be the main image shown in search results."}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Recommended: 800x600px, max 5MB"}),e.jsx(u,{error:x.primary_image||(a==null?void 0:a.primary_image),className:"mt-2"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",children:"Rental Name"}),e.jsx(b,{id:"name",value:i.name,onChange:h=>m("name",h.target.value),className:"mt-1",placeholder:"2 Bedroom Apartment in Bekwai"}),e.jsx(u,{error:x.name||(a==null?void 0:a.name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"type",children:"Rental Type"}),e.jsx("select",{id:"type",value:i.type,onChange:h=>m("type",h.target.value),className:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-[var(--primary)] focus:ring-[var(--primary)]",children:o.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))}),e.jsx(u,{error:x.type||(a==null?void 0:a.type),className:"mt-1"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs(n,{htmlFor:"description",children:["Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"description",value:i.description,onChange:h=>m("description",h.target.value),className:"mt-1",rows:4,placeholder:"Describe your rental property or item..."}),e.jsx(u,{error:x.description||(a==null?void 0:a.description),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:"Pricing"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showPricing",checked:l,onChange:h=>g(h.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(n,{htmlFor:"showPricing",className:"cursor-pointer text-sm text-gray-600",children:"Show pricing"})]})]}),l&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price",children:"Price (GH₵)"}),e.jsx(b,{id:"price",type:"number",step:"0.01",min:"0",value:i.price,onChange:h=>m("price",h.target.value),className:"mt-1",placeholder:"500.00"}),e.jsx(u,{error:x.price||(a==null?void 0:a.price),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"period",children:"Rental Period"}),e.jsx("select",{id:"period",value:i.period,onChange:h=>m("period",h.target.value),className:"mt-1 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm focus:border-[var(--primary)] focus:ring-[var(--primary)]",children:y.map(h=>e.jsx("option",{value:h.value,children:h.label},h.value))}),e.jsx(u,{error:x.period||(a==null?void 0:a.period),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:"Location"}),e.jsx(b,{id:"location",value:i.location,onChange:h=>m("location",h.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(u,{error:x.location||(a==null?void 0:a.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Phone"}),e.jsx(b,{id:"phone",value:i.phone,onChange:h=>m("phone",h.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(u,{error:x.phone||(a==null?void 0:a.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"phone_2",children:["Phone 2 ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"phone_2",value:i.phone_2,onChange:h=>m("phone_2",h.target.value),className:"mt-1",placeholder:"+233 24 987 6543"}),e.jsx(u,{error:x.phone_2||(a==null?void 0:a.phone_2),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"whatsapp",children:["WhatsApp ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"whatsapp",value:i.whatsapp,onChange:h=>m("whatsapp",h.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(u,{error:x.whatsapp||(a==null?void 0:a.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"email",type:"email",value:i.email,onChange:h=>m("email",h.target.value),className:"mt-1",placeholder:"contact@example.com"}),e.jsx(u,{error:x.email||(a==null?void 0:a.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Rental Terms"}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"rental_terms",children:["Terms & Conditions ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"rental_terms",value:i.rental_terms,onChange:h=>m("rental_terms",h.target.value),className:"mt-1",rows:4,placeholder:"Minimum 6 months lease, 2 months advance required, no pets allowed..."}),e.jsx(u,{error:x.rental_terms||(a==null?void 0:a.rental_terms),className:"mt-1"})]})]}),e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-4",children:[w&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(re,{isProcessing:j,isDirty:c,onClick:S,position:"bottom"})]})})]})]})}function na({activeTab:s,data:a}){const t=a==null?void 0:a.profile;switch(s){case"features":return e.jsx(ta,{profile:t});case"gallery":return e.jsx(la,{profile:t});case"profile":default:return e.jsx(ia,{profile:t})}}function oa({subscription:s,category:a,isFreeAccess:t=!1,freeAccessDays:r=30}){const[l,g]=P.useState(!1);if(!s)return null;const{subscription_status:d,days_until_expiry:i,expires_at:m,is_expiring_soon:v,is_in_grace_period:j}=s;if(d==="active"&&!v)return null;const x=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"",c=(()=>{if(d==="cancelled")return{icon:te,title:"Subscription Cancelled",message:"Your subscription has been cancelled. Your profile and listings are hidden from visitors, and editing is disabled. Subscribe again to restore access.",className:"bg-gray-50 border-gray-200 text-gray-800",iconClassName:"text-gray-600"};if(d==="expired")return{icon:te,title:"Subscription Expired",message:"Your subscription has expired. Your profile and listings are no longer visible to visitors, and editing is disabled. Renew now to restore full access.",className:"bg-red-50 border-red-200 text-red-800",iconClassName:"text-red-600"};if(j){const y=Math.abs(i);return{icon:We,title:"Grace Period Active",message:`Your subscription has expired. You have ${y} day${y!==1?"s":""} left in your grace period before access is deactivated. Renew now to keep your services active.`,className:"bg-yellow-50 border-yellow-200 text-yellow-800",iconClassName:"text-yellow-600"}}return v&&i>0?{icon:Ie,title:"Subscription Expiring Soon",message:`Your subscription expires in ${i} day${i!==1?"s":""} (${x(m)}). Renew now to avoid service interruption.`,className:"bg-orange-50 border-orange-200 text-orange-800",iconClassName:"text-orange-600"}:i===0?{icon:Ie,title:"Subscription Expires Today",message:"Your subscription expires today! Renew now to avoid any interruption to your services.",className:"bg-orange-50 border-orange-200 text-orange-800",iconClassName:"text-orange-600"}:null})();if(!c)return null;const o=c.icon;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`mb-6 rounded-lg border p-4 ${c.className}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(o,{className:`mt-0.5 h-5 w-5 shrink-0 ${c.iconClassName}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"mb-1 font-bold",children:c.title}),e.jsx("p",{className:"text-sm",children:c.message}),e.jsx(C,{onClick:()=>g(!0),className:"mt-3 bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",size:"sm",children:"Renew Now"})]})]})}),e.jsx(Ke,{isOpen:l,onClose:()=>g(!1),category:a,subscription:s,isFreeAccess:t,freeAccessDays:r})]})}function ca({image:s,onClose:a,profile:t}){const{errors:r}=q().props,[l,g]=P.useState((s==null?void 0:s.image_path)||null),d=!!s,{data:i,setData:m,post:v,put:j,processing:x,errors:w,reset:c}=V({image:null,is_primary:(s==null?void 0:s.is_primary)||!1,transport_id:t==null?void 0:t.id}),o=_=>{const k=_.target.files[0];if(k){m("image",k);const I=new FileReader;I.onloadend=()=>{g(I.result)},I.readAsDataURL(k)}},y=()=>{m("image",null),d||g(null)},S=_=>{_.preventDefault(),d?j(route("user.dashboard.transport.images.update",s.id),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{c(),a()}}):v(route("user.dashboard.transport.images.store"),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{c(),g(null),a()}})};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:e.jsxs("div",{className:"w-full max-w-md rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-[var(--foreground)]",children:d?"Edit Image":"Add Image"}),e.jsx("button",{onClick:a,className:"text-gray-500 hover:text-gray-700",children:e.jsx(M,{className:"h-5 w-5"})})]}),e.jsxs("form",{onSubmit:S,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"image",children:"Vehicle Image"}),e.jsx("div",{className:"mt-2",children:l?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l,alt:"Preview",className:"h-48 w-full rounded-lg border border-[var(--buame-border-light)] object-cover#2a4d2a]"}),e.jsx("button",{type:"button",onClick:y,className:"absolute top-2 right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(M,{className:"h-4 w-4"})})]}):e.jsxs("label",{htmlFor:"image",className:"flex h-48 w-full cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 transition-colors hover:bg-gray-50",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx(E,{className:"mb-3 h-10 w-10 text-gray-400"}),e.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 5MB"})]}),e.jsx("input",{id:"image",type:"file",className:"hidden",accept:"image/*",onChange:o})]})}),e.jsx(u,{error:w.image||(r==null?void 0:r.image),className:"mt-1"})]}),!d&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"is_primary",checked:i.is_primary,onChange:_=>m("is_primary",_.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(n,{htmlFor:"is_primary",className:"text-sm",children:"Set as primary image"})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4",children:[e.jsx(C,{type:"button",variant:"outline",onClick:a,disabled:x,children:"Cancel"}),e.jsx(C,{type:"submit",disabled:x,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:x?"Saving...":d?"Update":"Add Image"})]})]})]})})}function da({profile:s}){const a=(s==null?void 0:s.images)||[],[t,r]=P.useState(!1),[l,g]=P.useState(null),d=c=>{g(c),r(!0)},i=c=>{confirm("Are you sure you want to delete this image?")&&U.delete(route("user.dashboard.transport.images.destroy",c),{preserveScroll:!0})},m=c=>{U.post(route("user.dashboard.transport.images.set-primary",c),{},{preserveScroll:!0})},v=()=>{g(null),r(!0)},j=()=>{r(!1),g(null)},x=a.find(c=>c.is_primary),w=a.filter(c=>!c.is_primary);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)]",children:"Vehicle Gallery"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your vehicle images and showcase your service"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:"Vehicle Images"}),e.jsxs(C,{onClick:v,className:"cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Image"]})]}),x&&e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-4#2a4d2a]#1a331a]",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-semibold text-[var(--foreground)]",children:"Primary Image"})]}),e.jsxs("div",{className:"group relative overflow-hidden rounded-lg",children:[e.jsx("img",{src:x.image_path,alt:"Primary",className:"h-64 w-full object-cover transition-transform group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{onClick:()=>d(x),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100#1a331a]#254225]",title:"Edit",children:e.jsx(ae,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>i(x.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100#1a331a]#254225]",title:"Delete",children:e.jsx(B,{className:"h-4 w-4 text-red-600"})})]})]})]}),w.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:w.map(c=>e.jsx("div",{className:"group relative overflow-hidden rounded-xl border border-[var(--buame-border-light)] bg-white transition-all hover:shadow-lg#2a4d2a]#1a331a]",children:e.jsxs("div",{className:"relative flex aspect-video w-full items-center justify-center overflow-hidden bg-gray-100",children:[e.jsx("img",{src:c.image_path,alt:"Vehicle",className:"h-full w-full object-cover"}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[e.jsx("button",{onClick:()=>m(c.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100#1a331a]#254225]",title:"Set as Primary",children:e.jsx(Q,{className:"h-4 w-4 text-yellow-400"})}),e.jsx("button",{onClick:()=>d(c),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100#1a331a]#254225]",title:"Edit",children:e.jsx(ae,{className:"h-4 w-4 text-[var(--primary)]"})}),e.jsx("button",{onClick:()=>i(c.id),className:"rounded-lg bg-white p-2 shadow-md transition-colors hover:bg-gray-100#1a331a]#254225]",title:"Delete",children:e.jsx(B,{className:"h-4 w-4 text-red-600"})})]})]})},c.id))}):!x&&e.jsxs("div",{className:"rounded-xl border-2 border-dashed border-gray-300 p-12 text-center",children:[e.jsx(z,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"No images uploaded yet"}),e.jsxs(C,{onClick:v,className:"mt-4 cursor-pointer bg-[var(--primary)] text-white hover:bg-[var(--primary)]/90",children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Add Your First Image"]})]}),t&&e.jsx(ca,{image:l,onClose:j,profile:s}),e.jsx(ne,{videoLinks:(s==null?void 0:s.video_links)||[],storeRouteName:"user.dashboard.transport.video-links.store",destroyRouteName:"user.dashboard.transport.video-links.destroy"})]})}function ma({profile:s}){var k,I;const{errors:a}=q().props,t=((k=s==null?void 0:s.images)==null?void 0:k.find(p=>p.is_primary))||((I=s==null?void 0:s.images)==null?void 0:I[0]),[r,l]=P.useState((t==null?void 0:t.image_path)||null),[g,d]=P.useState(!!(s!=null&&s.price_per_seat||s!=null&&s.seats_available));if(!s||!s.id)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:e.jsx("p",{className:"text-gray-600",children:"Loading profile..."})})});const{data:i,setData:m,post:v,processing:j,errors:x,recentlySuccessful:w,isDirty:c}=V({_method:"PUT",driver_name:(s==null?void 0:s.driver_name)||"",type:(s==null?void 0:s.type)||"okada",description:(s==null?void 0:s.description)||"",location:(s==null?void 0:s.location)||"",phone:(s==null?void 0:s.phone)||"",phone_2:(s==null?void 0:s.phone_2)||"",whatsapp:(s==null?void 0:s.whatsapp)||"",email:(s==null?void 0:s.email)||"",price_per_seat:(s==null?void 0:s.price_per_seat)||"",seats_available:(s==null?void 0:s.seats_available)||"",operating_hours:(s==null?void 0:s.operating_hours)||"",primary_image:null}),o=[{value:"okada",label:"Okada"},{value:"car",label:"Car"},{value:"taxi",label:"Taxi"},{value:"bus",label:"Bus"},{value:"cargo",label:"Cargo"},{value:"other",label:"Other"}],y=p=>{const h=p.target.files[0];if(h){m("primary_image",h);const D=new FileReader;D.onloadend=()=>{l(D.result)},D.readAsDataURL(h)}},S=()=>{m("primary_image",null),l(null)},_=p=>{if(p==null||p.preventDefault(),!(s!=null&&s.id)){console.error("Profile ID is missing. Cannot submit form.");return}v(route("user.dashboard.transport.update",s.id),{preserveScroll:!0,forceFormData:!0})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-[var(--foreground)]",children:"Transport Profile"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your transport service information"})]}),s&&e.jsx(ie,{listing:s,routeName:"user.dashboard.transport.toggle-active",label:"Service",saveButton:{isProcessing:j,isDirty:c,onClick:_}}),(s==null?void 0:s.id)&&e.jsx(be,{label:"Transport Service Link",url:`/transport/${s.id}`,description:"Share this link so customers can book a ride"}),e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Vehicle Image"}),e.jsxs("div",{className:"flex items-start gap-6",children:[r?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r,alt:"Vehicle",className:"h-32 w-32 rounded-lg border border-[var(--buame-border-light)] object-cover#2a4d2a]"}),e.jsx("button",{type:"button",onClick:S,className:"absolute -top-2 -right-2 rounded-full bg-red-500 p-1 text-white hover:bg-red-600",children:e.jsx(M,{className:"h-4 w-4"})})]}):e.jsx("div",{className:"flex h-32 w-32 items-center justify-center rounded-lg border-2 border-dashed border-gray-300 bg-gray-50",children:e.jsx(z,{className:"h-12 w-12 text-gray-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{htmlFor:"primary_image",children:"Primary Image"}),e.jsx("p",{className:"mt-1 mb-3 text-xs text-gray-500",children:"This image will be displayed as your vehicle/service thumbnail to visitors"}),e.jsxs("label",{htmlFor:"primary_image",className:"flex cursor-pointer items-center gap-2 rounded-md border border-[var(--buame-border-light)] bg-white px-4 py-2 text-sm font-medium text-[var(--foreground)] transition-colors hover:bg-[#f6f8f6]#2a4d2a]#1a331a]#254225]",children:[e.jsx(E,{className:"h-4 w-4"}),r?"Change Image":"Upload Image"]}),e.jsx("input",{id:"primary_image",type:"file",className:"hidden",accept:"image/*",onChange:y}),e.jsx(u,{error:x.primary_image||(a==null?void 0:a.primary_image),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"driver_name",children:"Driver/Rider Name"}),e.jsx(b,{id:"driver_name",value:i.driver_name,onChange:p=>m("driver_name",p.target.value),className:"mt-1",placeholder:"Kwame Asante"}),e.jsx(u,{error:x.driver_name||(a==null?void 0:a.driver_name),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"type",children:"Service Type"}),e.jsxs(G,{value:i.type,onValueChange:p=>m("type",p),children:[e.jsx(W,{className:"mt-1",children:e.jsx(J,{placeholder:"Select service type"})}),e.jsx(Y,{children:o.map(p=>e.jsx(K,{value:p.value,children:p.label},p.value))})]}),e.jsx(u,{error:x.type||(a==null?void 0:a.type),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-[var(--foreground)]",children:"Pricing"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"showPricing",checked:g,onChange:p=>d(p.target.checked),className:"h-4 w-4 rounded border-gray-300 text-[var(--primary)] focus:ring-[var(--primary)]"}),e.jsx(n,{htmlFor:"showPricing",className:"cursor-pointer text-sm text-gray-600",children:"Show pricing"})]})]}),g&&e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"price_per_seat",children:"Price per Seat (GH₵)"}),e.jsx(b,{id:"price_per_seat",type:"number",step:"0.01",value:i.price_per_seat,onChange:p=>m("price_per_seat",p.target.value),className:"mt-1",placeholder:"15.00"}),e.jsx(u,{error:x.price_per_seat||(a==null?void 0:a.price_per_seat),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"seats_available",children:"Seats Available"}),e.jsx(b,{id:"seats_available",type:"number",value:i.seats_available,onChange:p=>m("seats_available",p.target.value),className:"mt-1",placeholder:"4"}),e.jsx(u,{error:x.seats_available||(a==null?void 0:a.seats_available),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"About Your Service"}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"description",children:["Description ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx($,{id:"description",value:i.description,onChange:p=>m("description",p.target.value),className:"mt-1",rows:4,placeholder:"Describe your transport service, vehicle condition, and what makes you stand out..."}),e.jsx(u,{error:x.description||(a==null?void 0:a.description),className:"mt-1"})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Location & Contact"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:"Working Location"}),e.jsx(b,{id:"location",value:i.location,onChange:p=>m("location",p.target.value),className:"mt-1",placeholder:"Western North"}),e.jsx(u,{error:x.location||(a==null?void 0:a.location),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Phone"}),e.jsx(b,{id:"phone",value:i.phone,onChange:p=>m("phone",p.target.value),className:"mt-1",placeholder:"+233 24 123 4567"}),e.jsx(u,{error:x.phone||(a==null?void 0:a.phone),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"phone_2",children:["Phone 2 ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"phone_2",value:i.phone_2,onChange:p=>m("phone_2",p.target.value),className:"mt-1",placeholder:"+233 24 987 6543"}),e.jsx(u,{error:x.phone_2||(a==null?void 0:a.phone_2),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"whatsapp",children:["WhatsApp ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"whatsapp",value:i.whatsapp,onChange:p=>m("whatsapp",p.target.value),className:"mt-1",placeholder:"+233241234567"}),e.jsx(u,{error:x.whatsapp||(a==null?void 0:a.whatsapp),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"email",children:["Email ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"email",type:"email",value:i.email,onChange:p=>m("email",p.target.value),className:"mt-1",placeholder:"contact@fastokada.com"}),e.jsx(u,{error:x.email||(a==null?void 0:a.email),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-[var(--buame-border-light)] bg-white p-6#2a4d2a]#1a331a]",children:[e.jsx("h3",{className:"mb-4 text-lg font-bold text-[var(--foreground)]",children:"Operating Hours"}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"operating_hours",children:["Operating Hours ",e.jsx("span",{className:"text-sm font-normal text-gray-500",children:"(Optional)"})]}),e.jsx(b,{id:"operating_hours",value:i.operating_hours,onChange:p=>m("operating_hours",p.target.value),className:"mt-1",placeholder:"Daily: 5:00 AM - 8:00 PM"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"When are you available for rides?"}),e.jsx(u,{error:x.operating_hours||(a==null?void 0:a.operating_hours),className:"mt-1"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4",children:[w&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx("span",{children:"Profile saved successfully"})]}),e.jsx(re,{isProcessing:j,isDirty:c,onClick:_,position:"bottom"})]})]})]})}function ha({activeSection:s,profile:a}){switch(s){case"gallery":return e.jsx(da,{profile:a});case"profile":default:return e.jsx(ma,{profile:a})}}function xa({user:s,children:a,activeCategory:t,activeSection:r,categoryData:l}){var j;const[g,d]=P.useState(!1),m=(()=>{if(!t)return[];switch(t){case"artisans":return[{id:"profile",label:"Profile",icon:Te},{id:"portfolio",label:"Portfolio",icon:z}];case"hotels":return[{id:"profile",label:"Profile",icon:js},{id:"gallery",label:"Gallery",icon:z}];case"transport":return[{id:"profile",label:"Profile",icon:vs},{id:"gallery",label:"Gallery",icon:z}];case"rentals":return[{id:"profile",label:"Profile",icon:Pe},{id:"features",label:"Features",icon:_s},{id:"gallery",label:"Gallery",icon:z}];case"marketplace":return[{id:"store",label:"Store Settings",icon:Ge},{id:"products",label:"Products",icon:ve}];case"jobs":return[{id:"poster",label:"Profile",icon:Te},{id:"listings",label:"Jobs",icon:ge}];default:return[]}})(),v=x=>{d(!1),Xe(x)};return e.jsx(hs,{children:e.jsxs("div",{className:"bg-background flex w-full",children:[e.jsx("aside",{className:`bg-card border-border fixed inset-y-0 left-0 z-30 w-72 transform border-r transition-transform duration-300 md:translate-x-0 ${g?"translate-x-0":"-translate-x-full"}`,children:e.jsxs("div",{className:"flex h-full flex-col justify-between p-5",children:[e.jsxs("div",{className:"flex flex-col gap-8",children:[e.jsx("div",{className:"flex flex-col gap-2 px-2",children:e.jsx(gs,{size:"lg",className:"justify-start",href:route("user.dashboard.index")})}),m.length>0&&e.jsx("nav",{className:"flex flex-col gap-2",children:m.map(x=>{const w=x.icon,c=r===x.id;return e.jsxs("button",{onClick:()=>v(x.id),className:`flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors ${c?"bg-primary/10 text-foreground":"text-muted-foreground hover:bg-muted"}`,children:[e.jsx(w,{className:"h-5 w-5"}),e.jsx("span",{children:x.label})]},x.id)})})]}),e.jsxs("div",{className:"border-border flex flex-col gap-2 border-t pt-4",children:[e.jsxs("div",{className:"hover:bg-muted flex items-center gap-3 rounded-lg px-2 py-2 transition-colors",children:[e.jsx("div",{className:"bg-primary/20 flex h-10 w-10 items-center justify-center rounded-full",children:e.jsx("span",{className:"text-primary text-sm font-bold",children:((j=s==null?void 0:s.name)==null?void 0:j.charAt(0).toUpperCase())||"U"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-foreground truncate text-sm font-bold",children:s==null?void 0:s.name}),e.jsx("p",{className:"text-muted-foreground truncate text-xs",children:s==null?void 0:s.phone})]})]}),e.jsxs(as,{href:route("user.logout"),method:"post",className:"text-destructive hover:bg-destructive/10 flex items-center gap-3 rounded-lg px-4 py-3 text-sm font-medium transition-colors",children:[e.jsx(os,{className:"h-5 w-5"}),e.jsx("span",{children:"Log Out"})]})]})]})}),e.jsxs("div",{className:"flex flex-1 flex-col md:ml-72",children:[e.jsxs("header",{className:"border-border bg-card flex h-16 items-center justify-between border-b px-4 md:hidden",children:[e.jsx("button",{onClick:()=>d(!g),className:"text-foreground",children:g?e.jsx(M,{className:"h-6 w-6"}):e.jsx(ps,{className:"h-6 w-6"})}),e.jsx("span",{className:"text-foreground text-lg font-bold",children:"2RBUAME"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{className:"hover:bg-muted relative rounded-full p-2 transition-colors",children:[e.jsx(Oe,{className:"text-muted-foreground h-5 w-5"}),e.jsx("span",{className:"bg-destructive border-card absolute top-1 right-1 h-2 w-2 rounded-full border-2"})]})})]}),e.jsxs("header",{className:"border-border bg-card hidden h-16 items-center justify-between border-b px-6 md:flex",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("h2",{className:"text-foreground text-xl font-bold",children:t?t.charAt(0).toUpperCase()+t.slice(1):"Dashboard"})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{className:"hover:bg-muted relative rounded-full p-2 transition-colors",children:[e.jsx(Oe,{className:"text-muted-foreground h-5 w-5"}),e.jsx("span",{className:"bg-destructive border-card absolute top-1 right-1 h-2 w-2 rounded-full border-2"})]}),e.jsx("div",{className:"border-border bg-card flex items-center gap-3 rounded-full border px-4 py-2",children:e.jsx("span",{className:"text-foreground text-sm font-bold",children:s==null?void 0:s.name})})]})]}),e.jsx("main",{className:"flex-1",children:a})]}),g&&e.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 md:hidden",onClick:()=>d(!1)})]})})}function yt({user:s,paidCategories:a,unpaidCategories:t,activeCategory:r,categoryData:l,payments:g,activeSection:d="profile",isFreeAccess:i=!1,freeAccessDays:m=30}){const v=a==null?void 0:a.find(x=>x.category===r),j=()=>{if(!r)return e.jsx($e,{categoryData:l});switch(r){case"artisans":return e.jsx(Ts,{activeSection:d,profile:l==null?void 0:l.profile});case"marketplace":return e.jsx(aa,{activeTab:d||"store",data:l,isFreeAccess:i});case"hotels":return e.jsx(Ws,{activeSection:d,profile:l==null?void 0:l.profile});case"transport":return e.jsx(ha,{activeSection:d,profile:l==null?void 0:l.profile});case"rentals":return e.jsx(na,{activeTab:d,data:l});case"jobs":return e.jsx(Qs,{activeTab:d,data:l});default:return e.jsx($e,{categoryData:l})}};return e.jsxs(xa,{user:s,activeCategory:r,activeSection:d,categoryData:l,children:[e.jsx(ts,{title:`Dashboard - ${r?r.charAt(0).toUpperCase()+r.slice(1):"2RBUAME"}`}),e.jsxs("div",{className:"mx-auto w-full max-w-[1400px] p-4 md:p-6 lg:p-8",children:[e.jsx(Vs,{paidCategories:a,activeCategory:r,unpaidCategories:t,isFreeAccess:i,freeAccessDays:m}),e.jsx(oa,{subscription:v,category:r,isFreeAccess:i,freeAccessDays:m}),j()]})]})}export{yt as default};
